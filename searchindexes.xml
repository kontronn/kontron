<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<search>
  
  <entry>
    <title>PCBçº¿è·¯è®¾è®¡åˆ¶ä½œæœ¯è¯­</title>
    <url>/post/hardware/terminology-of-PCB-circuit-design-and-fabrication.html</url>
    <categories><category>Hardware</category>
    </categories>
    <tags>
      <tag>PCB</tag>
      <tag>Layout</tag>
    </tags>
    <content type="html"><![CDATA[æœ¬æ–‡è®²è§£äº†PCBçº¿è·¯è®¾è®¡åˆ¶ä½œæœ¯è¯­ã€‚
1ã€Annular Ring å­”ç¯
æŒ‡ç»•æ¥é€šå­”å£å¤–å¹³è´´åœ¨æ¿é¢ä¸Šçš„é“œç¯è€Œè¨€ã€‚åœ¨å†…å±‚æ¿ä¸Šæ­¤å­”ç¯å¸¸ä»¥åå­—æ¡¥ä¸å¤–é¢å¤§åœ°ç›¸è¿ï¼Œä¸”æ›´å¸¸å½“æˆçº¿è·¯çš„ç«¯ç‚¹æˆ–è¿‡ç«™ã€‚åœ¨å¤–å±‚æ¿ä¸Šé™¤äº†å½“æˆçº¿è·¯çš„è¿‡ç«™ä¹‹å¤–ï¼Œä¹Ÿå¯å½“æˆé›¶ä»¶è„šæ’ç„Šç”¨çš„ç„Šå«ã€‚ä¸æ­¤å­—åŒä¹‰çš„å°šæœ‰ Pad(é…åœˆ)ã€ Land (ç‹¬ç«‹ç‚¹)ç­‰ã€‚
2ã€Artwork åº•ç‰‡
åœ¨ç”µè·¯æ¿å·¥ä¸šä¸­ï¼Œæ­¤å­—å¸¸æŒ‡çš„æ˜¯é»‘ç™½åº•ç‰‡è€Œè¨€ã€‚è‡³äºæ£•è‰²çš„â€œå¶æ°®ç‰‡â€(Diazo Film)åˆ™å¦ç”¨ Phototool ä»¥åä¹‹ã€‚PCB æ‰€ç”¨çš„åº•ç‰‡å¯åˆ†ä¸ºâ€œåŸå§‹åº•ç‰‡â€Master Artwork ä»¥åŠç¿»ç…§åçš„â€œå·¥ä½œåº•ç‰‡â€Working Artwork ç­‰ã€‚
3ã€Basic Grid åŸºæœ¬æ–¹æ ¼
æŒ‡ç”µè·¯æ¿åœ¨è®¾è®¡æ—¶ï¼Œå…¶å¯¼ä½“å¸ƒå±€å®šä½æ‰€ç€è½çš„çºµæ¨ªæ ¼å­ã€‚æ—©æœŸçš„æ ¼è·ä¸º 100 milï¼Œç›®å‰ç”±äºç»†çº¿å¯†çº¿çš„ç››è¡Œï¼ŒåŸºæœ¬æ ¼è·å·²å†ç¼©å°åˆ° 50 milã€‚
4ã€Blind Via Hole ç›²å¯¼å­”
æŒ‡å¤æ‚çš„å¤šå±‚æ¿ä¸­ï¼Œéƒ¨ä»½å¯¼é€šå­”å› åªéœ€æŸå‡ å±‚ä¹‹äº’è¿ï¼Œæ•…åˆ»æ„ä¸å®Œå…¨é’»é€ï¼Œè‹¥å…¶ä¸­æœ‰ä¸€å­”å£æ˜¯è¿æ¥åœ¨å¤–å±‚æ¿çš„å­”ç¯ä¸Šï¼Œè¿™ç§å¦‚æ¯çŠ¶æ­»èƒ¡åŒçš„ç‰¹æ®Šå­”ï¼Œç§°ä¹‹ä¸ºâ€œç›²å­”â€(Blind Hole)ã€‚
5ã€Block Diagram ç”µè·¯ç³»ç»Ÿå—å›¾
å°†ç»„è£…æ¿åŠæ‰€éœ€çš„å„ç§é›¶ç»„ä»¶ï¼Œåœ¨è®¾è®¡å›¾ä¸Šä»¥æ­£æ–¹æˆ–é•¿æ–¹å½¢çš„ç©ºæ¡†åŠ ä»¥æ¡†å‡ºï¼Œ ä¸”ç”¨å„ç§ç”µæ€§ç¬¦å·ï¼Œå¯¹å…¶å„æ¡†çš„å…³ç³»é€ä¸€è”ç»œï¼Œä½¿ç»„æˆæœ‰ç³»ç»Ÿçš„æ¶æ„å›¾ã€‚
6ã€Bomb Sight å¼¹æ ‡
åŸæŒ‡è½°ç‚¸æœºæŠ•å¼¹çš„ç„å‡†å¹•ã€‚PCB åœ¨åº•ç‰‡åˆ¶ä½œæ—¶ï¼Œä¸ºå¯¹å‡†èµ·è§ä¹Ÿåœ¨å„è§’è½è®¾ç½®è¿™ç§ä¸Šä¸‹ä¸¤å±‚å¯¹å‡†ç”¨çš„é¶æ ‡ï¼Œå…¶æ›´ç²¾ç¡®ä¹‹æ­£å¼åç§°åº”å«åšPhotographers'ã€€Targetã€‚
7ã€Break-away panel å¯æ–­å¼€æ¿
æŒ‡è®¸å¤šé¢ç§¯è¾ƒå°çš„ç”µè·¯æ¿ï¼Œä¸ºäº†åœ¨ä¸‹æ¸¸è£…é…çº¿ä¸Šçš„æ’ä»¶ã€æ”¾ä»¶ã€ç„Šæ¥ç­‰ä½œä¸šçš„æ–¹ä¾¿èµ·è§ï¼Œåœ¨ PCB åˆ¶ç¨‹ä¸­ï¼Œç‰¹å°†ä¹‹å¹¶åˆåœ¨ä¸€ä¸ªå¤§æ¿ä¸Šï¼Œä»¥è¿›è¡Œå„ç§åŠ å·¥ã€‚å®Œå·¥æ—¶å†ä»¥è·³åˆ€æ–¹å¼ï¼Œåœ¨å„ç‹¬ç«‹å°æ¿ä¹‹é—´è¿›è¡Œå±€éƒ¨åˆ‡å¤–å½¢(Routing)æ–­å¼€ï¼Œä½†å´ä¿ç•™è¶³å¤Ÿå¼ºåº¦çš„æ•°æšâ€œè¿ç‰‡â€(Tie Bar æˆ–Break-away Tab)ï¼Œä¸”åœ¨è¿ç‰‡ä¸æ¿è¾¹é—´å†è¿é’»å‡ ä¸ªå°å­”ï¼›æˆ–ä¸Šä¸‹å„åˆ‡ V å½¢æ§½å£ï¼Œä»¥åˆ©ç»„è£…åˆ¶ç¨‹å®Œæ¯•åï¼Œè¿˜èƒ½å°†å„æ¿æŠ˜æ–­åˆ†å¼€ã€‚è¿™ç§å°æ¿å­è”åˆç»„è£…æ–¹å¼ï¼Œå°†æ¥ä¼šæ„ˆæ¥æ„ˆå¤šï¼Œ ICå¡å³æ˜¯ä¸€ä¾‹ã€‚
8ã€Buried Via Hole åŸ‹å¯¼å­”
æŒ‡å¤šå±‚æ¿ä¹‹å±€éƒ¨å¯¼é€šå­”ï¼Œå½“å…¶åŸ‹åœ¨å¤šå±‚æ¿å†…éƒ¨å±‚é—´æˆä¸ºâ€œå†…é€šå­”â€ï¼Œä¸”æœªä¸å¤–å±‚æ¿â€œè¿é€šâ€è€…ï¼Œç§°ä¸ºåŸ‹å¯¼å­”æˆ–ç®€ç§°åŸ‹å­”ã€‚
9ã€Bus Bar æ±‡ç”µæ†
å¤šæŒ‡ç”µé•€æ§½ä¸Šçš„é˜´ææˆ–é˜³ææ†æœ¬èº«ï¼Œæˆ–å…¶è¿æ¥ä¹‹ç”µç¼†è€Œè¨€ã€‚å¦åœ¨â€œåˆ¶ç¨‹ä¸­â€çš„ç”µè·¯æ¿ï¼Œå…¶é‡‘æ‰‹æŒ‡å¤–ç¼˜æ¥è¿‘æ¿è¾¹å¤„ï¼ŒåŸæœ‰ä¸€æ¡è¿é€šç”¨çš„å¯¼çº¿(é•€é‡‘æ“ä½œæ—¶é¡»è¢«é®ç›–)ï¼Œå†å¦ä»¥ä¸€å°çª„ç‰‡(çš†ä¸ºèŠ‚çœé‡‘é‡æ•…éœ€å°½é‡å‡å°å…¶é¢ç§¯)ä¸å„æ‰‹æŒ‡ç›¸è¿ï¼Œæ­¤ç§å¯¼ç”µç”¨çš„è¿çº¿äº¦ç§° Bus Barã€‚è€Œåœ¨å„å•ç‹¬æ‰‹æŒ‡ä¸ Bus Bar ç›¸è¿ä¹‹å°ç‰‡åˆ™ç§°Shooting Barã€‚åœ¨æ¿å­å®Œæˆåˆ‡å¤–å½¢æ—¶ï¼ŒäºŒè€…éƒ½ä¼šä¸€å¹¶åˆ‡æ‰ã€‚
10ã€CADç”µè„‘è¾…åŠ©è®¾è®¡
Computer Aided Designï¼Œæ˜¯åˆ©ç”¨ç‰¹æ®Šè½¯ä½“åŠç¡¬ä½“ï¼Œå¯¹ç”µè·¯æ¿ä»¥æ•°ä½åŒ–è¿›è¡Œå¸ƒå±€(Layout)ï¼Œå¹¶ä»¥å…‰å­¦ç»˜å›¾æœºå°†æ•°ä½èµ„æ–™è½¬åˆ¶æˆåŸå§‹åº•ç‰‡ã€‚æ­¤ç§ CADå¯¹ç”µè·¯æ¿çš„åˆ¶å‰å·¥ç¨‹ï¼Œè¿œæ¯”äººå·¥æ–¹å¼æ›´ä¸ºç²¾ç¡®åŠæ–¹ä¾¿ã€‚
11ã€Center-to-Center Spacing ä¸­å¿ƒé—´è·
æŒ‡æ¿é¢ä¸Šä»»ä½•ä¸¤å¯¼ä½“å…¶ä¸­å¿ƒåˆ°ä¸­å¿ƒçš„æ ‡ç¤ºè·ç¦»(Nominal Distance)è€Œè¨€ã€‚è‹¥è¿ç»­æ’åˆ—çš„å„å¯¼ä½“ï¼Œè€Œå„è‡ªå®½åº¦åŠé—´è·åˆéƒ½ç›¸åŒæ—¶(å¦‚é‡‘æ‰‹æŒ‡çš„æ’åˆ—)ï¼Œåˆ™æ­¤â€œä¸­å¿ƒåˆ°ä¸­å¿ƒçš„é—´è·â€åˆç§°ä¸ºèŠ‚è·(Pitch)ã€‚
12ã€Clearance ä½™åœ°ã€ä½™éš™ã€ç©ºç¯
æŒ‡å¤šå±‚æ¿ä¹‹å„å†…å±‚ä¸Šï¼Œè‹¥ä¸æ¬²å…¶å¯¼ä½“é¢ä¸é€šå­”ä¹‹å­”å£è¿é€šæ—¶ï¼Œåˆ™å¯å°†é€šå­”å‘¨å›´çš„é“œç®”èš€æ‰è€Œå½¢æˆç©ºç¯ï¼Œç‰¹ç§°ä¸ºâ€œç©ºç¯â€ã€‚åˆå¤–å±‚æ¿é¢ä¸Šæ‰€å°çš„ç»¿æ¼†ä¸å„å­”ç¯ä¹‹é—´çš„è·ç¦»ä¹Ÿç§°ä¸º Clearance ã€‚ä¸è¿‡ç”±äºç›®å‰æ¿é¢çº¿è·¯å¯†åº¦æ„ˆæ¸æé«˜ï¼Œä½¿å¾—è¿™ç§ç»¿æ¼†åŸæœ‰çš„ä½™åœ°ä¹Ÿè¢«ç´§é€¼åˆ°å‡ è¿‘äºæ— äº†ã€‚
13ã€Component Hole é›¶ä»¶å­”
æŒ‡æ¿å­ä¸Šé›¶ä»¶è„šæ’è£…çš„é€šå­”ï¼Œè¿™ç§è„šå­”çš„å­”å¾„å¹³å‡åœ¨ 40 mil å·¦å³ã€‚ç°åœ¨SMTç››è¡Œä¹‹åï¼Œå¤§å­”å¾„çš„æ’å­”å·²é€æ¸å‡å°‘ï¼Œåªå‰©ä¸‹å°‘æ•°è¿æ¥å™¨çš„é‡‘é’ˆå­”è¿˜éœ€è¦æ’ç„Šï¼Œå…¶ä½™å¤šæ•° SMD é›¶ä»¶éƒ½å·²æ”¹é‡‡è¡¨é¢ç²˜è£…äº†ã€‚
14ã€Component Side ç»„ä»¶é¢
æ—©æœŸåœ¨ç”µè·¯æ¿å…¨é‡‡é€šå­”æ’è£…çš„æ—¶ä»£ï¼Œé›¶ä»¶ä¸€å®šæ˜¯è¦è£…åœ¨æ¿å­çš„æ­£é¢ï¼Œæ•…åˆç§°å…¶æ­£é¢ä¸ºâ€œç»„ä»¶é¢â€ã€‚æ¿å­çš„åé¢å› åªä¾›æ³¢ç„Šçš„é”¡æ³¢é€šè¿‡ï¼Œæ•…åˆç§°ä¸ºâ€œç„Šé”¡é¢â€(Soldering Side) ã€‚ç›®å‰ SMT çš„æ¿ç±»ä¸¤é¢éƒ½è¦ç²˜è£…é›¶ä»¶ï¼Œæ•…å·²æ— æ‰€è°“â€œç»„ä»¶é¢â€œæˆ–â€œç„Šé”¡é¢â€äº†ï¼Œåªèƒ½ç§°ä¸ºæ­£é¢æˆ–åé¢ã€‚é€šå¸¸æ­£é¢ä¼šå°æœ‰è¯¥ç”µå­æœºå™¨çš„åˆ¶é€ å‚å•†åç§°ï¼Œè€Œç”µè·¯æ¿åˆ¶é€ å‚çš„ UL ä»£å­—ä¸ç”Ÿäº§æ—¥æœŸï¼Œåˆ™å¯åŠ åœ¨æ¿å­çš„åé¢ã€‚
15ã€Conductor Spacing å¯¼ä½“é—´è·
æŒ‡ç”µè·¯æ¿é¢çš„æŸä¸€å¯¼ä½“ï¼Œè‡ªå…¶è¾¹ç¼˜åˆ°å¦ä¸€æœ€è¿‘å¯¼ä½“çš„è¾¹ç¼˜ï¼Œå…¶é—´æ‰€æ¶µç›–ç»ç¼˜åº•æé¢çš„è·¨è·ï¼Œå³è°“ä¹‹å¯¼ä½“é—´è·ï¼Œæˆ–ä¿—ç§°ä¸ºé—´è·ã€‚åˆï¼ŒConductor æ˜¯ç”µè·¯æ¿ä¸Šå„ç§å½¢å¼é‡‘å±å¯¼ä½“çš„æ³›ç§°ã€‚
16ã€Contact Area æ¥è§¦ç”µé˜»
åœ¨ç”µè·¯æ¿ä¸Šæ˜¯ä¸“æŒ‡é‡‘æ‰‹æŒ‡ä¸è¿æ¥å™¨ä¹‹æ¥è§¦ç‚¹ï¼Œå½“ç”µæµé€šè¿‡æ—¶æ‰€å‘ˆç°çš„ç”µé˜»ä¹‹è°“ã€‚ä¸ºäº†å‡å°‘é‡‘å±è¡¨é¢æ°§åŒ–ç‰©çš„ç”Ÿæˆï¼Œé€šå¸¸é˜³æ€§çš„é‡‘æ‰‹æŒ‡éƒ¨ä»½ï¼ŒåŠè¿æ¥å™¨çš„é˜´æ€§å¡å¤¹å­çš†éœ€é•€ä»¥é‡‘å±ï¼Œä»¥æŠ‘æŠµå…¶â€œæ¥è½½ç”µé˜»â€çš„å‘ç”Ÿã€‚å…¶ä»–ç”µå™¨å“çš„æ’å¤´æŒ¤å…¥æ’åº§ä¸­ï¼Œæˆ–å¯¼é’ˆä¸å…¶æ¥åº§é—´ä¹Ÿéƒ½æœ‰æ¥è§¦ç”µé˜»å­˜åœ¨ã€‚
17ã€Corner Mark æ¿è§’æ ‡è®°
ç”µè·¯æ¿åº•ç‰‡ä¸Šï¼Œå¸¸åœ¨å››ä¸ªè§’è½å¤„ç•™ä¸‹ç‰¹æ®Šçš„æ ‡è®°åšä¸ºæ¿å­çš„å®é™…è¾¹ç•Œã€‚è‹¥å°†æ­¤ç­‰æ ‡è®°çš„å†…ç¼˜è¿çº¿ï¼Œå³ä¸ºå®Œå·¥æ¿è½®å»“å¤–å›´(Contour)çš„ç•Œçº¿ã€‚
18ã€Counterboring å®šæ·±æ‰©å­”ï¼ŒåŸ‹å¤´å­”
ç”µè·¯æ¿å¯ç”¨èºä¸é”ç´§å›ºå®šåœ¨æœºå™¨ä¸­ï¼Œè¿™ç§åŒ¹é…çš„éå¯¼é€šå­”(NPTH)ï¼Œå…¶å­”å£é¡»åšå¯å®¹çº³èºå¸½çš„â€œæ‰©å­”â€ï¼Œä½¿æ•´ä¸ªèºä¸èƒ½æ²‰å…¥åŸ‹å…¥æ¿é¢å†…ï¼Œä»¥å‡å°‘åœ¨å¤–è¡¨æ‰€é€ æˆçš„å¦¨ç¢ã€‚
19ã€Crosshatching åå­—äº¤å‰åŒº
ç”µè·¯æ¿é¢ä¸ŠæŸäº›å¤§é¢ç§¯å¯¼ä½“åŒºï¼Œä¸ºäº†ä¸æ¿é¢åŠç»¿æ¼†ä¹‹é—´éƒ½å¾—åˆ°æ›´å¥½çš„é™„ç€åŠ›èµ·è§ï¼Œå¸¸å°†æ„Ÿéƒ¨ä»½é“œé¢è½¬æ‰ï¼Œè€Œç•™ä¸‹å¤šæ¡çºµæ¨ªäº¤å‰çš„åå­—çº¿ï¼Œå¦‚ç½‘çƒæ‹çš„ç»“æ„ä¸€æ ·ï¼Œå¦‚æ­¤å°†å¯åŒ–è§£æ‰å¤§é¢ç§¯é“œç®”ï¼Œå› çƒ­è†¨èƒ€è€Œå­˜åœ¨çš„æµ®ç¦»å±æœºã€‚å…¶èš€åˆ»æ‰€å¾—åå­—å›¾å½¢ç§°ä¸º Crosshatchï¼Œè€Œè¿™ç§æ”¹å–„çš„åšæ³•åˆ™ç§°ä¸º Crosshatchingã€‚
20ã€Countersinking é”¥å‹æ‰©å­”ï¼Œå–‡å­å­”
æ˜¯å¦ä¸€ç§é”ç´§ç”¨çš„èºä¸å­”ï¼Œå¤šç”¨åœ¨æœ¨å·¥å®¶ä¿±ä¸Šï¼Œè¾ƒå°‘å‡ºç°ç²¾å¯†ç”µå­å·¥ä¸šä¸­ã€‚
21ã€Crossection Area æˆªé¢ç§¯
ç”µè·¯æ¿ä¸Šçº¿è·¯æˆªé¢ç§¯çš„å¤§å°ï¼Œä¼šç›´æ¥å½±å“å…¶è½½æµèƒ½åŠ›ï¼Œæ•…è®¾è®¡æ—¶å³åº”é¦–å…ˆåˆ—å…¥è§ï¼Œå¸¸å°†æ„Ÿéƒ¨ä»½é“œé¢è½¬æ‰ï¼Œè€Œç•™ä¸‹å¤šæ¡çºµæ¨ªäº¤å‰çš„åå­—çº¿ï¼Œå¦‚ç½‘çƒæ‹çš„ç»“æ„ä¸€æ ·ï¼Œå¦‚æ­¤å°†å¯åŒ–è§£æ‰å¤§é¢ç§¯é“œç®”ï¼Œå› çƒ­è†¨èƒ€è€Œå­˜åœ¨çš„æµ®ç¦»å±æœºã€‚å…¶èš€åˆ»æ‰€å¾—åå­—å›¾å½¢ç§°ä¸º Crosshatchï¼Œè€Œè¿™ç§æ”¹å–„çš„åšæ³•åˆ™ç§°ä¸º Crosshatchingã€‚
22ã€Current-Carrying Capability è½½æµèƒ½åŠ›
æŒ‡æ¿å­ä¸Šçš„å¯¼çº¿ï¼Œåœ¨æŒ‡å®šçš„æƒ…å†µä¸‹èƒ½å¤Ÿè¿ç»­é€šè¿‡æœ€å¤§çš„ç”µæµå¼ºåº¦(å®‰åŸ¹)ï¼Œè€Œå°šä¸è‡´å¼•èµ·ç”µè·¯æ¿åœ¨ç”µæ€§åŠæœºæ¢°æ€§è´¨ä¸Šçš„åŠ£åŒ– (Degradation)ï¼Œæ­¤æœ€å¤§ç”µæµçš„å®‰åŸ¹æ•°ï¼Œå³ä¸ºè¯¥çº¿è·¯çš„â€œè½½æµèƒ½åŠ›â€ã€‚
23ã€Datum Reference åŸºå‡†å‚è€ƒ
åœ¨ PCB åˆ¶é€ åŠæ£€éªŒçš„è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†èƒ½å°†åº•ç‰‡å›¾å½¢åœ¨æ¿é¢ä¸Šå¾—ä»¥æ­£ç¡®å®šä½èµ·è§,ç‰¹é€‰å®šæŸä¸€ç‚¹ã€çº¿,æˆ–å­”é¢åšä¸ºå…¶å›¾å½¢çš„åŸºå‡†å‚è€ƒï¼Œç§°ä¸º Datum Pointï¼ŒDatum Lineï¼Œæˆ–ç§° Datum Level(Plane)ï¼Œäº¦ç§° Datum Holeã€‚
24ã€Dummy Land å‡ç„Šå«
ç»„è£…æ—¶ä¸ºäº†ç‰µå°±æ—¢æœ‰é›¶ä»¶çš„é«˜åº¦ï¼ŒæŸäº›é›¶ä»¶è‚šå­ä¸‹çš„æ¿é¢éœ€åŠ ä»¥å«é«˜ï¼Œä½¿ç‚¹èƒ¶èƒ½æ‹¥æœ‰æ›´å¥½çš„æ¥ç€åŠ›ï¼Œä¸€èˆ¬å¯åˆ©ç”¨ç”µè·¯æ¿çš„èš€åˆ»æŠ€æœ¯ï¼Œåˆ»æ„åœ¨è¯¥å¤„ç•™ä¸‹ä¸æ¥è„šä¸é€šç”µè€Œåªåšå«é«˜ç”¨çš„â€œå‡é“œå«â€ï¼Œè°“ä¹‹ Dummy Landã€‚ä¸è¿‡æœ‰æ—¶æ¿é¢ä¸Šå› è®¾è®¡ä¸è‰¯ï¼Œä¼šå‡ºç°å¤§é¢ç§¯æ— é“œå±‚çš„åº•æé¢ï¼Œåˆ†å¸ƒç€å°‘è®¸çš„é€šå­”æˆ–çº¿è·¯ã€‚ä¸ºäº†é¿å…è¯¥ç­‰ç‹¬ç«‹å¯¼ä½“åœ¨é•€é“œæ—¶è¿‡åº¦çš„ç”µæµé›†ä¸­ï¼Œè€Œå‘ç”Ÿå„ç§ç¼ºå¤±èµ·è§ï¼Œä¹Ÿå¯å¢åŠ ä¸€äº›æ— åŠŸèƒ½çš„å‡å«æˆ–å‡çº¿ï¼Œåœ¨ç”µé•€æ—¶åˆ†æ‘Šæ‰ä¸€äº›ç”µæµï¼Œè®©å°‘è®¸ç‹¬ç«‹å¯¼ä½“çš„ç”µæµå¯†åº¦ä¸è‡³å¤ªé«˜ï¼Œè¿™äº›é“œé¢äº¦ç§°ä¸º Dummy Conductorsã€‚
25ã€Edge Spacingæ¿è¾¹ç©ºåœ°
æŒ‡ç”±æ¿è¾¹åˆ°è·å…¶â€œæœ€è¿‘å¯¼ä½“çº¿è·¯â€ä¹‹é—´çš„ç©ºåœ°ï¼Œæ­¤æ®µç©ºåœ°çš„ç›®çš„æ˜¯åœ¨é¿å…å› å¯¼ä½“å¤ªé è¿‘æ¿è¾¹ï¼Œè€Œå¯èƒ½ä¸æœºå™¨å…¶ä»–éƒ¨ä»½å‘ç”ŸçŸ­è·¯çš„é—®é¢˜ï¼Œç¾å›½ULä¹‹å®‰å…¨è®¤è¯ï¼Œå¯¹æ­¤é¡¹ç›®ç‰¹åˆ«è®²ç©¶ã€‚ä¸€èˆ¬æ¿æä¹‹ç™½è¾¹åˆ†å±‚ç­‰ç¼ºç‚¹ä¸å¯æ¸—å…¥æ­¤â€œè¾¹åœ°â€å®½åº¦çš„ä¸€åŠã€‚
26ã€Edge-Board contactæ¿è¾¹é‡‘æ‰‹æŒ‡
æ˜¯æ•´ç‰‡æ¿å­å¯¹å¤–è”ç»œçš„å‡ºå£ï¼Œé€šå¸¸å¤šè®¾æ¿è¾¹ä¸Šä¸‹å¯¹ç§°çš„ä¸¤é¢ä¸Šï¼Œå¯æ’æ¥äºæ‰€åŒ¹é…çš„æ¿è¾¹è¿æ¥å™¨ä¸­ã€‚
27ã€Fan Out Wiringï¼Fan in Wiringæ‰‡å‡ºå¸ƒçº¿ï¼æ‰‡å…¥å¸ƒçº¿
æŒ‡QFPå››å‘¨ç„Šå«æ‰€å¼•å‡ºçš„çº¿è·¯ä¸é€šå­”ç­‰å¯¼ä½“ï¼Œä½¿ç„Šå¦¥é›¶ä»¶èƒ½ä¸ç”µè·¯æ¿å®Œæˆäº’è¿çš„å·¥ä½œã€‚ç”±äºçŸ©å½¢ç„Šå«æ’åˆ—éå¸¸ç´§å¯†ï¼Œæ•…å…¶å¯¹å¤–è”ç»œå¿…é¡»åˆ©ç”¨çŸ©å«æ–¹åœˆå†…æˆ–çŸ©å«æ–¹åœˆå¤–çš„ç©ºåœ°ï¼Œä»¥æ‰‡å½¢æ–¹å¼å¸ƒçº¿ï¼Œè°“ä¹‹â€œæ‰‡å‡ºâ€æˆ–â€œæ‰‡å…¥â€ã€‚æ›´è½»è–„çŸ­å°çš„å¯†é›†PCBï¼Œå¯åœ¨å¤–å±‚å¤šå®‰ç½®ä¸€äº›ç„Šå«ä»¥æ‰¿æ¥è¾ƒå¤šé›¶ä»¶ï¼Œè€Œå°†äº’è¿æ‰€éœ€çš„å¸ƒçº¿è—åˆ°ä¸‹ä¸€å±‚å»ã€‚å…¶ä¸åŒå±‚æ¬¡é—´ç„Šå«ä¸å¼•çº¿çš„è¡”æ¥ï¼Œæ˜¯ä»¥å«å†…çš„ç›²å­”ç›´æ¥è¿é€šï¼Œæ— é¡»å†åšæ‰‡å‡ºæ‰‡å…¥å¼å¸ƒçº¿ï¼Œç›®å‰è®¸å¤šé«˜åŠŸèƒ½å°å‹æ— çº¿ç”µè¯çš„æ‰‹æœºæ¿ï¼Œå³é‡‡æ­¤ç§æ–°å¼çš„å å±‚ä¸å¸ƒçº¿æ³•ã€‚
28ã€Fiducial Mark å…‰å­¦é¶æ ‡ï¼ŒåŸºå‡†è®¯å·
åœ¨æ¿é¢ä¸Šä¸ºäº†ä¸‹æ¸¸ç»„è£…ï¼Œæ–¹ä¾¿å…¶è§†è§‰è¾…åŠ©ç³»ç»Ÿä½œä¸šèµ·è§ï¼Œå¸¸å¤§å‹ICäºæ¿é¢ç»„è£…ä½ç½®å„ç„Šå«å¤–ç¼˜çš„ç©ºåœ°ä¸Šï¼Œåœ¨å…¶å³ä¸ŠåŠå·¦ä¸‹å„åŠ ä¸€ä¸ªä¸‰è§’çš„â€œå…‰å­¦é¶æ ‡â€ï¼Œä»¥ååŠ©æ”¾ç½®æœºè¿›è¡Œå…‰å­¦å®šä½ï¼Œä¾¿æ˜¯ä¸€ä¾‹ã€‚è€ŒPCBåˆ¶ç¨‹ä¸ºäº†åº•ç‰‡ä¸æ¿é¢åœ¨æ–¹ä½ä¸Šçš„å¯¹å‡†ï¼Œä¹Ÿå¸¸åŠ æœ‰ä¸¤æšä»¥ä¸Šçš„åŸºå‡†è®°å·ã€‚
29ã€Filletå†…åœ†å¡«è§’
æŒ‡ä¸¤å¹³é¢æˆ–ä¸¤ç›´çº¿ï¼Œåœ¨å…¶å‚ç›´äº¤ç‚¹å¤„æ‰€è¡¥å¡«çš„å¼§å½¢ç‰©è€Œè¨€ã€‚åœ¨ç”µè·¯æ¿ä¸­å¸¸æŒ‡é›¶ä»¶å¼•è„šä¹‹ç„Šç‚¹ï¼Œæˆ–æ¿é¢Tå½¢æˆ–Lå½¢çº¿è·¯å…¶äº¤ç‚¹ç­‰ä¹‹å†…åœ†å¡«è¡¥ï¼Œä»¥å¢å¼ºè¯¥å¤„çš„æœºæ¢°å¼ºåŠç”µæµæµé€šçš„æ–¹ä¾¿ã€‚
30ã€Film åº•ç‰‡
æŒ‡å·²æœ‰çº¿è·¯å›¾å½¢çš„è½¯ç‰‡è€Œè¨€ã€‚é€šå¸¸åšåº¦æœ‰7milåŠ4milä¸¤ç§ï¼Œå…¶æ„Ÿå…‰çš„è¯è†œæœ‰é»‘ç™½çš„å¤åŒ–é“¶ï¼ŒåŠæ£•è‰²æˆ–å…¶ä»–é¢œè‰²çš„å¶æ°®åŒ–åˆç‰©ï¼Œæ­¤è¯äº¦ç§°ä¸ºArtworkã€‚
31ã€Fine Line ç»†çº¿
æŒ‰ç›®å‰çš„æŠ€æœ¯æ°´å‡†ï¼Œå­”é—´å››æ¡çº¿æˆ–å¹³å‡çº¿å®½åœ¨5ï½6milä»¥ä¸‹è€…ï¼Œç§°ä¸ºç»†çº¿ã€‚
32ã€Fine Pitchå¯†è„šè·ï¼Œå¯†çº¿è·ï¼Œå¯†å«è·
å‡¡è„šè·(Lead Pitch)ç­‰äºæˆ–å°äº 0.635mm(25mil)è€…ï¼Œç§°ä¸ºå¯†è·ã€‚
33ã€Finger æ‰‹æŒ‡ï¼ˆæ¿è¾¹è¿ç»­æ’åˆ—æ¥ç‚¹ï¼‰
åœ¨ç”µè·¯æ¿ä¸Šä¸ºèƒ½ä½¿æ•´ç‰‡ç»„è£…æ¿çš„åŠŸèƒ½å¾—ä»¥å¯¹å¤–è”ç»œèµ·è§ï¼Œå¯é‡‡ç”¨æ¿è¾¹â€œé˜³å¼â€œçš„é•€é‡‘è¿ç»­æ¥ç‚¹ï¼Œä»¥æ’å¤¹åœ¨å¦ä¸€ç³»ç»Ÿâ€é˜´å¼â€œè¿ç»­çš„æ‰¿æ¥å™¨ä¸Šï¼Œä½¿èƒ½è¾¾åˆ°ç³»ç»Ÿé—´ç›¸äº’è¿é€šçš„ç›®çš„ã€‚Fingerçš„æ­£å¼åç§°æ˜¯â€œEdge-Board Contact&quot;ã€‚
34ã€Finishing ç»ˆé¥°ã€ç»ˆä¿®
æŒ‡å„ç§åˆ¶æˆå“åœ¨å¤–è§‚ä¸Šçš„æœ€åä¿®é¥°æˆ–ä¿®æ•´å·¥ä½œï¼Œä½¿äº§å“æ›´å…·ç¾è§‚ã€ä¿æŠ¤ï¼ŒåŠè´¨æ„Ÿçš„ç›®çš„ã€‚Metal Finishingç‰¹æŒ‡é‡‘å±é›¶ä»¶æˆ–åˆ¶å“ï¼Œå…¶å¤–è¡¨ä¸Šä¸ºåŠ å¼ºé˜²èš€åŠŸèƒ½åŠè§‚è€Œç‰¹åˆ«åŠ åšçš„å¤„ç†å±‚è€Œè¨€ï¼Œå¦‚å„ç§ç”µé•€å±‚ã€é˜³æå¤„ç†çš®è†œã€æœ‰æœºç‰©æˆ–æ— æœºç‰©ä¹‹æ¶‚è£…ç­‰ï¼Œçš†å±ä¹‹ã€‚
35ã€Form-to-List å¸ƒçº¿è¯´æ˜æ¸…å•
æ˜¯ä¸€ç§æŒ‡ç¤ºå„ç§å¸ƒçº¿ä½“ç³»çš„ä¹¦é¢è¯´æ˜æ¸…å•ã€‚
36ã€Gerber Dateï¼ŒGerber File æ ¼åšæ¡£æ¡ˆ
æ˜¯ç¾å•† Gerber å…¬å¸ä¸“ä¸ºç”µè·¯æ¿é¢çº¿è·¯å›¾å½¢ä¸å­”ä½ï¼Œæ‰€å‘å±•ä¸€ç³»åˆ—å®Œæ•´çš„è½¯ä½“æ¡£æ¡ˆã€‚è®¾è®¡è€…æˆ–ä¹°æ¿å­çš„å…¬å¸ï¼Œå¯å°†æŸä¸€æ–™å·çš„å…¨éƒ¨å›¾å½¢èµ„æ–™è½¬å˜æˆ Gerber File(æ­£å¼å­¦åæ˜¯â€œRS 274 æ ¼å¼â€)ï¼Œç»ç”±Modem ç›´æ¥ä¼ é€åˆ° PCB åˆ¶é€ è€…æ‰‹ä¸­ï¼Œç„¶åä»å…¶è‡ªå¤‡çš„ CAM ä¸­è¾“å‡ºï¼Œå†é…åˆé›·å°„ç»˜å›¾æœº(Laser Plotter)çš„è¿ä½œä¸‹ï¼Œè€Œå¾—åˆ°é’»å­”ã€æµ‹è¯•ã€çº¿è·¯åº•ç‰‡ã€ç»¿æ¼†åº•ç‰‡â€¦ç”šè‡³ä¸‹æ¸¸ç»„è£…ç­‰å…·ä½“ä½œä¸šèµ„æ–™ï¼Œä½¿å¾— PCBåˆ¶é€ è€…å¯ç«‹å³ä»äº‹æ‰“æ ·æˆ–ç”Ÿäº§ï¼ŒèŠ‚çœè®¸å¤šæ²Ÿé€šåŠç­‰å¾…çš„æ—¶é—´ã€‚æ­¤ç§ç”µè·¯æ¿â€œåˆ¶å‰å·¥ç¨‹â€å„ç§èµ„æ–™çš„ç”µè„‘è½¯ä½“ï¼Œç›®å‰å…¨çƒä¸šç•Œä¸­çš†ä»¥ Gerber Fileä¸ºæ ‡å‡†ä½œä¸šã€‚æ­¤å¤–å°šæœ‰ IPC-D-350D å¦ä¸€å¥—è½¯ä½“çš„å¼€å‘ï¼Œä½†ç›®å‰ä»æœªè§å¹¿ç”¨ã€‚
37ã€Grid æ ‡å‡†æ ¼
æŒ‡ç”µè·¯æ¿å¸ƒçº¿å›¾å½¢æ—¶çš„åŸºæœ¬ç»çº¬æ–¹æ ¼è€Œè¨€ï¼Œæ—©æœŸé•¿å®½æ ¼è·å„ä¸º 100 milï¼Œé‚£æ˜¯ä»¥â€œç§¯ä½“ç”µè·¯â€(IC)å¼•è„šçš„è„šè·ä¸ºå‚è€ƒè€Œå®šçš„ï¼Œç›®å‰å¯†é›†ç»„è£…å·²ä½¿å¾—æ­¤ç§Grid å†é€¼è¿‘åˆ° 50 mil ç”šè‡³ 25 milã€‚åº§è½åœ¨æ ¼å­äº¤ç‚¹ä¸Šåˆ™ç§°ä¸º On Gridã€‚
38ã€Ground Plane Clearance æ¥åœ°ç©ºç¯
â€œç§¯ä½“ç”µè·¯å™¨â€ä¸ç®¡æ˜¯ä¼ ç»Ÿ IC æˆ–æ˜¯ VLSI ï¼Œå…¶æ¥åœ°è„šæˆ–ç”µå‹è„šï¼Œä¸å…¶æ¥åœ°å±‚(GND)æˆ–æ¥ç”µå‹å±‚(Vcc)çš„è„šå­”æ¥é€šåï¼Œå†ä»¥â€œä¸€å­—æ¡¥â€æˆ–â€œåå­—æ¡¥â€ä¸å¤–é¢çš„å¤§é“œé¢è¿›è¡Œäº’è¿ã€‚è‡³äºç©¿å±‚è€Œè¿‡å®Œå…¨ä¸æ¥å¤§é“œé¢çš„é€šå­”ï¼Œåˆ™å¿…é¡»å–æ¶ˆä»»ä½•æ¡¥æ¢è€Œä¸å¤–åœ°éš”ç»ã€‚åˆä¸ºäº†é¿å…å› å—çƒ­è€Œå˜å½¢èµ·è§ï¼Œé€šå­”ä¸å¤§é“œé¢ä¹‹é—´å¿…é¡»ç•™å‡ºè†¨èƒ€æ‰€éœ€çš„ä¼¸ç¼©ç©ºç¯(Clearance Ringï¼Œå³å›¾ä¸­ä¹‹ç™½ç¯)ã€‚å› è€Œå¯ä»å·²çŸ¥å¼•è„šæ‰€æ¥è¿çš„å±‚æ¬¡ï¼Œå³å¯åˆ¤æ–­å‡ºåˆ°åº•æ˜¯ GND æˆ– Vcc äº†ã€‚ä¸€èˆ¬é€šå­”åˆ¶ä½œè‹¥å„ç«™ç®¡ç†ä¸å–„çš„è¯ï¼Œå°†ä¼šå‘ç”Ÿâ€œç²‰çº¢åœˆâ€ï¼Œä½†æ­¤ç§ç²‰çº¢åœˆåªåº”å‡ºç°åœ¨ç©ºç¯(Clearance Ring)ä»¥å†…çš„å­”ç¯(Annular Ring)ä¸Šï¼Œè€Œä¸åº”è¯¥è¶Šè¿‡ç©ºç¯ä»»å‡­å…¶æ¸—é€åˆ°å¤§åœ°ä¸Šï¼Œé‚£æ ·å°±å¤ªè¿‡ä»½äº†ã€‚
39ã€Ground plane(or Earth Plane) æ¥åœ°å±‚
æ˜¯å±äºå¤šå±‚æ¿å†…å±‚çš„ä¸€ç§æ¿é¢ï¼Œé€šå¸¸å¤šå±‚æ¿çš„ä¸€å±‚çº¿è·¯å±‚ï¼Œéœ€è¦æ­é…ä¸€å±‚å¤§é“œé¢çš„æ¥åœ°å±‚ï¼Œä»¥å½“æˆä¼—å¤šé›¶ä»¶å…¬å…±å›è·¯çš„æ¥åœ°ã€é®è”½(Shielding) ã€ä»¥åŠæ•£çƒ­(Heatsinking)ä¹‹ç”¨ã€‚ä»¥ä¼ ç»Ÿ TTL é€»è¾‘åŒæ’è„šçš„ IC ä¸ºä¾‹ï¼Œä»å…¶æ­£é¢(èƒŒé¢)è§‚çœ‹æ—¶ï¼Œä»¥å…¶ä¸€ç«¯ä¹‹ç¼ºå£è®°å·æœä¸Šï¼Œå…¶å·¦è¾¹å³ä¸ºç¬¬ä¸€åªè„š(é€šå¸¸åœ¨ç¬¬ä¸€è„šæ—çš„æœ¬ä½“ä¹Ÿä¼šæ‰“ä¸Šä¸€ä¸ªå°å‡¹é™·æˆ–ç™½ç‚¹ä½œä¸ºè¯†åˆ«)ï¼ŒæŒ‰é¡ºåºæ•°åˆ°è¯¥æ’çš„æœ€åä¸€è„šå³ä¸ºâ€œæ¥åœ°è„šâ€ã€‚å†æŒ‰åæ—¶é’ˆæ–¹å‘æ•°åˆ°å¦ä¸€æ’æœ€åä¸€è„šï¼Œå°±æ˜¯è¦æ¥ç”µå‹å±‚(Power Plane)çš„å¼•è„šã€‚
40ã€Hole Density å­”æ•°å¯†åº¦
æŒ‡æ¿å­åœ¨å•ä½é¢ç§¯ä¸­æ‰€é’»çš„å­”æ•°è€Œè¨€ã€‚
41ã€Indexing Hole åŸºå‡†å­”ã€å‚è€ƒå­”
æŒ‡ç”µè·¯æ¿äºåˆ¶é€ ä¸­åœ¨æ¿è§’æˆ–æ¿è¾¹å…ˆè¡Œé’»å‡ºæŸäº›å·¥å…·å­”ï¼Œä»¥å½“æˆå…¶ä»–å½±åƒè½¬ç§»ã€é’»å­”ã€æˆ–åˆ‡å¤–å½¢ï¼Œä»¥åŠå‹åˆåˆ¶ç¨‹çš„åŸºæœ¬å‚è€ƒç‚¹ï¼Œç§°ä¸º Indexing Holeã€‚å…¶ä»–å°šæœ‰ Indexing Edgeã€Slotã€Notch ç­‰ç±»ä¼¼æœ¯è¯­ã€‚
42ã€Inspection Overlay å¥—æ£€åº•ç‰‡
æ˜¯é‡‡ç”¨åŠé€æ˜çš„çº¿è·¯é˜´ç‰‡æˆ–é˜³ç‰‡(å¦‚ Diazoä¹‹æ£•ç‰‡ã€ç»¿ç‰‡æˆ–è“ç‰‡ç­‰)ï¼Œå¯ç”¨ä»¥å¥—å‡†åœ¨æ¿é¢ä¸Šåšä¸ºå¯¹ç…§ç›®æ£€çš„å·¥å…·ï¼Œæ­¤æ³•å¯ç”¨äºâ€œé¦–æ‰¹è¯•äº§å“â€(First Article)ä¹‹ç›®æ£€ç”¨é€”ã€‚
43ã€Key é’¥æ§½ï¼Œç”µé”®
å‰è€…åœ¨ç”µè·¯æ¿ä¸Šæ˜¯æŒ‡é‡‘æ‰‹æŒ‡åŒºæŸä¸€ä½ç½®çš„å¼€æ§½ç¼ºå£ï¼Œç›®çš„æ˜¯ä¸ºäº†ä¸å¦ä¸€å…·é˜´æ€§è¿æ¥å™¨å¾—ä»¥åŒ¹é…ï¼Œåœ¨æ’æ¥æ—¶ä¸è‡´å¼„åçš„ä¸€ç§é˜²å‘†è®¾è®¡ï¼Œç§°ä¸º Keying Slotã€‚åè€…æ˜¯æŒ‡æœ‰å¼¹ç°§æ¥ç‚¹çš„å¯†å°è§¦æ§å¼æŒ‰é”®ï¼Œå¯åšä¸ºç”µè®¯çš„å¿«é€Ÿæ¥é€šåŠè·³å¼€ä¹‹ç”¨ã€‚
44ã€Land å­”ç¯ç„Šå«ã€è¡¨é¢(æ–¹å‹)ç„Šå«
æ—©æœŸå°šæœªæ¨å‡º SMT ä¹‹å‰ï¼Œä¼ ç»Ÿé›¶ä»¶ä»¥å…¶è„šæ’å­”ç„Šæ¥æ—¶ï¼Œå…¶å¤–å±‚æ¿é¢çš„å­”ç¯,é™¤é¡»åšä¸ºå¯¼ç”µäº’è¿ä¹‹ä¸­ç»§ç«™(Terminal)å¤–ï¼Œå°šå¯ä¸å¼•è„šå½¢æˆå¼ºå›ºçš„é”¥å½¢ç„Šç‚¹ã€‚åæ¥è¡¨é¢ç²˜è£…ç››è¡Œ,æ‰€æ”¹é‡‡çš„æ¿é¢æ–¹å‹ç„Šå«äº¦ç§°ä¸º Landã€‚æ­¤å­—ä¼¼å¯è¯‘ä¸ºâ€œç„Šç¯â€æˆ–â€œé…åœˆâ€æˆ–â€œç„Šå«â€ï¼Œä½†è‹¥è¯‘æˆâ€œå…°å²›â€æˆ–â€œé¸¡çœ¼â€åˆ™æœªå…å¤ªç¦»è°±äº†ã€‚
45ã€Landless Hole æ— ç¯é€šå­”
æŒ‡æŸäº›å¯†é›†ç»„è£…çš„æ¿å­ï¼Œç”±äºæ¿é¢éœ€å¸ƒç½®è®¸å¤šçº¿è·¯åŠç²˜è£…é›¶ä»¶çš„æ–¹å‹ç„Šå«ï¼Œæ‰€å‰©çš„ç©ºåœ°å·²ç»å¾ˆå°‘ã€‚æœ‰æ—¶å¯¹å·²ä¸å†ç”¨äºå¤–å±‚æ¥çº¿æˆ–æ’ç„Šï¼Œå¦‚ä»…åšä¸ºå±‚é—´å¯¼ç”µç”¨çš„å¯¼å­”(Via Hole)æ—¶ï¼Œåˆ™å¯å°†å…¶å­”ç¯å»æ‰ï¼Œè€ŒæŒªå‡ºæ›´å¤šçš„ç©ºé—´ç”¨ä»¥å¸ƒçº¿ï¼Œæ­¤ç§åªæœ‰å†…å±‚å­”ç¯è€Œæ— å¤–å±‚å­”ç¯çš„é€šå­”ï¼Œç‰¹ç§°ä¸º Landless Holeã€‚
46ã€Laser Photogenerator(LPG)ï¼ŒLaser Photoplotter é›·å°„æ›å…‰æœº
ç›´æ¥ç”¨é›·å°„çš„å•æŸå¹³è¡Œå…‰å†é…åˆç”µè„‘çš„æ“æ§ï¼Œç”¨ä»¥æ›åˆ¶ç”Ÿäº§ PCB çš„åŸå§‹åº•ç‰‡(Master Artwork)ï¼Œä»¥ä»£æ›¿æ—©æœŸç”¨æ‰‹å·¥åˆ¶ä½œçš„åŸå§‹å¤§å‹è´´ç‰‡(Tape-up),åŠå†ç¼©åˆ¶è€Œæˆçš„åŸå§‹åº•ç‰‡ã€‚æ­¤ç§åŸå§‹åº•ç‰‡çš„è¿é€éå¸¸éº»çƒ¦,ä¸€æ—¦å› æ¸©æ¹¿åº¦å‘ç”Ÿå˜åŒ–,åˆ™ä¼šå¯¼è‡´æˆå“æ¿å°ºå¯¸çš„å·®å¼‚ï¼Œç²¾å¯†æ¿å­çš„å“è´¨å¿…å°†å¤§å—å½±å“ã€‚å¦‚ä»Šå·²å¯è‡ªå®¢æˆ·å¤„ç›´æ¥å–å¾—ç£ç¢Ÿèµ„æ–™ï¼Œé…åˆé›·å°„ä¹‹æ‰«ç„æ›å…‰å³å¯å¾—åˆ°ç²¾è‰¯çš„åº•ç‰‡ï¼Œå¯¹ç”µè·¯æ¿çš„ç”Ÿäº§åŠå“è´¨éƒ½å¤§æœ‰åŠ©ç›Šã€‚
47ã€Lay Out å¸ƒçº¿ã€å¸ƒå±€
æŒ‡ç”µè·¯æ¿åœ¨è®¾è®¡æ—¶ï¼Œå„å±‚æ¬¡ä¸­å„é›¶ä»¶çš„å®‰æ’ï¼Œä»¥åŠå¯¼çº¿çš„èµ°å‘ã€é€šå­”çš„ä½ç½®ç­‰æ•´ä½“çš„å¸ƒå±€ç§°ä¸º Lay Outã€‚
48ã€Layer to Layer Spacing å±‚é—´è·ç¦»
æ˜¯æŒ‡å¤šå±‚æ¿ä¸¤é“œç®”å¯¼ä½“å±‚ä¹‹é—´çš„è·ç¦»ï¼Œæˆ–æŒ‡ç»ç¼˜ä»‹è´¨çš„åšåº¦è€Œè¨€ã€‚é€šå¸¸ä¸ºäº†æ¶ˆé™¤æ¿é¢ç›¸é‚»çº¿è·¯æ‰€äº§ç”Ÿçš„æ‚è®¯èµ·è§ï¼Œå…¶å±‚æ¬¡é—´è·ä¸­çš„ä»‹è´¨è¦æ„ˆè–„æ„ˆå¥½ï¼Œä½¿æ‰€æ„Ÿåº”äº§ç”Ÿçš„æ‚è®¯å¾—ä»¥å¯¼å…¥æ¥åœ°å±‚ä¹‹ä¸­ã€‚ä½†å¦‚ä½•é¿å…å› ä»‹è´¨å¤ªè–„è€Œå¼•å‘çš„æ¼ç”µï¼ŒåŠä¿æŒå¿…é¡»çš„å¹³å¦åº¦ï¼Œåˆ™åˆæ˜¯å¦ä¸¤é¡¹ä¸æ˜“å…‹æœçš„éš¾é¢˜ã€‚
49ã€Master Drawing ä¸»å›¾
æ˜¯æŒ‡ç”µè·¯æ¿åˆ¶é€ ä¸Šå„ç§è§„æ ¼çš„ä¸»è¦å‚è€ƒï¼Œä¹Ÿè®°è½½æ¿å­å„éƒ¨å°ºå¯¸åŠç‰¹æ®Šçš„è¦æ±‚ï¼Œå³ä¿—ç§°çš„â€œè“å›¾â€ï¼Œæ˜¯å“æ£€çš„é‡è¦ä¾æ®ã€‚æ‰€è°“ä¸€åˆ‡éƒ½è¦â€œç…§å›¾æ–½å·¥â€ï¼Œé™¤éåœ¨æˆæƒè€…ç­¾å­—è®¤å¯çš„è¿›ä¸€æ­¥èµ„æ–™(æˆ–ç”µæŠ¥æˆ–ä¼ çœŸç­‰)ä¸­å¯æ›´æ”¹ä¸»å›¾å¤–ï¼Œä¸»å›¾çš„æƒå¨è§„å®šæ˜¯ä¸å®¹å›é¿çš„ã€‚å…¶ä¼˜å…ˆåº¦(Priority)è™½æ¯”è®¢å•åŠç‰¹åˆ«èµ„æ–™è¦ä½ï¼Œä½†å´æ¯”å„ç§æˆæ–‡çš„â€œè§„èŒƒâ€(Specs)åŠä¹ æƒ¯åšæ³•éƒ½è¦é‡è¦ã€‚
50ã€Metal Halide Lamp é‡‘å±å¤ç´ ç¯
ç¢˜æ˜¯å¤ç´ ä¸­çš„ä¸€ç§ï¼Œç¢˜åœ¨é«˜æ¸©ä¸‹å®¹æ˜“ç”±å›ºä½“ç›´æ¥â€œå‡åâ€æˆä¸ºæ°”ä½“ã€‚åœ¨ä»¥é’¨ä¸å‘å…‰ä½“çš„ç™½ç‚½ç¯æ³¡å†…ï¼Œè‹¥å°†ç¢˜å……å…¥å…¶ä¸­ï¼Œåˆ™åœ¨é«˜æ¸©ä¸­ä¼šå½¢æˆç¢˜æ°”ã€‚æ­¤ç§ç¢˜æ°”èƒ½å¤Ÿæ•æ‰å·²è’¸å‘çš„é’¨åŸå­è€Œèµ·åŒ–å­¦ååº”ï¼Œå°†ä»¤é’¨åŸå­å†é‡è¡Œæ²‰è½å›èšåˆ°é’¨ä¸ä¸Šï¼Œå¦‚æ­¤å°†å¯å¤§å¹…å‡å°‘é’¨ä¸çš„æ¶ˆè€—ï¼Œè€Œå¢åŠ ç¯æ³¡çš„å¯¿å‘½ã€‚å¹¶ä¸”è¿˜å¯åŠ å¼ºå…¶ç”µæµæ•ˆç‡è€Œå¢å¼ºäº®åº¦ã€‚ä¸€èˆ¬å¤šç”¨äºæ±½è½¦çš„å‰ç¯ã€æ‘„å½±ã€åˆ¶ç‰‡ä¸æ™’ç‰ˆæ„Ÿå…‰ç­‰æ‰€éœ€ä¹‹å…‰æºã€‚è¿™ç§ç¢˜æ°”ç™½ç‚½ç¯ä¹Ÿæ˜¯ä¸€ç§ä¸è¿ç»­å…‰è°±çš„å…‰æºï¼Œå…¶èƒ½é‡å¤šé›†ä¸­åœ¨ç´«å¤–åŒºçš„ 410ï½430 nm çš„å…‰è°±å¸¦ä¸­,å¦‚åŒæ±æ°”ç¯ä¸€æ ·ï¼Œä¹Ÿä¸èƒ½éšæ„åŠ ä»¥å¼€å…³ã€‚ä½†å´å¯åœ¨ä¸å·¥ä½œæ—¶æ”¹ç”¨è¾ƒä½çš„èƒ½é‡ï¼Œç»´æŒæš‚æ—¶ä¸ç­çš„ä¼‘å·¥çŠ¶æ€ï¼Œä»¥å¤‡ä¸‹æ¬¡å†ä½¿ç”¨æ—¶ï¼Œå°†å¯å¾—åˆ°ç¬é—´çš„ç«‹å³ååº”ã€‚
51ã€Mil è‹±ä¸
æ˜¯ä¸€ç§å¾®å°çš„é•¿åº¦å•ä½ï¼Œå³åƒåˆ†ä¹‹ä¸€è‹±å‹ã€0.001 inã€‘ä¹‹è°“ã€‚ç”µè·¯æ¿å·¥ä¸šä¸­å¸¸ç”¨ä»¥è¡¨è¾¾â€œåšåº¦â€ã€‚æ­¤å­—åœ¨æœºæ¢°ä¸šç•ŒåŸè¯‘ä¸ºâ€œè‹±ä¸â€æˆ–ç®€ç§°ä¸ºâ€œä¸â€ï¼Œä¸”äº¦è¡Œä¹‹æœ‰å¹´ï¼Œç³»æœ€åŸºæœ¬çš„è¡Œè¯ã€‚ä¸è¿‡ä¸€äº›æ—©æœŸç¾å•†â€œå®‰åŸ¹ç”µå­â€çš„PCBä»ä¸šäººå‘˜ï¼Œä¸æ˜å°±é‡Œä¹ŸæœªåŠ æ·±ç©¶ï¼Œç«Ÿå°†ä¹‹ä¸å¦ä¸€å…¬åˆ¶å¾®é•¿åº¦å•ä½çš„â€œæ¡â€(å³10å¾®ç±³) æ··ä¸ºä¸€è°ˆã€‚æµä¼ è‡³ä»Šå·²ä½¿å¾—å¤§éƒ¨ä»½ä¸šç•Œç”šè‡³ä¸‹æ¸¸ç»„è£…ä¸šç•Œï¼Œåœ¨äºŒåå¹´çš„ä»¥è®¹ä¼ è®¹ä¸‹ï¼Œæ—©å·²æ ¹æ·±è’‚å›ºç§¯éæˆæ˜¯å³ä½¿æƒ³æ”¹æ­£ä¹Ÿå¾ˆä¸å®¹æ˜“äº†ã€‚æœ€è®©äººä¸è§£çš„æ˜¯ï¼Œè¿é‡‘æ‰‹æŒ‡é•€é‡‘å±‚åšåº¦çš„å¾®å‹(m-in)ï¼Œä¹Ÿä¸åˆ†é’çº¢çš‚ç™½ä¸€å¾‹ç§°ä¹‹ä¸ºâ€œæ¡â€ï¼Œå®ä¹ƒè«åå…¶å¦™ä¹‹æã€‚åè€Œå¤§é™†çš„PCBç•Œéƒ½è¿˜ç”¨æ³•æ­£ç¡®ã€‚æ­¤å¤–è‹¥ä¸‰ä¸ªå­—æ¯å…¨å¤§å†™æˆMILæ—¶ï¼Œåˆ™ä¸ºâ€œç¾å†›â€Militaryçš„ç®€å†™ï¼Œå¸¸ç”¨äºç¾å†›è§„èŒƒ(å¦‚MIL -P-13949H,æˆ–MIL-P-55110D)ä¸ç¾å†›æ ‡å‡†(å¦‚MIL-STD-202 ç­‰)ä¹‹ä¹¦é¢æˆ–å£è¯­ä¸­ã€‚
52ã€Minimum Electrical Spacing ç”µæ€§é—´è·ä¸‹é™ï¼Œæœ€çª„ç”µæ€§é—´è·
æŒ‡ä¸¤å¯¼ä½“ä¹‹é—´ï¼Œåœ¨æŸä¸€è§„å®šç”µå‹ä¸‹ï¼Œæ¬²é¿å…å…¶é—´ä»‹è´¨å‘ç”Ÿå´©æºƒ(Break down) ï¼Œæˆ–æ¬²é˜²æ­¢å‘ç”Ÿç”µæ™•(Corona)èµ·è§ï¼Œå…¶æœ€èµ·ç åº”å…·æœ‰çš„è·ç¦»è°“ä¹‹â€œä¸‹é™é—´è·â€ã€‚
53ã€Mounting Hole å®‰è£…å­”
ä¸ºç”µè·¯æ¿ä¸Šä¸€ç§æ— å¯¼ç”µåŠŸèƒ½çš„ç‹¬ç«‹å¤§å­”ï¼Œç³»å°†ç»„è£…æ¿é”ç‰¢åœ¨æœºä½“æ¶æ„ä¸Šè€Œç”¨çš„ã€‚è¿™ç§åšä¸ºæœºæ¢°ç”¨é€”çš„å­”ï¼Œç§°ä¸ºâ€œå®‰è£…å­”â€ã€‚æ­¤è¯ä¹ŸæŒ‡å°†è¾ƒé‡çš„é›¶ä»¶ä»¥èºä¸é”åœ¨æ¿å­ä¸Šç”¨çš„æœºæ¢°å­”è€Œè¨€ã€‚
54ã€Mounting Holeç»„è£…å­”ï¼Œæœºè£…å­”
æ˜¯ç”¨èºä¸æˆ–å…¶ä»–é‡‘å±æ‰£ä»¶ï¼Œå°†ç»„è£…æ¿é”ç‰¢å›ºå®šåœ¨æœºå™¨åº•åº§æˆ–å¤–å£³çš„å·¥å…·å­”ï¼Œä¸ºç›´å¾„ 160milå·¦å³çš„å¤§å­”ã€‚æ­¤ç§ç»„è£…å­”æ—©æœŸå‡é‡‡ä¸¤é¢å¤§å‹å­”ç¯ä¸å­”é“œå£ä¹‹PTHï¼Œåä¸ºé˜²æ­¢å­”å£åœ¨æ³¢ç„Šä¸­æ²¾é”¡è€Œå½±å“èºä¸ç©¿è¿‡èµ·è§ï¼Œæ–°å¼è®¾è®¡ç‰¹å°†å¤§å­”æ”¹æˆâ€œéé•€é€šå­”â€(åœ¨PTHä¹‹å‰äºˆä»¥é®ç›–æˆ–é•€é“œä¹‹åå†é’»äºŒæ¬¡å­”) ï¼Œè€Œäºå‘¨å›´ç¯å®½ä¸Šå¦åšæ•°ä¸ªå°å‹é€šå­”ä»¥å¼ºåŒ–å­”ç¯åœ¨æ¿é¢çš„å›ºç€å¼ºåº¦ã€‚ç”±äºNPTHååˆ†éº»çƒ¦ï¼Œè¿‘æ¥SMTæ¿ä¸Šä¹Ÿæœ‰å°†å¤§å­”åªæ”¹å›PTHè€…ï¼Œå…¶ä¸¤é¢å­”ç¯å¤šåŠä¸ç›¸åŒï¼Œå¸¸å°†ç„Šæ¥é¢çš„å¤§ç¯å–æ¶ˆè€Œæ”¹æˆå‡ ä¸ªç‹¬ç«‹çš„å°ç¯ï¼Œæˆ–æ”¹æˆé©¬è¹„å½¢ä¸å®Œæ•´çš„å¤§ç¯ï¼Œæˆ–æ‰©å……é¢ç§¯æˆå¼‚å½¢å¤§é“œé¢ï¼Œå…¼åšä¸ºæ¥åœ°ä¹‹ç”¨ã€‚
55ã€Negative è´Ÿç‰‡ï¼Œé’»å°–ç¬¬ä¸€é¢å¤–ç¼˜å˜çª„
æ˜¯æŒ‡å„ç§åº•ç‰‡ä¸Š(å¦‚é»‘ç™½è½¯ç‰‡ã€æ£•è‰²è½¯ç‰‡åŠç»ç’ƒåº•ç‰‡ç­‰)ï¼Œå¯¼ä½“çº¿è·¯çš„å›¾æ¡ˆæ˜¯ä»¥é€æ˜åŒºå‘ˆç°ï¼Œè€Œæ— å¯¼ä½“ä¹‹åŸºæéƒ¨ä»½åˆ™å‘ˆç°ä¸ºæš—åŒº(å³è½¯ç‰‡ä¸Šçš„é»‘è‰²æˆ–æ£•è‰²éƒ¨ä»½) ï¼Œä»¥é˜»æ­¢ç´«å¤–å…‰çš„é€è¿‡ã€‚æ­¤ç§åº•ç‰‡è°“ä¹‹è´Ÿç‰‡ã€‚åˆï¼Œæ­¤å­—äº¦æŒ‡é’»å¤´ä¹‹é’»å°–ï¼Œå…¶ä¸¤ä¸ªç¬¬ä¸€é¢å¤–ç¼˜å› ä¸å½“é‡ç£¨è€Œå˜çª„çš„æƒ…å½¢ã€‚
56ã€Non-Circular Land éåœ†å½¢å­”ç¯ç„Šå«
æ—©æœŸç”µè·¯æ¿ä¸Šçš„é›¶ä»¶çš†ä»¥é€šå­”æ’è£…ä¸ºä¸»ï¼Œåœ¨å¡«å­”ç„Šé”¡åå®Œæˆäº’è¿(Interconnection)çš„åŠŸèƒ½ã€‚æŸäº›ä½“ç§¯è¾ƒå¤§æˆ–é‡é‡è¾ƒé‡çš„é›¶ä»¶ï¼Œä¸ºä½¿åœ¨æ¿é¢ä¸Šçš„ç„Šæ¥å¼ºåº¦æ›´å¥½èµ·è§ï¼Œåˆ»æ„å°†å…¶å­”å¤–ä¹‹ç¯å½¢ç„Šå«å˜å¤§ï¼Œä»¥å¼ºåŒ–ç„Šç¯çš„é™„ç€åŠ›ï¼ŒåŠå½¢æˆè¾ƒå¤§çš„é”¥çŠ¶ç„Šç‚¹ã€‚æ­¤ç§å¤§å·çš„ç„Šå«åœ¨å•é¢æ¿ä¸Šå°¤ä¸ºå¸¸è§ã€‚
57ã€Pad Masteråœ†å«åº•ç‰‡
æ˜¯æ—©æœŸå®¢æˆ·ä¾›åº”çš„å„åŸå§‹åº•ç‰‡ä¹‹ä¸€ç§ï¼ŒæŒ‡ä»…æœ‰â€œå­”ä½â€çš„é»‘ç™½â€œæ­£ç‰‡â€ã€‚å…¶ä¸­æ¯ä¸€ä¸ªé»‘è‰²åœ†å«ä¸­å¿ƒéƒ½æœ‰å°ç‚¹ç•™ç™½ï¼Œæ˜¯åšä¸ºâ€œç¨‹å¼æ‰“å¸¦æœºâ€å¯»æ‰¾å‡†ç¡®å­”ä½ä¹‹ç”¨ã€‚è¯¥Pad Masterå®Œæˆå­”ä½ç¨‹å¼å¸¦åˆ¶ä½œä¹‹åï¼Œè¿˜è¦å°†æ¯ä¸€åœ†å«ä¸­å¿ƒçš„ç•™ç™½ç‚¹ï¼Œä»¥äººå·¥æ–¹å¼äºˆä»¥æ¶‚é»‘å†ç¿»æˆè´Ÿç‰‡ï¼Œå³æˆä¸ºç»¿æ¼†åº•ç‰‡ã€‚å¦‚ä»Šè®¾è®¡è€…å·²å°†æ¿å­ä¸Šå„ç§æ‰€éœ€çš„â€œè¯¸å…ƒä¸å°ºåº¦â€éƒ½åšæˆGerber Fileçš„ç£ç‰‡ï¼Œç›´æ¥è¾“å…¥åˆ°CAMåŠé›·å°„ç»˜å›¾æœºä¸­ï¼Œå³å¯å¾—åˆ°æ‰€éœ€çš„åº•ç‰‡ï¼Œä¸ä½†èŠ‚çœäººåŠ›è€Œä¸”å“è´¨ä¹Ÿå¤§å¹…æå‡ã€‚é™„å›¾å³ä¸ºæ–°å¼Pad Masteråº•ç‰‡çš„ä¸€è§’ï¼Œæ˜¯ä¸¤æšå¤§å‹ICæ‰€æ¥æ’åº§çš„å­”ä½ã€‚
58ã€Padç„Šå«ï¼Œåœ†å«
æ­¤å­—åœ¨ç”µè·¯æ¿æœ€åŸå§‹çš„æ„æ€ï¼Œæ˜¯æŒ‡é›¶ä»¶å¼•è„šåœ¨æ¿å­ä¸Šçš„ç„Šæ¥åŸºåœ°ã€‚æ—©æœŸé€šå­”æ’è£…æ—¶ä»£ï¼Œç³»è¡¨ç¤ºå¤–å±‚æ¿é¢ä¸Šçš„å­”ç¯ã€‚1985å¹´åçš„SMTæ—¶ä»£ï¼Œæ­¤å­—äº¦æŒ‡æ¿é¢ä¸Šçš„æ–¹å½¢ç„Šå«ã€‚ä¸è¿‡æ­¤å­—äº¦å¸¸è¢«å¼•ä¼¸åˆ°å…¶ä»–ç›¸å…³çš„æ–¹é¢ï¼Œå¦‚å†…å±‚æ¿é¢ä¸Šå°šæœªé’»å­”æˆä¸ºå­”ç¯çš„å„åœ†ç‚¹æˆ–å°åœ†ç›˜ï¼Œä¸šç•Œä¹Ÿé€šå¸¸å«åšPadï¼›æ­¤å­—å¯ä¸Landé€šç”¨ã€‚
59ã€Panelåˆ¶ç¨‹æ¿
æ˜¯æŒ‡åœ¨å„ç«™åˆ¶ç¨‹ä¸­æ‰€æµé€šçš„å¾…åˆ¶æ¿ã€‚å…¶ä¸€ç‰‡Panelä¸­å¯èƒ½å«æœ‰å¥½å‡ ç‰‡â€œæˆå“æ¿â€œ(Board)ã€‚æ­¤ç­‰â€åˆ¶ç¨‹æ¿â€œçš„å¤§å°ï¼Œåœ¨æ¯ç«™ä¸­ä¹Ÿä¸ä¸€å®šç›¸åŒï¼Œå¦‚å‹åˆç«™ä¹‹Panelæ¿é¢å¯èƒ½å¾ˆï¼Œå¤§ä½†ä¸ºäº†é€‚åº”é’»å­”æœºçš„æ¯ä¸€é’»è½´ä½œä¸šèµ·è§ï¼Œåªå¥½è£æˆä¸€åŠæˆ–å››åˆ†ä¹‹ä¸€çš„Panel Sizeã€‚å½“æˆå“æ¿çš„é¢ç§¯å¾ˆå°æ—¶ï¼Œå…¶æ¯ä¸€Panelä¸­åˆ™å¯æ’å…¥å¤šç‰‡çš„Boardã€‚é€šå¸¸Panel Sizeæ„ˆå¤§åˆ™ç”Ÿäº§æ„ˆç»æµã€‚
60ã€Patternæ¿é¢å›¾å½¢
å¸¸æŒ‡ç”µè·¯æ¿é¢çš„å¯¼ä½“å›¾å½¢æˆ–éå¯¼ä½“å›¾å½¢è€Œè¨€ï¼Œå½“ç„¶å¯¹åº•ç‰‡æˆ–è“å›¾ä¸Šçš„çº¿è·¯å›¾æ¡ˆï¼Œä¹Ÿå¯ç§°ä¸ºPatternã€‚
61ã€Photographic Filmæ„Ÿå…‰æˆåƒä¹‹åº•ç‰‡
æ˜¯æŒ‡ç”µè·¯æ¿ä¸Šçº¿è·¯å›¾æ¡ˆçš„åŸå§‹è½½ä½“ï¼Œä¹Ÿå°±æ˜¯ä¿—ç§°çš„â€œåº•ç‰‡â€(Art Work)ã€‚å¸¸ç”¨çš„æœ‰Mylarå¼è½¯ç‰‡åŠç»ç’ƒæ¿ä¹‹ç¡¬ç‰‡ã€‚å…¶é®å…‰å›¾æ¡ˆçš„è–„è†œæè´¨ï¼Œæœ‰é»‘è‰²çš„å¤åŒ–é“¶(Silver halid)åŠæ£•è‰²çš„å¶æ°®åŒ–åˆç‰©(Diazo)ã€‚å‰è€…å‡ ä¹å¯æŒ¡ä½å„ç§å…‰çº¿ï¼Œåè€…åªèƒ½æŒ¡ä½550nmä»¥ä¸‹çš„ç´«å¤–å…‰ã€‚è€Œæ³¢é•¿åœ¨550nmä»¥ä¸Šçš„å¯è§å…‰ï¼Œå¯¹å¹²è†œå·²ç»ä¸ä¼šå‘ç”Ÿæ„Ÿå…‰ä½œç”¨ï¼Œæ•…å…¶å·¥ä½œåŒºå¯é‡‡ç”¨é»„å…‰ç…§æ˜ï¼Œæ¯”èµ·å¤åŒ–é“¶é»‘ç™½åº•ç‰‡åªèƒ½åœ¨æš—çº¢å…‰ä¸‹ä½œä¸šï¼Œçš„ç¡®è¦æ–¹ä¾¿å¾—å¤šäº†ã€‚
62ã€Photoplotterï¼Œ Plotterå…‰å­¦ç»˜å›¾æœº
æ˜¯ä»¥ç§»åŠ¨æ€§å¤šè‚¡å•æŸå…‰ä¹‹æ›å…‰æ³•ï¼Œä»£æ›¿ä¼ ç»Ÿå›ºå®šç‚¹çŠ¶å…‰æºä¹‹ç¬é—´å…¨é¢æ€§æ›å…‰æ³•ã€‚åœ¨æ•°ä½åŒ–åŠç”µè„‘è¾…åŠ©ä¹‹è®¾è®¡ä¸‹ï¼ŒPCBè®¾è®¡è€…å¯å°†åŸå§‹ä¹‹å­”ç¯ã€ç„Šå«ã€å¸ƒçº¿åŠå°ºå¯¸ç­‰ç²¾å¯†èµ„æ–™ï¼Œè¾“å…¥ç”µè„‘åœ¨Gerber Fileç³»ç»Ÿä¸‹ï¼Œæ”¶çº³äºä¸€ç‰‡ç£ç‰‡ä¹‹å†…ã€‚ç”µè·¯æ¿ç”Ÿäº§è€…å¾—åˆ°ç£ç‰‡åï¼Œå³å¯åˆ©ç”¨CAMåŠå…‰å­¦ç»˜å›¾æœºçš„è¿ä½œè€Œå¾—åˆ°å°ºå¯¸ç²¾å‡†çš„åº•ç‰‡ï¼Œå…äºè¿é€ä¸­é€ æˆåº•ç‰‡çš„å˜å½¢ã€‚ç”±äºæ™®é€šå…‰æºå¼çš„Photoplotterç¼ºç‚¹ç”šå¤šï¼Œæ•…å·²é­æ·˜æ±°ã€‚ç°åœ¨ä¸šç•Œå·²ä¸€å¾‹ä½¿ç”¨é›·å°„å…‰æºåšä¸ºç»˜å›¾æœºã€‚å·²æˆä¸ºå•†å“è€…æœ‰å¹³å°å¼(Flat Bed)ã€å†…åœ†ç­’å¼(Inner drum)ã€å¤–åœ†ç­’å¼(Outer Drum)ï¼ŒåŠå•ç‹¬åŒºåŸŸå¼ç­‰ä¸åŒæˆåƒæ–¹å¼çš„æœºç§ã€‚å…¶ç­‰äº¦å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œæ˜¯ç°ä»£PCBå‚å¿…å¤‡çš„å·¥å…·ã€‚ä¹Ÿå¯ç”¨äºå…¶ä»–æ„Ÿå…‰æˆåƒçš„å·¥ä½œé¢†åŸŸï¼Œå¦‚LCDã€PCMç­‰å·¥ä¸šä¸­ã€‚
63ã€Phototoolåº•ç‰‡
ä¸€èˆ¬å¤šæŒ‡å¶æ°®æ£•ç‰‡(Diazo film)ï¼Œå¯åœ¨é»„è‰²ç…§æ˜ä¸‹å·¥ä½œï¼Œæ¯”èµ·åªèƒ½åœ¨çº¢å…‰ä¸‹å·¥ä½œçš„é»‘ç™½å¤åŒ–é“¶åº•ç‰‡è¦æ–¹ä¾¿ä¸€äº›ã€‚
64ã€Pinæ¥è„šï¼Œæ’æ¢¢ï¼Œæ’é’ˆ
æŒ‡ç”µè·¯æ¿å­”ä¸­æ‰€æ’è£…çš„é•€é”¡é›¶ä»¶è„šï¼Œæˆ–é•€é‡‘ä¹‹æ’é’ˆç­‰ã€‚å¯åšä¸ºæœºæ¢°æ”¯æŒåŠå¯¼ç”µäº’è¿ç”¨å¤„ï¼Œæ˜¯æ—©æœŸç”µè·¯æ¿æ’å­”ç»„è£…çš„åª’ä»‹ç‰©ã€‚å…¶çºµæ¨ªä¹‹é—´è·(Pitch)æ—©æœŸå¤§å¤šå…¬å®šä¸º100 milï¼Œä»¥åšä¸ºç”µè·¯æ¿åŠå„ç§é›¶ä»¶åˆ¶é€ çš„ä¾æ®ã€‚
65ã€Pitchè·¨è·ï¼Œè„šè·ï¼Œå«è·ï¼Œçº¿è·
Pitchçº¯ç²¹æ˜¯æŒ‡æ¿é¢ä¸¤â€œå•å…ƒâ€ä¸­å¿ƒé—´ä¹‹è¿œè¿‘è·ç¦»ï¼ŒPCBä¸šç¾å¼è¡¨è¾¾å¸¸ç”¨mil pitchï¼Œå³æŒ‡ä¸¤ç„Šå«ä¸­å¿ƒçº¿é—´çš„è·¨è·milè€Œè¨€ã€‚ Pitchä¸Spacingä¸åŒï¼Œåè€…é€šå¸¸æ˜¯æŒ‡ä¸¤å¯¼ä½“é—´çš„â€œéš”ç¦»æ¿é¢â€ï¼Œæ˜¯é¢ç§¯è€Œéé•¿åº¦ã€‚
66ã€Plottingæ ‡ç»˜
ä»¥æœºæ¢°æ–¹å¼å°†Xã€Yä¹‹ä¼—å¤šåº§æ ‡æ•°æ®åœ¨å¹³é¢åº§æ ‡ç³»ç»Ÿä¸­ï¼Œæç»˜æˆå®é™…çº¿è·¯å›¾çš„ä½œä¸šè¿‡ç¨‹ï¼Œä¾¿ç§°ä¸ºPlotæˆ–Plottingã€‚ç›®å‰åº•ç‰‡çš„åˆ¶ä½œå·²æ”¾å¼ƒæ—©æœŸçš„å¾’æ‰‹è´´å›¾(Tape up)ï¼Œè€Œæ”¹ç”¨â€œå…‰å­¦ç»˜å›¾â€æ–¹å¼å®Œæˆåº•ç‰‡ï¼Œä¸ä½†èŠ‚çœäººåŠ›ï¼Œè€Œä¸”å“è´¨æ›´å¥½ã€‚
67ã€Polarizing Slotåæ§½
æŒ‡æ¿è¾¹é‡‘æ‰‹æŒ‡åŒºçš„å¼€æ§½ï¼Œä¸€èˆ¬æ•…æ„å°†å¼€æ§½çš„ä½ç½®æ”¾åï¼Œä»¥é¿å…å› å·¦å³å¯¹ç§°è€Œå¯èƒ½æ’åï¼Œæ­¤ç§ä¸ºç¡®ä¿æ­£ç¡®æ’æ¥è€ŒåŠ å¼€çš„æ–¹å‘æ§½ï¼Œäº¦ç§°ä¸ºKeying Slotã€‚
68ã€Process Cameraåˆ¶ç¨‹ç”¨ç…§åƒæœº
æ˜¯åšåº•ç‰‡(Artwork)æ”¾å¤§ã€ç¼©å°ï¼Œæˆ–ä»è´´ç‰‡(Tape up)ç›´æ¥ç…§åƒè€Œå¾—åˆ°åº•ç‰‡çš„ä¸“ç”¨ç›¸æœºã€‚å…¶ç»„æˆæœ‰ä¸‰å¤§ä»¶ç›´ç«‹äºå¯ç§»åŠ¨çš„è½¨é“ä¸Šä¸”å½¼æ­¤å¹³è¡Œï¼Œå³å›¾ä¸­å³ç«¯çš„åŸå§‹è´´ç‰‡æˆ–æ¯ç‰‡æ¶ã€é•œå¤´ï¼Œä»¥åŠå·¦ç«¯å¾…æˆåƒçš„å­ç‰‡æ¶ç­‰ã€‚è¿™æ˜¯æ—©æœŸç”Ÿäº§åº•ç‰‡çš„æ–¹å¼ï¼Œç›®å‰å·²è¿›æ­¥åˆ°æ•°ä½åŒ–ï¼Œè‡ªå®¢æˆ·å–å¾—çš„ç£ç¢Ÿï¼Œç»ç”±ç”µè„‘è½¯ä½“åŠç”µå°„ç»˜å›¾æœºçš„å·¥ä½œä¸‹ï¼Œå³å¯ç›´æ¥å¾—åˆ°åŸå§‹åº•ç‰‡ï¼Œå·²æ— é¡»å†ç”¨åˆ°ç…§ç›¸æœºäº†ã€‚
69ã€Production Masterç”Ÿäº§åº•ç‰‡
æŒ‡1ï¼š1å¯ç›´æ¥ç”¨ä»¥ç”Ÿç”µè·¯æ¿çš„åŸå¯¸åº•ç‰‡è€Œè¨€ï¼Œè‡³äºå„é¡¹è¯¸å…ƒçš„å°ºå¯¸ä¸å…¬å·®ï¼Œåˆ™é¡»å¦åˆ—äºä¸»å›¾ä¸Š (Master Drawingäº¦å³è“å›¾)ã€‚
70ã€Reference Dimensionå‚è€ƒå°ºåº¦
å‚è€ƒå°ºå¯¸ä»…ä¾›å‚è€ƒèµ„æ–™ç”¨çš„å°ºåº¦ï¼Œå› æœªè®¾å…¬å·®æ•…ä¸èƒ½å½“æˆæ­£å¼æ–½å·¥åŠå“æ£€çš„æ ¹æ®ã€‚
71ã€Reference Edgeå‚è€ƒè¾¹ç¼˜
æŒ‡æ¿è¾¹æ¿è§’ä¸ŠæŸå¯¼ä½“ä¹‹ä¸€ä¸ªè¾¹ç¼˜ï¼Œå¯åšä¸ºå…¨æ¿å°ºå¯¸çš„é‡æµ‹å‚è€ƒç”¨ï¼Œæœ‰æ—¶ä¹ŸæŒ‡æŸä¸€ç‰¹æ®Šé‰´åˆ«è®°å·è€Œè¨€ã€‚
72ã€Register Markå¯¹å‡†ç”¨æ ‡è®°
æŒ‡åº•ç‰‡ä¸Šæˆ–æ¿é¢ä¸Šï¼Œå„è¾¹æ¡†æˆ–å„è§’è½æ‰€è®¾å®šçš„ç‰¹æ®Šæ ‡è®°ï¼Œç”¨ä»¥æ£€æŸ¥æœ¬å±‚æˆ–å„å±‚ä¹‹é—´çš„å¯¹å‡†æƒ…å½¢ï¼Œå›¾ç¤ºè€…å³ä¸ºä¸¤ç§å¸¸ç”¨çš„å¯¹å‡†æ ‡è®°ã€‚å…¶ä¸­åŒå¿ƒåœ†å½¢è€…å¯åœ¨å¤šå±‚æ¿æ¯å±‚çš„æ¿è¾¹æˆ–æ¿è§’å¤„ï¼Œä¾åºæ‘†è®¾ä¸åŒç›´å¾„çš„åœ†ç¯ï¼Œç­‰å‹åˆååªè¦æ£€æŸ¥æ‰€â€œæ‰«å‡ºâ€(å³é“£å‡º)ç«‹ä½“åŒå¿ƒåœ†ä¹‹å¥—å‡†æƒ…å½¢ï¼Œå³å¯åˆ¤æ–­å…¶å±‚é—´å¯¹å‡†åº¦çš„å¥½åã€‚
73ã€Registrationå¯¹å‡†åº¦
ç”µè·¯æ¿é¢å„ç§å¯¼ä½“ä¹‹å®é™…ä½ç½®ï¼Œä¸åŸå§‹åº•ç‰‡æˆ–åŸå§‹è®¾è®¡ä¹‹åŸå®šä½ç½®ï¼Œå…¶ä¸¤è€…ä¹‹é—´é€¼è¿‘çš„ç¨‹åº¦ï¼Œè°“ä¹‹â€œ Registrationâ€ã€‚å¤§é™†ä¸šç•Œè¯‘ä¸ºâ€œé‡åˆåº¦â€ã€‚â€œå¯¹å‡†åº¦â€å¯æŒ‡æŸä¸€æ¿é¢çš„å¯¼ä½“ä¸å…¶åº•ç‰‡ä¹‹å¯¹å‡†ç¨‹åº¦ï¼›æˆ–æŒ‡å¤šå±‚æ¿ä¹‹â€œå±‚é—´å¯¹å‡†åº¦â€ (Layer to Layer Registration)ï¼Œçš†ä¸ºPCBçš„é‡è¦å“è´¨ã€‚
74ã€Revisionä¿®æ­£ç‰ˆï¼Œæ”¹è®¢ç‰ˆ
æŒ‡è§„èŒƒæˆ–äº§å“è®¾è®¡ä¹‹ä¿®æ­£ç‰ˆæœ¬æˆ–ç‰ˆæ¬¡ï¼Œé€šå¸¸æ˜¯åœ¨å…¶ä»£å·ä¹‹ååŠ ä¸Šå¤§å†™çš„è‹±æ–‡å­—æ¯åšä¸ºä¿®è®¢é¡ºåºä¹‹è¡¨ç¤ºã€‚
75ã€Schemetic Diagramç”µè·¯æ¦‚ç•¥å›¾
åˆ©ç”¨å„ç§ç¬¦å·ã€ç”µæ€§è¿æ¥ã€é›¶ä»¶å¤–å½¢ç­‰ï¼Œæ‰€ç”»æˆçš„ç³»ç»Ÿçº¿è·¯å¸ƒå±€æ¦‚è¦å›¾ã€‚
76ã€Secondary Sideç¬¬äºŒé¢
æ­¤å³ç”µè·¯æ¿æ—©æœŸåŸæœ‰æœ¯è¯­ä¹‹â€œç„Šé”¡é¢â€ (Solder Side)ã€‚å› æ—©æœŸåœ¨æ’å­”ç„Šæ¥é›¶ä»¶æ—¶ï¼Œæ‰€æœ‰é›¶ä»¶éƒ½è£…åœ¨ç¬¬ä¸€é¢ (æˆ–ç§°Component Side;ç»„ä»¶é¢)ï¼Œç¬¬äºŒé¢åˆ™åªåšä¸ºæ³¢ç„Šæ¥è§¦ç”¨é€”ï¼Œæ•…ç§°ä¸ºç„Šé”¡é¢ã€‚å¾…è¿‘å¹´æ¥å› SMTè¡¨é¢ç²˜è£…å…´èµ·ï¼Œå…¶æ­£åä¸¤é¢éƒ½è£…æœ‰å¾ˆå¤šé›¶ä»¶ï¼Œæ•…ä¸å®œå†ç»­ç§°ä¸ºç„Šé”¡é¢ï¼Œè€Œä»¥â€œç¬¬äºŒé¢â€è¾ƒæ°å½“ã€‚
77ã€Slot, Slottingæ§½å£ï¼Œå¼€æ§½
æŒ‡ PCBæ¿è¾¹æˆ–æ¿å†…æŸå¤„ï¼Œä¸ºé…åˆç»„è£…ä¹‹éœ€æ±‚ï¼Œè€Œé¡»è¿›è¡Œâ€œå¼€æ§½â€ä»¥åšä¸ºåŒ¹é…ï¼Œè°“ä¹‹æ§½å£ã€‚åœ¨é‡‘æ‰‹æŒ‡æ¿è¾¹è€…ï¼Œä¹Ÿç§°ä¸ºâ€œåæ§½â€æˆ–â€œå®šä½æ§½â€(Polarising Slot or Locating Slot)ï¼Œæ˜¯æ•…æ„å¼€åä»¥é¿å…é‡‘æ‰‹æŒ‡é˜´å¼æ¥å¤´çš„æ’åã€‚
78ã€Solder Damé”¡å ¤
æŒ‡ç„Šç‚¹å‘¨å›´ç”±ç»¿æ¼†åšåº¦æ‰€å½¢æˆçš„å ¤å²¸ï¼Œå¯é˜²æ­¢é«˜æ¸©ä¸­ç†”é”¡æµåŠ¨æ‰€é€ æˆä¹‹çŸ­è·¯ï¼Œé€šå¸¸ä»¥å¹²è†œå¼çš„é˜²ç„Šè†œè¾ƒæ˜“å½¢æˆ Solder Damã€‚
79ã€Solder Plugé”¡å¡ï¼Œé”¡æŸ±
æŒ‡åœ¨æ³¢ç„Šä¸­æ¶Œå…¥é•€é€šå­”å†…çš„ç„Šé”¡ï¼Œå†·å´åå³ç•™åœ¨å­”ä¸­æˆä¸ºå¯¼ä½“çš„ä¸€éƒ¨ä»½ï¼Œç§°ä¸ºâ€œé”¡å¡â€ã€‚è‹¥å­”ä¸­å·²æœ‰æ’æ¥çš„é›¶ä»¶è„šæ—¶ï¼Œåˆ™é”¡å¡è¿˜å…·æœ‰â€œç„Šæ¥ç‚¹â€çš„åŠŸç”¨ã€‚è‡³äºç›®å‰ä¸€èˆ¬ä¸å†ç”¨äºæ’æ¥ï¼Œè€Œåªåšäº’è¿ç›®çš„ä¹‹ PTHï¼Œåˆ™å¤šå·²æ”¹æˆç›´å¾„åœ¨20 milä»¥ä¸‹çš„å°å­”ï¼Œç§°ä¹‹ä¸ºå¯¼é€šå­” (Via Hole)ã€‚æ­¤ç­‰å°å­”çš„ä¸¤ç«¯éƒ½å·²ç›–æ»¡æˆ–å¡æ»¡ç»¿æ¼†ï¼Œé˜»æ­¢åŠ©ç„Šå‰‚åŠç†”é”¡çš„è¿›å…¥ï¼Œè¿™ç§å¯¼é€šå­”å½“ç„¶å°±ä¸ä¼šå†æœ‰ Solder Plugäº†ã€‚
80ã€Solder Sideç„Šé”¡é¢
æ—©æœŸç”µè·¯æ¿ç»„è£…å®Œå…¨ä»¥é€šå­”æ’è£…ä¸ºä¸»æµï¼Œæ¿å­æ­£é¢(å³é›¶ç»„ä»¶é¢)å¸¸ç”¨æ¥æ’è£…é›¶ä»¶ï¼Œå…¶å¸ƒçº¿å¤šæŒ‰â€œæ¿æ¨ªâ€æ–¹å‘æ’åˆ—ã€‚æ¿å­åé¢åˆ™ç”¨ä»¥é…åˆå¼•è„šé€šè¿‡æ³¢ç„Šæœºçš„é”¡æ³¢ï¼Œæ•…ç§°ä¸ºâ€œç„Šæ¥é¢â€ï¼Œæ­¤é¢çº¿è·¯å¸¸æŒ‰â€œæ¿é•¿â€æ–¹å‘å¸ƒçº¿ï¼Œä»¥é¡ºä»é”¡æ³¢ä¹‹æµåŠ¨ã€‚æ­¤è¯ä¹‹å…¶ä»–ç§°å‘¼å°šæœ‰ Secondary Sideï¼Œ Far Sideç­‰ã€‚
81ã€Spacingé—´è·
æŒ‡ä¸¤å¹³è¡Œå¯¼ä½“é—´å…¶ç»ç¼˜ç©ºåœ°ä¹‹å®½åº¦è€Œè¨€ï¼Œé€šå¸¸å°†â€œé—´è·â€ä¸â€œçº¿è·¯â€äºŒè€…åˆç§°ä¸ºâ€œçº¿å¯¹â€(Line Pair)ã€‚
82ã€Spanè·¨è·
æŒ‡ä¸¤ç‰¹æ®Šç›®æ ‡ç‚¹ä¹‹é—´æ‰€æ¶µç›–çš„å®½åº¦ï¼Œæˆ–æŸä¸€ç›®æ ‡ç‚¹ä¸å‚è€ƒç‚¹ä¹‹é—´çš„è·ç¦»ã€‚
83ã€Spuråº•ç‰‡å›¾å½¢è¾¹ç¼˜çªå‡º
æŒ‡åº•ç‰‡ä¸Šçš„é€æ˜åŒºæˆ–é»‘æš—åŒºçš„çº¿è·¯å›¾å½¢ï¼Œå½“å…¶è¾¹ç¼˜è§£åƒä¸è‰¯å‘ç”Ÿæ¨¡ç³Šä¸æ¸…æ—¶ï¼Œå¸¸å‡ºç°ä¸å½“çš„çªå‡ºç‚¹ï¼Œç§°ä¸ºSpurã€‚
84ã€Step and Repeaté€æ¬¡é‡å¤æ›å…‰
é¢ç§¯å¾ˆå°çš„ç”µè·¯æ¿ä¸ºäº†ç”Ÿäº§æ–¹ä¾¿èµ·è§ï¼Œåœ¨åº•ç‰‡åˆ¶ä½œé˜¶æ®µå¸¸å°†åŒä¸€å›¾æ¡ˆé‡å¤æ’åˆ—æˆè¾ƒå¤§çš„åº•ç‰‡ã€‚ç³»ä½¿ç”¨ä¸€ç§ç‰¹æ®Šçš„ Step and Repect å¼æ›å…‰æœºï¼Œå°†åŒä¸€å°å‹å›¾æ¡ˆé€æ¬¡å±€éƒ¨æ›å…‰å†å¹¶è¿æˆä¸ºä¸€ä¸ªå¤§åº•ç‰‡ï¼Œå†ç”¨ä»¥è¿›è¡Œé‡äº§ã€‚
85ã€Supported Hole(é‡‘å±)æ”¯åŠ©é€šå­”
æŒ‡æ­£å¸¸çš„é•€é€šå­”(PTH)ï¼Œå³å…·æœ‰é‡‘å±å­”å£çš„é’»å­”ã€‚ä¸€èˆ¬éƒ½çœç•¥å‰é¢çš„â€œæ”¯æŒæ€§â€å­—çœ¼ã€‚åŸä¹‰æ˜¯æŒ‡å¯å¯¼ç”µåŠæä¾›å¼•è„šç„Šæ¥ç”¨é€”çš„é€šå­”ã€‚
86ã€Tabæ¥ç‚¹ï¼Œé‡‘æ‰‹æŒ‡
åœ¨ç”µè·¯æ¿ä¸Šæ˜¯æŒ‡æ¿è¾¹ç³»åˆ—æ¥ç‚¹çš„é‡‘æ‰‹æŒ‡è€Œè¨€ï¼Œä¸ºä¸€ç§éæ­£å¼çš„è¯´æ³•ã€‚
87ã€Tape Up MasteråŸå§‹æ‰‹è´´ç‰‡
æ—©æœŸç”µè·¯æ¿ä¹‹åº•ç‰‡ï¼Œå¹¶éä½¿ç”¨ CAD/CAMåŠé›·å°„ç»˜å›¾æœºæ‰€åˆ¶ä½œï¼Œè€Œæ˜¯é‡‡å„ç§ä¸“ç”¨çš„é»‘è‰²â€œè´´ä»¶â€ (å¦‚çº¿è·¯ã€åœ†å«ã€é‡‘æ‰‹æŒ‡ç­‰å°ºå¯¸é½å…¨ä¹‹ä¸“ç”¨å“ï¼Œä»¥Bishopä¹‹äº§å“æœ€ä¸ºå¹¿ç”¨)ï¼Œåœ¨æ–¹çœ¼çº¸ä¸Šä»¥æ‰‹å·¥è´´æˆæœ€åŸå§‹çš„â€œè´´ç‰‡â€(Tape Up Master)ï¼Œå†ç”¨ç…§ç›¸æœºç¼©ç…§æˆç¬¬ä¸€ä»£çš„åŸå§‹åº•ç‰‡ (Master Artwork)ã€‚åä½™å¹´å‰æ—¥æœ¬æœ‰è®¸å¤šç”µè·¯æ¿çš„æ‰‹è´´ç‰‡å·¥ä½œï¼Œå³ä»¥ç©ºè¿æ¥å¾€å°æ¹¾å¯»æ±‚ä»£å·¥ã€‚è¿‘å¹´æ¥ç”±äºç”µè„‘çš„å‘è¾¾ä¸ç²¾å‡†ï¼Œæ—©å·²å–ä»£æ‰‹å·¥çš„åšæ³•äº†ã€‚
88ã€Terminal Clearanceç«¯å­ç©ºç¯ï¼Œç«¯å­è®©ç¯
åœ¨å†…å±‚æ¿ä¹‹æ¥åœ°(Ground)æˆ–ç”µå‹(Power)ä¸¤å±‚å¤§é“œé¢ä¸Šï¼Œå½“â€œé•€é€šå­”â€æ¬²ä»å†…å±‚æ¿ä¸­ç©¿è¿‡è€Œåˆä¸æ¬²è¿æ¥æ—¶ï¼Œåˆ™å¯å…ˆå°†å­”ä½å¤„çš„é“œé¢èš€æ‰ï¼Œè€Œç•™å‡ºè¾ƒå¤§çš„åœ†å½¢ç©ºåœ°ï¼Œåˆ™å½“PTHé“œå­”å£å®Œæˆæ—¶ï¼Œå…¶å¤–å›´è‡ªç„¶ä¼šå‡ºç°ä¸€å›´â€œç©ºç¯â€ã€‚å¦å¤–åœ¨å¤–å±‚æ¿é¢ä¸ŠåŠ å°ç»¿æ¼†æ—¶ï¼Œå„å¾…ç„Šä¹‹å­”ç¯å‘¨å›´ä¹Ÿè¦è®©å‡ºâ€œç¯çŠ¶ç©ºåœ°â€ï¼Œé¿å…ç»¿æ¼†æ²¾æ±¡ç„Šç¯ç”šè‡³è¿›å­”ã€‚è¿™ä¸¤ç§â€œç©ºç¯â€ä¹Ÿå¯ç§°ä¸ºâ€œTerminal Clearanceâ€ã€‚
89ã€Terminalç«¯å­
å¹¿ä¹‰ä¸Šæ‰€è¯´çš„â€œç«¯å­â€ï¼Œæ˜¯æŒ‡åšä¸ºç”µæ€§è¿æ¥çš„å„ç§è£…ç½®æˆ–é›¶ä»¶ã€‚ç”µè·¯æ¿ä¸Šçš„ç‹­ä¹‰ç”¨æ³•æ˜¯æŒ‡å†…å¤–å±‚çš„å„ç§å­”ç¯(Annumlar Ring)è€Œè¨€ã€‚åŒä¹‰è¯å°šæœ‰Padã€Landã€Terminal Areaã€ Terminal Padã€ Solder Padç­‰ã€‚
90ã€Thermal Reliefæ•£çƒ­å¼é•‚ç©º
ä¸ç®¡æ˜¯åœ¨å†…å¤–å±‚æ¿ä¸Šçš„å¤§é“œé¢ï¼Œå…¶è¿ç»­å®Œæ•´çš„é¢ç§¯çš†ä¸å¯è¿‡å¤§ï¼Œä»¥å…æ¿å­åœ¨é«˜æ¸©ä¸­(å¦‚ç„Šæ¥)ï¼Œå› æ¿æä¸é“œçš®ä¹‹é—´è†¨èƒ€ç³»æ•°çš„å·®å¼‚è€Œé€ æˆæ¿ç¿˜ã€æµ®ç¦»ï¼Œæˆ–èµ·æ³¡ç­‰æ¯›ç—…ã€‚ä¸€èˆ¬å¯åœ¨å¤§é“œé¢ä¸Šé‡‡â€œç½‘çƒæ‹â€å¼çš„é•‚ç©ºï¼Œä»¥å‡å°‘çƒ­å†²å‡»ã€‚æ­¤è¯äº¦ç§°ä¸º Halfonningæˆ–Crosshatchingç­‰ã€‚ULè§„å®šåœ¨å…¶è®¤è¯çš„â€œé»„å¡â€ä¸­ï¼Œéœ€è¦ç™»è½½åœ¨æ¿å­ä¸Šæœ€å¤§é“œé¢çš„ç›´å¾„ï¼Œå³æ˜¯ä¸€ç§å®‰å…¨çš„è€ƒè™‘ã€‚
91ã€Thermal Viaå¯¼çƒ­å­”ï¼Œæ•£çƒ­å­”
æ˜¯åˆ†å¸ƒåœ¨é«˜åŠŸç‡(å¦‚5Wä»¥ä¸Š)å¤§å‹é›¶ä»¶ (å¦‚CPUæˆ–å…¶ä»–é©±åŠ¨IC)è…¹åº•æ¿é¢ä¸Šçš„é€šå­”ï¼Œæ­¤ç­‰é€šå­”ä¸å…·å¯¼ç”µäº’è¿åŠŸèƒ½åªåšæ•£çƒ­ç”¨é€”ã€‚æœ‰æ—¶è¿˜ä¼šä¸è¾ƒå¤§çš„é“œé¢è¿æ¥ï¼Œä»¥å¢åŠ ç›´æ¥æ•£çƒ­çš„æ•ˆæœã€‚æ­¤ç­‰æ•£çƒ­å­”å¯¹ Zæ–¹å‘çƒ­åº”åŠ›å…·æœ‰èˆ’ç¼“çš„ä½œç”¨ã€‚ç²¾å¯†Daught Cardçš„ 8 å±‚å°æ¿ï¼Œæˆ–åœ¨æŸäº›BGAåŒé¢æ¿ä¸Šï¼Œå°±å¸¸æœ‰è¿™ç§æ ¼ç‚¹æ’åˆ—çš„æ•£çƒ­å­”ï¼Œä¸ä¸¤é¢é•€é‡‘çš„â€œæ•£çƒ­åº§â€ç­‰è®¾è®¡ã€‚
92ã€Throwing Poweråˆ†å¸ƒåŠ›
å½“ç”µé•€è¿›è¡Œæ—¶ï¼Œå› å¤„åœ¨é˜´æçš„å·¥ä½œç‰©å—å…¶å¤–å½¢çš„å½±å“ï¼Œé€ æˆâ€œåŸå§‹ç”µæµåˆ†å¸ƒâ€ (Primary Current Distribution)çš„é«˜ä½ä¸å‡ï¼Œè€Œå‡ºç°é•€å±‚åšåº¦çš„å·®å¼‚ã€‚æ­¤æ—¶å£åœ¨æ§½æ¶²ä¸­æ·»åŠ å„ç§æœ‰æœºåŠ©å‰‚(å¦‚å…‰æ³½å‰‚ã€æ•´å¹³å‰‚ã€æ¶¦æ¹¿å‰‚ç­‰)ï¼Œä½¿é˜´æè¡¨é¢åŸæœ‰ä¹‹é«˜ç”µæµåŒºåŸŸï¼Œåœ¨å„ç§æœ‰æœºç‰©çš„å½±å“ä¸‹ï¼Œå¯¹åŸæœ¬å¿«é€Ÿå¢åšçš„é•€å±‚æœ‰ä¸€ç§å‡ç¼“ä½œç”¨ï¼Œä»è€Œå¾—ä»¥æ‹‰è¿‘ä¸ä½ç”µæµåŒºåŸŸåœ¨é•€åšä¸Šçš„å·®å¼‚ã€‚è¿™ç§æ§½æ¶²ä¸­æœ‰æœºæ·»åŠ å‰‚å¯¹é˜´æé•€åšåˆ†å¸ƒçš„æ”¹å–„èƒ½åŠ›ï¼Œç§°ä¸ºæ§½æ¶²çš„â€œåˆ†å¸ƒåŠ›â€ï¼Œæ˜¯ä¸€ç§éœ€é«˜åº¦é…åˆçš„å¤æ‚å®éªŒç»“æœã€‚å½“æ¹¿å¼ç”µè§£åˆ¶ç¨‹ä¸ºé˜³æå¤„ç†æ—¶ï¼Œåˆ™æ­¤â€œåˆ†å¸ƒåŠ›â€ä¸€è¯ä¹Ÿé€‚ç”¨äºæŒ‚åœ¨é˜³æçš„å·¥ä½œç‰©ã€‚å¦‚é“ä»¶çš„é˜³æå¤„ç†ï¼Œå°±æ˜¯å¸¸è§çš„ä¾‹å­ã€‚
93ã€Thermo-Viaå¯¼çƒ­å­”
æŒ‡ç”µè·¯æ¿ä¸Šä¹‹å¤§å‹ IC ç­‰é«˜åŠŸç‡é›¶ä»¶ï¼Œåœ¨å·¥ä½œä¸­ä¼šå‘ç”Ÿå¤šé‡çš„çƒ­èƒ½ï¼Œç»„è£…æ¿å¿…é¡»è¦å°†æ­¤é¢å¤–çš„çƒ­é‡äºˆä»¥æ’æ•£ï¼Œä»¥å…æŸåŠè¯¥ç”µå­è®¾å¤‡çš„å¯¿å‘½ã€‚å…¶ä¸­ä¸€ç§ç®€å•çš„æ•£çƒ­æ–¹æ³•ï¼Œå°±æ˜¯åˆ©ç”¨è¡¨é¢ç²˜è£…å¤§å‹ ICçš„åº•åº§æ¿æç©ºåœ°ï¼Œåˆ»æ„å¦åŠ åˆ¶ä½œPTHï¼Œå°†å¤§å‹ICæ‰€å‘çš„çƒ­ï¼Œç›´æ¥å¼•è‡³æ¿å­èƒŒé¢çš„å¤§é“œé¢ä¸Šï¼Œä»¥è¿›è¡Œæ•£çƒ­ã€‚æ­¤ç§ä¸“ç”¨äºä¼ çƒ­è€Œä¸å¯¼ç”µçš„é€šå­”ï¼Œç§°ä¸º Thermo-Viaã€‚
94ã€Tie Baråˆ†æµæ¡
åœ¨ç”µè·¯æ¿å·¥ä¸šä¸­æ˜¯æŒ‡æ¿é¢ç»èš€åˆ»å¾—åˆ°ç‹¬ç«‹çº¿è·¯åï¼Œè‹¥è¿˜éœ€å†åšè¿›ä¸€æ­¥ç”µé•€æ—¶ï¼Œé¡»é¢„å…ˆåŠ è®¾å¯¼ç”µçš„è·¯å¾„æ‰èƒ½ç»§ç»­è¿›è¡Œã€‚ä¾‹å¦‚äºé‡‘æ‰‹æŒ‡åŒºçš„é“œé¢ä¸Šï¼Œå†è¿›è¡Œé•€é•é•€é‡‘æ—¶ï¼Œåªèƒ½é ç‰¹åˆ«ç•™ä¸‹æ¥çš„ Bus Bar( æ±‡æµæ¡)åŠ Tie Bar å»æ¥é€šæ¥è‡ªé˜´ææ†çš„ç”µæµã€‚æ­¤ä¸´æ—¶å¯¼ç”µç”¨çš„ä¸¤ç§â€œå·¥å…·çº¿è·¯â€ï¼Œåœ¨æ¿å­å®Œå·¥åå‡å°†è‡ªæ¿è¾¹äºˆä»¥åˆ‡é™¤ã€‚
95ã€Tooling Featureå·¥å…·æ ‡çš„ç‰©
æ˜¯æŒ‡ç”µè·¯æ¿åœ¨å„ç§åˆ¶ä½œåŠç»„åˆ¶è¿‡ç¨‹ä¸­ï¼Œç”¨ä»¥å®šä½ã€å¯¹å‡†ã€å‚è€ƒä¹‹å„ç§æ ‡å¿—ç‰©ã€‚å¦‚å·¥å…·å­”ã€å‚è€ƒç‚¹ã€è£åˆ‡ç‚¹ã€å‚è€ƒçº¿ã€å®šä½å­”ã€å®šä½æ§½ã€å¯¹å‡†è®°å·ç­‰ï¼Œæ€»ç§°ä¸ºâ€œå·¥å…·ç”¨æ ‡çš„ç‰©â€ã€‚
96ã€Traceçº¿è·¯ã€å¯¼çº¿
æŒ‡ç”µè·¯æ¿ä¸Šä¸€èˆ¬å¯¼çº¿æˆ–çº¿è·¯è€Œè¨€ï¼Œé€šå¸¸å¹¶ä¸åŒ…æ‹¬é€šå­”ã€å¤§åœ°ï¼Œç„Šå«åŠå­”ç¯ç­‰ã€‚åŸæ–‡ä¸­å½“æˆâ€œçº¿è·¯â€ç”¨çš„æœ¯è¯­å°šæœ‰Trackã€Lineã€ Line Runã€Conductorç­‰ã€‚
97ã€Trim Lineè£åˆ‡çº¿
ç”µè·¯æ¿æˆå“çš„å¤–å›´ï¼Œåœ¨åˆ‡å¤–å‹æ—¶æ‰€åº”éµå¾ªçš„è¾¹ç•Œçº¿ç§°ä¸º Trim Lineã€‚
98ã€True PositionçœŸä½
æŒ‡ç”µè·¯æ¿å­”ä½æˆ–æ¿é¢å„ç§æ ‡çš„ç‰©(Feature)ï¼Œå…¶ç­‰åœ¨è®¾è®¡ä¸Šæ‰€åè½çš„ç†è®ºä½ç½®ï¼Œç§°ä¸ºçœŸä½ã€‚ä½†ç”±äºå„ç§å›¾å½¢è½¬ç§»ä»¥åŠæœºæ¢°åŠ å·¥åˆ¶ç¨‹ç­‰ï¼Œä¸å…éƒ½éšè—ç€è¯¯å·®å…¬å·®ï¼Œä¸å¯èƒ½æ¯ç‰‡éƒ½å¾ˆå‡†ç¡®ã€‚å½“æ¿å­åœ¨å®Œå·¥æ—¶ï¼Œåªè¦â€œæ ‡çš„â€ä»å¤„äºçœŸä½æ‰€è¦æ±‚åœ†é¢ç§¯çš„åŠå¾„å…¬å·®èŒƒå›´å†…(True Position Tolerance)ï¼Œè€Œä¸å½±å“ç»„è£…åŠç»ˆç«¯åŠŸèƒ½æ—¶ï¼Œåˆ™å…¶å“è´¨å³å¯å…æ”¶ã€‚
99ã€Unsupported Holeéé•€é€šå­”
æŒ‡ä¸åšå¯¼é€šæˆ–æ’è£…é›¶ä»¶ç”¨é€”ï¼Œåˆæ— é•€é“œå­”å£ä¹‹é’»å­”è€Œè¨€ï¼Œé€šå¸¸æ­¤ç­‰NPTHå­”å¾„å¤šåŠå¾ˆå¤§ï¼Œå¦‚ 125 milä¹‹é”èºä¸å­”å³æ˜¯ã€‚
100ã€Via Holeå¯¼é€šå­”
æŒ‡ç”µè·¯æ¿ä¸Šåªåšä¸ºå¯¼ç”µäº’è¿ç”¨é€”ï¼Œè€Œä¸å†æ’ç„Šé›¶ä»¶è„šä¹‹ PTH è€Œè¨€ã€‚æ­¤ç­‰å¯¼é€šå­”æœ‰è´¯ç©¿å…¨æ¿çš„â€œå…¨é€šå¯¼å­”â€(Through Via Hole)ã€æœ‰åªæ¥é€šè‡³æ¿é¢è€Œæœªå…¨éƒ¨è´¯ç©¿çš„â€œç›²å¯¼å­”â€(Blind Via Hole)ã€æœ‰ä¸ä¸æ¿é¢æ¥é€šå´åŸ‹è—åœ¨æ¿æå†…éƒ¨ä¹‹â€œåŸ‹é€šå­”â€(Buried Via Hole)ç­‰ã€‚æ­¤ç­‰å¤æ‚çš„å±€éƒ¨é€šå­”ï¼Œæ˜¯ä»¥é€æ¬¡è¿ç»­å‹åˆæ³•(Sequential Lamination) æ‰€åˆ¶ä½œå®Œæˆçš„ã€‚æ­¤è¯ä¹Ÿå¸¸ç®€ç§°ä¸ºâ€œViaâ€ã€‚
101ã€Voltage Plane Clearanceç”µå‹å±‚çš„ç©ºç¯
å½“é•€é€šå­”é¡»ç©¿è¿‡å¤šå±‚æ¿ä¹‹å†…è—ç”µå‹å±‚ï¼Œè€Œä¸æ¬²ä¸ä¹‹æ¥è§¦æ—¶ï¼Œå¯åœ¨ç”µå‹å±‚çš„é“œé¢ä¸Šå…ˆè¡Œèš€åˆ»å‡ºåœ†å½¢ç©ºåœ°ï¼Œå‹åˆåå†äºæ­¤ç¨å¤§çš„ç©ºåœ°ä¸Šé’»å‡ºè¾ƒå°çš„å­”ï¼Œå¹¶ç»§ç»­å®ŒæˆPTHã€‚æ­¤æ—¶å…¶ç®¡çŠ¶å­”é“œå£ä¸ç”µå‹å±‚å¤§é“œé¢ä¹‹é—´ï¼Œå³æœ‰ä¸€åœˆç©ºç¯å­˜åœ¨è€Œå¾—ä»¥ç»ç¼˜ï¼Œç§°ä¹‹ä¸ºClearanceã€‚
102ã€Voltage Planeç”µå‹å±‚
æ˜¯æŒ‡ç”µè·¯æ¿ä¸Šé©±åŠ¨å„ç§é›¶ä»¶å·¥ä½œæ‰€éœ€çš„ç”µå‹ï¼Œå¯è—‰ç”±æ¿é¢ä¸€ç§å…¬å…±é“œå¯¼ä½“åŒºäºˆä»¥ä¾›ç»™ï¼Œæˆ–å¤šå±‚æ¿ä¸­ä»¥ä¸€ä¸ªå±‚æ¬¡åšä¸ºç”µå‹å±‚ï¼Œå¦‚å››å±‚æ¿çš„ä¸¤å†…å±‚ä¹‹ä¸€å°±æ˜¯ç”µå‹å±‚(å¦‚5Væˆ– 12V)ï¼Œä¸€èˆ¬ä»¥Vccç¬¦å·è¡¨ç¤ºã€‚å¦ä¸€å±‚æ˜¯æ¥åœ°å±‚ (Groung Plane)ã€‚é€šå¸¸å¤šå±‚æ¿çš„ç”µå‹å±‚é™¤ä¾›ç»™é›¶ä»¶æ‰€éœ€çš„ç”µå‹å¤–ï¼Œä¹Ÿå…¼åšæ•£çƒ­ (Heat Sinking)ä¸å±éšœ(Shielding)ä¹‹åŠŸèƒ½ã€‚
103ã€Wiring Patternå¸ƒçº¿å›¾å½¢
æŒ‡ç”µè·¯æ¿è®¾è®¡ä¸Šä¹‹â€œå¸ƒçº¿â€å›¾å½¢ï¼Œä¸Circuitry Patternã€ Line Run Patternç­‰åŒä¹‰ã€‚
104ã€Working Masterå·¥ä½œæ¯ç‰‡
æŒ‡æ¯”ä¾‹ä¸º1ï¼š1å¤§å°ï¼Œèƒ½ç”¨äºç”µè·¯æ¿ç”Ÿäº§çš„åº•ç‰‡ï¼Œå¹¶å¯ç›´æ¥å†ç¿»åˆ¶æˆç”Ÿäº§çº¿ä¸Šçš„å®é™…ä½¿ç”¨çš„åº•ç‰‡ï¼Œè¿™ç§åŸå§‹åº•ç‰‡ç§°ä¹‹ Working Masterã€‚CAD Computer Aided Design ; ç”µè„‘è¾…åŠ©è®¾è®¡CAE Computer Aided Engineering ; ç”µè„‘è¾…åŠ©å·¥ç¨‹CAM Computer Aided Manufacturing ; ç”µè„‘è¾…åŠ©åˆ¶é€ MLB Multilayer Board ; å¤šå±‚æ¿ (æŒ‡PCBçš„å¤šå±‚æ¿)PCB Printed Circuit Board; å°åˆ·ç”µè·¯æ¿(äº¦åšPWBï¼Œå…¶ä¸­é—´ä¸ºWiringï¼Œä¸è¿‡ç›®å‰å·²æ›´ç®€ç§°ä¸º Printed Boardã€‚å¤§é™†æœ¯è¯­ä¸ºâ€œå°åˆ¶ç”µè·¯æ¿â€)SMOBC Solder Mask Over Bare Copper ; ç»¿æ¼†ç›´æ¥å°äºè£¸é“œæ¿ä¸Š (å³å–·é”¡æ¿)ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>Marauder-é«˜æ•ˆç¼“å­˜å’Œé¢„å–åŠ é€Ÿæ‰‹æœºAPP</title>
    <url>/post/linux/synergized-caching-and-prefetching-for-low-risk-mobile-app-acceleration.html</url>
    <categories><category>Linux</category>
    </categories>
    <tags>
      <tag>Android</tag>
      <tag>Marauder</tag>
      <tag>Mobile App</tag>
    </tags>
    <content type="html"><![CDATA[æœ¬æ¬¡è§£è¯»çš„æ–‡ç« æ¥è‡ªMobiSysâ€˜21ï¼Œç ”ç©¶å¦‚ä½•é«˜æ•ˆåŠ é€Ÿç§»åŠ¨åº”ç”¨ç¨‹åºå“åº”ï¼Œç ”ç©¶äººå‘˜æ¥è‡ªUCLAã€å¯†æ­‡æ ¹å¤§å­¦ä»¥åŠæ™®æ—æ–¯é¡¿å¤§å­¦ã€‚
èƒŒæ™¯&amp;é—®é¢˜ ç§»åŠ¨åº”ç”¨ç¨‹åºå·²æˆä¸ºç§»åŠ¨ç”¨æˆ·è®¿é—®äº’è”ç½‘æœåŠ¡çš„ä¸»è¦åª’ä»‹ï¼Œå æ™ºèƒ½æ‰‹æœºç”¨æˆ·å…³æ³¨æ—¶é—´çš„80%ä»¥ä¸Šï¼Œæ‰‹æœºåº”ç”¨æˆåŠŸçš„å…³é”®æ˜¯è¾ƒä½çš„å“åº”æ—¶é—´å’Œç”¨æˆ·æ„ŸçŸ¥çš„å»¶è¿Ÿã€‚Androidå®˜æ–¹ç»™å‡ºçš„æŠ¥å‘Šæ˜¾ç¤ºç”¨æˆ·å¯¹ä»…ä»…100æ¯«ç§’é‡çº§çš„å»¶è¿Ÿååº”æ¶ˆæï¼Œå¦‚æœå“åº”æ—¶é—´è¶…è¿‡2-3ç§’ï¼Œä»–ä»¬ä¼šæ”¾å¼ƒäº¤äº’ç”šè‡³åˆ é™¤åº”ç”¨ã€‚ é‰´äºç§»åŠ¨åº”ç”¨ç¨‹åºæ€§èƒ½çš„é‡è¦æ€§ï¼Œè®¸å¤šå·¥ä½œéƒ½è‡´åŠ›äºæé«˜å®ƒä»¬çš„å“åº”èƒ½åŠ›ã€‚å¾ˆå¤šç ”ç©¶è®¤ä¸ºç½‘ç»œä¼ è¾“å»¶è¿Ÿæ˜¯å¯¼è‡´é«˜å“åº”æ—¶é—´çš„ä¸»è¦åŸå› ï¼Œæœ¬æ–‡ä¹ŸåŸºäºæ­¤ã€‚ç›®å‰ï¼Œæœ‰ä¸¤ç§ä¸»è¦çš„æŠ€æœ¯æ¥å‡è½»ç½‘ç»œå»¶è¿Ÿå¯¹åº”ç”¨å“åº”çš„è´Ÿé¢å½±å“ï¼šç¼“å­˜å’Œé¢„å–ã€‚åŸåˆ™ä¸Šï¼Œä¸¤éƒ½éå¸¸æœ‰æ•ˆï¼Œç‰¹åˆ«æ˜¯è€ƒè™‘åˆ°ç”¨æˆ·åœ¨ä¸åº”ç”¨ç¨‹åºäº¤äº’æ—¶è¡¨ç°å‡ºçš„é‡å¤æ¨¡å¼ã€‚ç„¶è€Œï¼Œæ¯ä¸€ç§éƒ½æœ‰åŸºæœ¬çš„ç¼ºç‚¹ï¼Œè¿™äº›ç¼ºç‚¹é™åˆ¶äº†å®ƒä»¬åœ¨å®è·µä¸­çš„ä½¿ç”¨å’Œæœ‰æ•ˆæ€§ã€‚
åŠ¨æœº å®éªŒè®¾ç½®   å®éªŒè´Ÿè½½ï¼šè®ºæ–‡æ”¶é›†75ä¸ªå„ç§ç±»åˆ«çš„Android Appï¼Œå…³æ³¨å…¶ä¸­çš„50ä¸ªï¼ˆä½¿ç”¨æµè¡Œçš„OkHttpç¼“å­˜åº“ï¼‰ï¼›
  ç”¨æˆ·äº¤äº’æ¨¡æ‹Ÿï¼šè®ºæ–‡ä½¿ç”¨äº†äººå½¢åº”ç”¨æµ‹è¯•æ¡†æ¶Humanoid appæµ‹è¯•æ¡†æ¶ï¼Œå®ƒé‡‡ç”¨æ·±åº¦ç¥ç»ç½‘ç»œä»å®é™…ç”¨æˆ·è½¨è¿¹ä¸­å­¦ä¹ äº¤äº’æ¨¡å¼ï¼›
  è¿è¡Œè®¾ç½®ï¼šå¯¹æ¯ä¸ªåº”ç”¨ç¨‹åºè€ƒè™‘é»˜è®¤çš„APKï¼Œä»¥åŠåµŒå…¥Marauderçš„å˜ä½“ä¸¤ç§æƒ…å†µï¼Œåœ¨Google Pixel 4å’ŒSamsung Galaxy Note 9ä¸Šè¿è¡Œï¼›éšæœºé€‰æ‹©æ¯ä¸ªåº”ç”¨ç¨‹åºçš„5ä¸ªç”¨æˆ·äº¤äº’è½¨è¿¹ï¼Œå¹¶ä»¥ğ›¿åˆ†é’Ÿä¸ºé—´éš”è¿›è¡Œåº”ç”¨ã€‚æ ¹æ®ä¹‹å‰å¯¹ç”¨æˆ·-åº”ç”¨ç¨‹åºäº¤äº’çš„ç ”ç©¶ï¼Œè®ºæ–‡è€ƒè™‘10åˆ†é’Ÿåˆ°1å¤©çš„ğ›¿å€¼ï¼›å¦‚æœæœªè¯´æ˜ï¼Œé»˜è®¤å€¼ä¸ºğ›¿ = 60ğ‘šğ‘–ğ‘›ğ‘ ã€‚å®éªŒè¿‡ç¨‹ç½‘ç»œç¯å¢ƒåŒ…æ‹¬å®¶åº­WiFiå’ŒLTEç½‘ç»œï¼›
  æ€§èƒ½åŸºå‡†ï¼šæœ¬æ–‡ä¸»è¦çš„æ€§èƒ½æŒ‡æ ‡æ˜¯ç”¨æˆ·å“åº”æ—¶é—´IRTï¼ˆinteraction response timeï¼‰ï¼Œå³ç”¨æˆ·æ‰§è¡Œå±å¹•ç‚¹å‡»ä»¥è§¦å‘äº¤äº’çš„æ—¶é—´ä¸äº¤äº’çš„æœ€ç»ˆå±å¹•å®Œå…¨å‘ˆç°çš„æ—¶é—´ä¹‹é—´çš„æ—¶é—´ã€‚ï¼ˆå…·ä½“æµ‹é‡æ–¹æ³•è¯¦è§è®ºæ–‡ä»‹ç»ï¼‰ï¼›
  ç›¸å…³ç»“è®º  ç°åœ¨çš„æ‰‹æœºAPPäº¤äº’å¤ªæ…¢ï¼š  å›¾ 3æ˜¾ç¤ºåº”ç”¨ç¨‹åºå’Œè·Ÿè¸ªçš„äº¤äº’å“åº”æ—¶é—´ (IRT) åˆ†å¸ƒï¼ŒIRT å€¼çš„ä¸­ä½æ•°å’Œç¬¬ 90 ä¸ªç™¾åˆ†ä½æ•°åœ¨ WiFi ç½‘ç»œä¸Šåˆ†åˆ«ä¸º 1.6 å’Œ 3.7 ç§’ï¼Œåœ¨ LTE ç½‘ç»œä¸Šè·ƒå‡è‡³ 2.9 å’Œ 6.7 ç§’ã€‚å› æ­¤ï¼Œäº¤äº’å“åº”æ—¶é—´ç»å¸¸è¶…è¿‡ç”¨æˆ·æ„¿æ„å®¹å¿çš„ 2-3 ç§’ã€‚ ç½‘ç»œå»¶è¿Ÿæ˜¯å…³é”®å› ç´ ï¼š  ç§»åŠ¨åº”ç”¨ç¨‹åºçš„å“åº”æ—¶é—´å–å†³äºå†…å®¹è·å–è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ç½‘ç»œå»¶è¿Ÿï¼Œä»¥åŠåœ¨APKä¸­è§£æ/å‘ˆç°è¯¥å†…å®¹å’Œå…¶ä»–ä»£ç çš„å®¢æˆ·ç«¯è®¡ç®—å»¶è¿Ÿã€‚å¯¹äºæ¯ä¸ªäº¤äº’ï¼Œè®ºæ–‡æ¯”è¾ƒäº†æœ‰å’Œæ²¡æœ‰ç½‘ç»œå»¶è¿Ÿçš„IRTã€‚å¦‚å›¾4æ‰€ç¤ºï¼Œç½‘ç»œå»¶è¿Ÿåˆ†åˆ«å WiFiå’ŒLTEä¸­å€¼äº¤äº’IRTçš„38%å’Œ64%ã€‚
ç°æœ‰ä¼˜åŒ–å­˜åœ¨å±€é™ï¼š  ä¸Šè¿°å®éªŒä¸­ï¼Œåº”ç”¨ç¨‹åºé‡‡ç”¨é»˜è®¤è¿è¡Œæ¨¡å¼ï¼Œåº”ç”¨ç¨‹åºçš„APKæˆ–æºæœåŠ¡å™¨æŒ‡å®šçš„ä»»ä½•ç¼“å­˜æˆ–é¢„å–éƒ½ä¼šè¢«é‡‡ç”¨ã€‚ç„¶è€Œï¼Œå“åº”æ—¶é—´ä»ç„¶è¿‡é•¿ã€‚
ç¼“å­˜çš„é—®é¢˜ï¼šç°æœ‰çš„ç¼“å­˜è¦æ±‚å¼€å‘äººå‘˜ä¸ºä»–ä»¬æœåŠ¡çš„æ¯ä¸ªèµ„æºæ˜¾å¼è®¾ç½®ä¸€ä¸ªTTLã€‚ç„¶è€Œï¼Œè®¾ç½®è¿™æ ·çš„TTLæ˜¯å›°éš¾çš„ï¼Œå› ä¸ºæ¯ä¸ªèµ„æºçš„ç†æƒ³TTLéšæ—¶é—´è€Œå˜åŒ–ã€‚è®ºæ–‡çš„å®éªŒä¸­ï¼Œ50%èµ„æºçš„ç†æƒ³TTLsçš„æ ‡å‡†åå·®æ˜¯2å°æ—¶ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¼€å‘äººå‘˜é¢ä¸´ç€æƒè¡¡ï¼›
é¢„å–çš„é—®é¢˜ï¼šåº”ç”¨ç¨‹åºå¯¹é¢„å–çš„æ”¯æŒé€šå¸¸é€‰æ‹©è·å–å¤§é‡å†…å®¹çš„é€šç”¨ç­–ç•¥ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†å†…å®¹æ²¡æœ‰è¢«ä½¿ç”¨ã€‚å› æ­¤ï¼Œå°½ç®¡æœ‰æ½œåœ¨çš„åŠ é€Ÿï¼Œå®é™…ä¸Šé¢„å–åœ¨èµ„æºä½¿ç”¨æ–¹é¢æ˜¯éå¸¸æµªè´¹çš„ã€‚è¿™ç§æµªè´¹ä¼šå¯¼è‡´è¾ƒé«˜çš„é€šä¿¡æˆæœ¬ï¼Œå¹¶ä¸”è¿˜ä¼šå½±å“IRTåŠ é€Ÿï¼Œå°¤å…¶æ˜¯åœ¨å¸¦å®½å—é™çš„è®¾ç½®ä¸­ï¼Œå…¶ä¸­æ˜ç¡®è¯·æ±‚çš„èµ„æºå¿…é¡»ä¸ä¸å¿…è¦é¢„å–çš„èµ„æºç«äº‰ï¼›
è®¾è®¡ Marauderæ˜¯ä¸€ä¸ªç§»åŠ¨åº”ç”¨ç¨‹åºåŠ é€Ÿæ¡†æ¶ï¼Œå…¶ç›®æ ‡æ˜¯åŒæ—¶åˆ©ç”¨ç¼“å­˜å’Œé¢„å–çš„èƒ½åŠ›ï¼Œå°½é‡å›é¿å®ƒä»¬çš„é£é™©å’Œå±€é™æ€§ã€‚Marauderçš„å…³é”®æ€æƒ³æ˜¯ä½¿ç”¨æ˜æ™ºçš„é¢„å–æ¥æœ€å¤§åŒ–å·²ç»ç¼“å­˜çš„å¯¹è±¡çš„æ•ˆç”¨(å³ç¼“å­˜å‘½ä¸­)ï¼Œç„¶åä½¿ç”¨è¿™äº›ç¼“å­˜çš„å¯¹è±¡æ¥æŒ‡å¯¼å³æ—¶é¢„å–(å³åœ¨å½“å‰äº¤äº’æœŸé—´)ã€‚
è§‚å¯Ÿ è§‚å¯Ÿä¸€ï¼šè®ºæ–‡å‘ç°ä¸ºç»™å®šäº¤äº’æå–çš„æ–‡æœ¬æ–‡ä»¶ï¼ˆå³ JSONã€HTMLã€JavaScriptã€CSS å’Œ XMLï¼‰ç›´æ¥åµŒå…¥äº†è¯¥äº¤äº’æ‰€éœ€çš„å¤§å¤šæ•°éæ–‡æœ¬èµ„æºçš„åˆ—è¡¨ï¼Œ94%æå–çš„éæ–‡æœ¬èµ„æºçš„URLå¯ä»¥ä»ä»¥å‰æå–çš„æ–‡æœ¬æ–‡ä»¶ä¸­è·å¾—ã€‚æ‰€ä»¥ï¼Œå½“åº”ç”¨ç¨‹åºè§£æå’Œæ‰§è¡Œæ–‡æœ¬æ–‡ä»¶æ—¶ï¼Œå¯ä»¥ç›´æ¥ä»åº”ç”¨ç¨‹åºçš„ç¼“å­˜ä¸­å‘å‡ºå¯¹ä»»ä½•å¼•ç”¨æ–‡ä»¶çš„é¢„å–è¯·æ±‚ã€‚è¿™æ ·ï¼Œæ–‡æœ¬æ–‡ä»¶çš„æ—©æœŸè§£æå’Œæ‰§è¡Œå»¶è¿Ÿä¼šä¸è¢«å¼•ç”¨çš„éæ–‡æœ¬æ–‡ä»¶çš„ç½‘ç»œè·å–å»¶è¿Ÿé‡å ã€‚è€Œä¸”ï¼Œè¿™ç§JIT(just-in-time)çš„é¢„å–çš„é£é™©ä¼šå¾ˆä½å› ä¸ºå®ƒåªè€ƒè™‘ç›´æ¥åˆ—åœ¨æ–‡ä»¶ä¸­çš„èµ„æºï¼Œè¯¥æ–‡ä»¶è¢«æ˜¾å¼åœ°è¯·æ±‚å¹¶ä¸”å°†è¦è¢«è§£æï¼›
è§‚å¯ŸäºŒï¼šè®ºæ–‡è§‚å¯Ÿåˆ°ç¼“å­˜èµ„æºçš„å†…å®¹é€šå¸¸ä¿æŒä¸å˜ï¼Œå°½ç®¡ç›¸åº”çš„ TTL å·²è¿‡æœŸï¼ˆè¿™å‘ç”Ÿåœ¨47% çš„èµ„æºä¸­ï¼‰ï¼Œè¿™è¡¨æ˜ç°æœ‰ç¼“å­˜TTL è®¾ç½®è¿‡äºä¿å®ˆã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡é¢„å–å³å°†åˆ°æœŸçš„èµ„æºï¼Œåœ¨å®ƒä»¬æ²¡æœ‰æ”¹å˜çš„æƒ…å†µä¸‹å»¶é•¿å®ƒä»¬çš„TTL(ä»è€Œæé«˜å®ƒä»¬çš„å‘½ä¸­ç‡)ï¼›
è§‚å¯Ÿä¸‰ï¼šè®ºæ–‡å‘ç°ç»™å®šæ–‡æœ¬æ–‡ä»¶å¼•ç”¨çš„æ–‡ä»¶é›†é€šå¸¸åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…ä¿æŒç¨³å®šï¼Œå³ä½¿æ–‡æœ¬å†…å®¹å‘ç”Ÿå˜åŒ–ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¾‹å¦‚ï¼Œä¸­é—´æ–‡æœ¬æ–‡ä»¶çš„å¼•ç”¨æ–‡ä»¶é›†åœ¨4å°æ—¶å†…ä¿æŒä¸å˜ï¼Œå°½ç®¡50%çš„æ–‡æœ¬æ–‡ä»¶ä»…åœ¨20åˆ†é’Ÿå†…ä¿æŒä¸å˜ã€‚å°†æ­¤æ¡ä»¶æ”¾å®½åˆ°åªæœ‰90%çš„å¼•ç”¨æ–‡ä»¶æœªæ›´æ”¹ï¼Œå°†ä¸­ä½æŒç»­æ—¶é—´å¢åŠ åˆ°9å°æ—¶ã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡åœ¨éªŒè¯/æ›´æ–°ä¸å¯ç¼“å­˜çš„æ–‡æœ¬æ–‡ä»¶å¹¶éšåè§£æè¯¥æ–‡æœ¬æ–‡ä»¶æ—¶ï¼Œå¯¹è¯¥æ–‡æœ¬æ–‡ä»¶æ‰€å¼•ç”¨çš„æ–‡ä»¶å‘å‡ºé¢„å–è¯·æ±‚ï¼Œå‡å°‘æ¡ä»¶æ£€æŸ¥æ‰€å¸¦æ¥çš„å»¶è¿Ÿã€‚ã€‚
åå°æ“ä½œ   Cache Refresherï¼šåˆ·æ–°ç¼“å­˜èµ„æºï¼Œä»¥æé«˜æ•´ä½“ç¼“å­˜å‘½ä¸­ç‡ã€‚å¯¹äºç¼“å­˜ä¸­å…·æœ‰éé›¶TTLçš„æ¯ä¸ªèµ„æº(å³ï¼Œä¸åŒ…æ‹¬æ ‡è®°ä¸ºéç¼“å­˜çš„èµ„æº)ï¼ŒMarauderæ·»åŠ ä¸€ä¸ªè®¡æ—¶å™¨äº‹ä»¶ï¼Œè¯¥äº‹ä»¶åœ¨åˆ°æœŸæ—¶æ£€æŸ¥èµ„æºçš„å†…å®¹æ˜¯å¦æ²¡æœ‰æ”¹å˜ï¼Œä»¥åŠå…¶TTLæ˜¯å¦å¯ä»¥å»¶é•¿ã€‚æŒ‰ç…§ä¸Šé¢çš„è§‚å¯ŸäºŒï¼ŒMarauderå¯¹æ–‡æœ¬å’Œéæ–‡æœ¬æ–‡ä»¶æ‰§è¡Œä¸åŒçš„TTLæ‰©å±•è¿‡ç¨‹ï¼›
  JIT Prefetcherï¼šä¿ƒè¿›æ–‡æœ¬æ–‡ä»¶å¼•ç”¨çš„èµ„æºçš„åœ¨çº¿é¢„å–ã€‚æ¯å½“ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶è¢«æ·»åŠ åˆ°åº”ç”¨ç¨‹åºç¼“å­˜æ—¶(å³ä½¿å®ƒè¢«æ ‡è®°ä¸ºæ— ç¼“å­˜), Marauder éƒ½ä¼šå¼‚æ­¥ç”Ÿæˆä¸€ä¸ªå·¥ä½œçº¿ç¨‹æ¥è§£æç›¸åº”æ–‡æœ¬æ–‡ä»¶çš„æ­£æ–‡ä»¥æœç´¢å¼•ç”¨çš„URLã€‚å¼€å‘äººå‘˜ä½¿ç”¨å„ç§æ­£åˆ™è¡¨è¾¾å¼å’Œ LinkedIn URL æ£€æµ‹å™¨åº“é™æ€åˆ†ææ–‡æœ¬æ–‡ä»¶ï¼Œä»¥æŸ¥æ‰¾æ‰€æœ‰ç±»ä¼¼äº URL çš„å­—ç¬¦ä¸²ï¼›
  è¿è¡Œæµç¨‹ åœ¨ç”¨æˆ·äº¤äº’æœŸé—´ï¼Œåº”ç”¨ç¨‹åºå‘å‡ºçš„è¯·æ±‚æ­£å¸¸è®¿é—®ç¼“å­˜å­˜åœ¨ä¸‰ç§æ½œåœ¨çš„æƒ…å†µï¼Œæ¯ç§æƒ…å†µéƒ½éœ€è¦ä½¿ç”¨ Marauder çš„ä¸åŒå·¥ä½œæµç¨‹ã€‚
  å¯¹äºç¬¬ä¸€æ¬¡è¯·æ±‚æ–‡æœ¬æ–‡ä»¶(å³ï¼Œå®ƒä¸åœ¨ç¼“å­˜ä¸­ï¼Œç”šè‡³è¿‡æœŸ)ï¼Œæˆ–è€…ä»»ä½•è¯·æ±‚éæ–‡æœ¬æ–‡ä»¶ä½†åœ¨åº”ç”¨ç¨‹åºç¼“å­˜ä¸­æœªå‘½ä¸­çš„è¯·æ±‚ï¼ŒMarauderä¼šç«‹å³é€šè¿‡ç½‘ç»œå‘å‡ºè¯·æ±‚ã€‚æ”¶åˆ°å“åº”åï¼ŒMarauderå°†å†…å®¹å‘é€åˆ°åº”ç”¨ç¨‹åºï¼Œå°†å…¶æ·»åŠ åˆ°ç¼“å­˜ä¸­ï¼Œå¦‚æœå®ƒæ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œåˆ™å¼€å§‹åå°ä»»åŠ¡ä»¥æå–å¼•ç”¨çš„èµ„æºï¼›
  å¯¹äºåœ¨åº”ç”¨ç¨‹åºç¼“å­˜ä¸­å‘½ä¸­çš„æ–‡æœ¬æ–‡ä»¶è¯·æ±‚(æ ¹æ®ç¼“å­˜åº“çš„é»˜è®¤å‘½ä¸­æ ‡å‡†)ï¼ŒMarauderç”¨ç›¸åº”çš„å†…å®¹å“åº”åº”ç”¨ç¨‹åºï¼Œå¹¶ç«‹å³å¯¹è¯¥æ–‡æœ¬æ–‡ä»¶å¼•ç”¨çš„æ‰€æœ‰æ–‡ä»¶å‘å‡ºå¼‚æ­¥é¢„å–è¯·æ±‚(ä½¿ç”¨ç¦»çº¿ç”Ÿæˆçš„åˆ—è¡¨)ã€‚é¢„å–è¯·æ±‚é¦–å…ˆé€šè¿‡åº”ç”¨ç¨‹åºç¼“å­˜ï¼Œç¡®ä¿å·²ç»ç¼“å­˜çš„èµ„æºä¸ä¼šè¢«é‡æ–°ä¸‹è½½ã€‚ä¸ºäº†å‘å‡ºé¢„å–è¯·æ±‚ï¼ŒMarauderé¦–å…ˆå¡«å……åŠ¨æ€æŸ¥è¯¢å‚æ•°çš„å€¼ï¼›
  å¯¹äºåœ¨åº”ç”¨ç¨‹åºç¼“å­˜ä¸­æœªå‘½ä¸­ä½†ä¸æ ‡è®°ä¸ºæ— ç¼“å­˜çš„æ¡ç›®ç›¸å…³çš„æ–‡æœ¬æ–‡ä»¶è¯·æ±‚ï¼ŒMarauderä¼šå‘å‡ºä¸€ä¸ªå¯¹æ–‡æœ¬æ–‡ä»¶çš„è¯·æ±‚ï¼Œç„¶åå‘å‡ºå¯¹å…¶æ‰€æœ‰è¢«å¼•ç”¨å­èŠ‚ç‚¹çš„é¢„å–è¯·æ±‚ã€‚å¦‚æœæ–‡æœ¬æ–‡ä»¶åœ¨æŸäº›é¢„å–èµ„æºä¹‹å‰åˆ°è¾¾ï¼ŒMarauderä¼šå°å¿ƒåœ°å°†åº”ç”¨ç¨‹åºæ˜¾å¼å‘å‡ºçš„åç»­è¯·æ±‚æ’é˜Ÿï¼Œè¿™äº›è¯·æ±‚å·²ç»æœ‰ä¸€ä¸ªæœªå®Œæˆçš„é¢„å–è¯·æ±‚ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒMarauderé¿å…äº†é‡å¤è¯·æ±‚å’Œå¸¦å®½æµªè´¹ï¼›ä¸€æ—¦ç›¸åº”çš„é¢„å–å“åº”åˆ°è¾¾ï¼Œé˜Ÿåˆ—ä¸­çš„è¯·æ±‚å°±ä¼šå¾—åˆ°æœåŠ¡ï¼›
  å®éªŒ åº”ç”¨ç¨‹åºåŠ é€Ÿ å›¾14 è¯´æ˜äº†ä¸å½“å‰åº”ç”¨ç¨‹åºæ‰€é‡‡ç”¨çš„é»˜è®¤ç¼“å­˜å’Œé¢„å–ç­–ç•¥ç›¸æ¯”ï¼ŒMarauderèƒ½å¤Ÿé™ä½äº¤äº’å“åº”æ—¶é—´(IRT)ã€‚ä¾‹å¦‚ï¼Œåœ¨LTEç½‘ç»œä¸Šï¼ŒMarauder å°†ä¸€åŠçš„åº”ç”¨ç¨‹åºçš„IRTæé«˜äº† 19.8-27.4%ï¼ˆæˆ– 0.58-0.81 ç§’ï¼‰ï¼›ä¸€åŠçš„åº”ç”¨ç¨‹åºçš„ç¬¬ 90 ä¸ªç™¾åˆ†ä½ IRT æ”¹è¿›ä¸º 29.7-43.5%ï¼ˆæˆ– 0.87-1.27 ç§’ï¼‰ã€‚ç”±äºæœåŠ¡å™¨çš„ç½‘ç»œå»¶è¿Ÿè¾ƒä½ï¼ŒMarauder åœ¨ WiFi ä¸Šçš„æ”¶ç›Šä¸­ä½æ•°å’Œ 90% åˆ†åˆ«ä¸‹é™åˆ° 16.9-23.1% å’Œ 26.1-33.2%ã€‚å›¾ 14 è¿˜æ˜¾ç¤ºï¼Œå½“ç”¨æˆ·ä¼šè¯ä¹‹é—´çš„æ—¶é—´å¢åŠ æ—¶ï¼ŒMarauder çš„æ”¹è¿›æ›´åŠ æ˜æ˜¾ï¼ˆå³æ˜¯å‰æ–‡çš„å‚æ•°ğ›¿ï¼‰ã€‚ä¾‹å¦‚ï¼Œåœ¨ LTE ä¸Šï¼Œéšç€ğ›¿ ä» 20 åˆ†é’Ÿå¢åŠ åˆ° 4 å°æ—¶ï¼Œä¸€åŠçš„åº”ç”¨ç¨‹åºçš„IRT æ”¹è¿›ä» 19.8% å¢é•¿åˆ° 24.4%ã€‚
Marauderæ€§èƒ½æ·±å…¥åˆ†æ  æ¯ä¸ªè®¾è®¡çš„æ•ˆç‡ï¼šåˆ†åˆ«åˆ†æäº†JITé¢„å–å’ŒCache Refreshingçš„æ•ˆæœï¼Œåå°ç¼“å­˜åˆ·æ–°ä»¥æé«˜å·²ç¼“å­˜èµ„æºçš„å‘½ä¸­ç‡æ˜¯ Marauder æ”¶ç›Šæœ€å¤§çš„åœ°æ–¹ï¼Œåœ¨æ‰€è€ƒè™‘çš„ ğ›¿ å€¼çš„ä¸­ä½æ•°å¤„æä¾› 13.3-16.1% çš„åŠ é€Ÿã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå³æ—¶é¢„å–å¯æä¾› 3.4-8.6% çš„ä¸­å€¼åŠ é€Ÿï¼› äº’åŠ¨æ¡ˆä¾‹çš„æµ‹è¯•ï¼šMarauder ä¼˜åŒ–çš„æœ‰æ•ˆæ€§å—ç›®æ ‡ç‰¹å®šäº¤äº’ä¸­çš„åŠ è½½æ¨¡å¼çš„å½±å“ã€‚ä¸ºäº†æ›´å¥½åœ°ç†è§£è¿™äº›å…³ç³»ï¼Œå®éªŒåˆ†æäº†å½“å‰åº”ç”¨ç¨‹åºçš„äº¤äº’ï¼Œå¹¶ç¡®å®šäº†å½±å“ Marauder æä¾›çš„åŠ é€Ÿå¹…åº¦çš„ä¸‰ç§ä¸»è¦æ¨¡å¼ï¼›  å’Œå…ˆè¿›æ–¹æ¡ˆå¯¹æ¯” è®ºæ–‡å°† Marauder ä¸ä¸‰ç§åŠ é€Ÿæ–¹æ³•è¿›è¡Œäº†æ¯”è¾ƒï¼šPalomaé¢„å–ç³»ç»Ÿï¼Œä»¥åŠåº”ç”¨ç¨‹åºæ”¯æŒçš„æœ€æ¿€è¿›å’Œä¿å®ˆçš„é¢„å–ç­–ç•¥ã€‚
æ€»ç»“ è®ºæ–‡æå‡ºäº†ä¸€ç§ç§»åŠ¨åº”ç”¨ç¨‹åºåŠ é€Ÿç³»ç»ŸMarauderï¼Œå®ƒç»¼åˆåˆ©ç”¨ç¼“å­˜å’Œé¢„å–æŠ€æœ¯ï¼Œä¼˜åŒ–äº†TTLè®¾ç½®ä¸å½“ã€ç¼“å­˜è¿‡æ—¶å†…å®¹ä»¥åŠé¢„å–æµªè´¹å¸¦å®½é—®é¢˜ã€‚åŒæ—¶ï¼Œæ–‡ç« é€šè¿‡åˆ†æå¤§é‡å®éªŒæ•°æ®ï¼Œå¾—åˆ°äº†ä¸€äº›å…³é”®è§‚å¯Ÿã€‚ç›¸å…³å®éªŒè®¾è®¡éå¸¸å·§å¦™å€¼å¾—å­¦ä¹ ã€‚å¯¹ç¼“å­˜å’Œé¢„å–è¿™ä¸¤ç§æ“ä½œç³»ç»Ÿç»å…¸è®¾è®¡åœ¨åº”ç”¨ç¨‹åºåŠ é€Ÿé¢†åŸŸåšäº†æ·±å…¥åˆ†æï¼Œä½†æ˜¯è®¾è®¡æœ¬èº«å¹¶ä¸å¤æ‚ã€‚æ­¤å¤–ï¼Œä»å®ç°ä¸Šæ¥çœ‹ï¼ŒMarauderåªæ˜¯ç”¨ä¸Šè¿°ä¼˜åŒ–çš„ç‰ˆæœ¬æ›¿æ¢äº†å¤§å¤šæ•°åº”ç”¨ç¨‹åºæ‰€ä¾èµ–çš„ç¼“å­˜åº“ï¼Œå¯ä»¥ç«‹å³éƒ¨ç½²ã€‚
æºä»£ç å’Œå®éªŒæ•°æ®è®¿é—® https://github.com/muralisr/marauder  
The End
è‡´è°¢
æ„Ÿè°¢æœ¬æ¬¡è®ºæ–‡è§£è¯»è€…ï¼Œæ¥è‡ªåä¸œå¸ˆèŒƒå¤§å­¦çš„åšå£«ç”Ÿææ–‡é€šï¼Œä¸»è¦ç ”ç©¶æ–¹å‘ä¸ºè·¨è®¾å¤‡èµ„æºå…±äº«ã€ç§»åŠ¨è®¡ç®—ã€‚
 è®ºæ–‡ä¸‹è½½åœ°å€  
]]></content>
  </entry>
  
  <entry>
    <title>Nvidia 3060æ˜¾å¡ CUDAç¯å¢ƒæ­å»º</title>
    <url>/post/linux/how-to-setup-CUDA-environment-for-nvidia-3060.html</url>
    <categories><category>Linux</category>
    </categories>
    <tags>
      <tag>Nvidia</tag>
      <tag>Ubuntu 22.04</tag>
      <tag>Cuda11.6</tag>
      <tag>Cudnn8.8</tag>
      <tag>Nouveau</tag>
    </tags>
    <content type="html"><![CDATA[æœ¬æ–‡è¯¦ç»†è®°å½•äº†å¦‚ä½•åœ¨Ubuntu 22.04ä¸Šéƒ¨ç½²åŸºäºNVIDIA 510çš„CUDAã€‚
å†™åœ¨å‰é¢ å·¥ä½œä¸­é‡åˆ°ï¼Œç®€å•æ•´ç† ç†è§£ä¸è¶³å°ä¼™ä¼´å¸®å¿™æŒ‡æ­£ å¯¹æ¯ä¸ªäººè€Œè¨€ï¼ŒçœŸæ­£çš„èŒè´£åªæœ‰ä¸€ä¸ªï¼šæ‰¾åˆ°è‡ªæˆ‘ã€‚ç„¶ååœ¨å¿ƒä¸­åšå®ˆå…¶ä¸€ç”Ÿï¼Œå…¨å¿ƒå…¨æ„ï¼Œæ°¸ä¸åœæ¯ã€‚æ‰€æœ‰å…¶å®ƒçš„è·¯éƒ½æ˜¯ä¸å®Œæ•´çš„ï¼Œæ˜¯äººçš„é€ƒé¿æ–¹å¼ï¼Œæ˜¯å¯¹å¤§ä¼—ç†æƒ³çš„æ‡¦å¼±å›å½’ï¼Œæ˜¯éšæ³¢é€æµï¼Œæ˜¯å¯¹å†…å¿ƒçš„ææƒ§ â€”â€”èµ«å°”æ›¼Â·é»‘å¡ã€Šå¾·ç±³å®‰ã€‹
å½“å‰ç³»ç»Ÿç¯å¢ƒ ç³»ç»Ÿç¯å¢ƒ
â”Œâ”€â”€[root@test]-[~] â””â”€$hostnamectl Static hostname: test Icon name: computer-desktop Chassis: desktop Machine ID: addc7ca21ef24518a9465c499eb3c8b7 Boot ID: 14aa59cc6960431c95d328684b521844 Operating System: Ubuntu 22.04.2 LTS Kernel: Linux 5.19.0-43-generic Architecture: x86-64 Hardware Vendor: Micro-Star International Co., Ltd. Hardware Model: MS-7C83 æ˜¾å¡ç‰ˆæœ¬
â”Œâ”€â”€[root@test]-[~] â””â”€$lspci -vnn | grep VGA 01:00.0 VGA compatible controller [0300]: NVIDIA Corporation GA106 [GeForce RTX 3060 Lite Hash Rate] [10de:2504] (rev a1) (prog-if 00 [VGA controller]) â”Œâ”€â”€[root@test]-[~] â””â”€$ å®‰è£… NVIDIA é©±åŠ¨ç¨‹åºï¼Œåœ¨å®‰è£…ä¹‹å‰ï¼Œéœ€è¦ç¦ç”¨ Nouveau é©±åŠ¨ç¨‹åºã€‚
Nouveau æ˜¯ä¸€ä¸ªå¼€æºçš„NVIDIAæ˜¾å¡é©±åŠ¨ç¨‹åºï¼Œå®ƒç”±ç¤¾åŒºå¼€å‘å’Œç»´æŠ¤ã€‚å®ƒå¯ä»¥åœ¨Linuxç³»ç»Ÿä¸Šæ›¿ä»£NVIDIAå®˜æ–¹é©±åŠ¨ç¨‹åºï¼Œä½†å®ƒçš„æ€§èƒ½å’ŒåŠŸèƒ½å¯èƒ½ä¸å¦‚å®˜æ–¹é©±åŠ¨ç¨‹åºã€‚
å¦‚æœä½¿ç”¨ Nouveau é©±åŠ¨ç¨‹åºï¼Œæ‚¨å¯èƒ½æ— æ³•ä½¿ç”¨NVIDIAçš„é«˜çº§åŠŸèƒ½ï¼Œå¦‚CUDAå’Œæ·±åº¦å­¦ä¹ åº“ã€‚å¦‚æœæ‚¨éœ€è¦ä½¿ç”¨è¿™äº›åŠŸèƒ½ï¼Œå»ºè®®å®‰è£…NVIDIAå®˜æ–¹é©±åŠ¨ç¨‹åºã€‚
ç¦ç”¨ Nouveau é©±åŠ¨ç¨‹åº
â”Œâ”€â”€[root@test]-[~] â””â”€$sudo vim /etc/modprobe.d/blacklist-nouveau.conf â”Œâ”€â”€[root@test]-[~] â””â”€$cat /etc/modprobe.d/blacklist-nouveau.conf blacklist nouveau options nouveau modeset=0 â”Œâ”€â”€[root@test]-[~] â””â”€$sudo update-initramfs -u update-initramfs: Generating /boot/initrd.img-5.19.0-43-generic æ²¡æœ‰è¾“å‡ºè¯´æ˜æ“ä½œæˆåŠŸ
â”Œâ”€â”€[root@test]-[~] â””â”€$reboot â”Œâ”€â”€[root@test]-[~] â””â”€$lsmod | grep nouveau â”Œâ”€â”€[root@test]-[~] â””â”€$ å®‰è£…Nvidiaé©±åŠ¨ è¿™é‡Œçš„ç‰ˆæœ¬ nvidia-driver-510 è¦å’Œåé¢å®‰è£… cuda çš„ç‰ˆæœ¬ä¸€æ ·
å¦‚æœä¹‹å‰å®‰è£…è¿‡å¸è½½é©±åŠ¨
# æŸ¥çœ‹æ˜¾å¡å‹å· lspci -vnn | grep VGA # å¸è½½æ—§é©±åŠ¨ sudo apt-get remove --purge nvidia* ç¦»çº¿å®‰è£…
å¦‚æœç¦»çº¿ç¯å¢ƒéœ€è¦æ‰‹åŠ¨å®‰è£…,ä¸‹è½½é©±åŠ¨ï¼šhttps://www.nvidia.com/Download/index.aspx?lang=en-us
# ç»™runæ–‡ä»¶å¯æ‰§è¡Œæƒé™  sudo chmod a+x NVIDIA-Linux-x86_64-515.86.01.run # å®‰è£…  sudo ./NVIDIA-Linux-x86_64-440.64.run -no-x-check -no-nouveau-check -no-opengl-files # -no-x-checkï¼šå®‰è£…é©±åŠ¨æ—¶å…³é—­XæœåŠ¡ # -no-nouveau-checkï¼šå®‰è£…é©±åŠ¨æ—¶ç¦ç”¨nouveau # -no-opengl-filesï¼šåªå®‰è£…é©±åŠ¨æ–‡ä»¶ï¼Œä¸å®‰è£…OpenGLæ–‡ä»¶ éç¦»çº¿å®‰è£…
éç¦»çº¿ç¯å¢ƒä½¿ç”¨åŒ…ç®¡ç†å·¥å…·å®‰è£…ï¼Œä¸‹é¢çš„é€‰æ‹©è¿™ä¸€ç§,é€‰æ‹©å®‰è£…é©±åŠ¨ç‰ˆæœ¬
â”Œâ”€â”€[root@test]-[~] â””â”€$ubuntu-drivers devices == /sys/devices/pci0000:00/0000:00:01.0/0000:01:00.0 == modalias : pci:v000010DEd00002504sv00001462sd0000397Dbc03sc00i00 vendor : NVIDIA Corporation model : GA106 [GeForce RTX 3060 Lite Hash Rate] driver : nvidia-driver-530-open - distro non-free driver : nvidia-driver-470 - distro non-free driver : nvidia-driver-525-open - third-party non-free driver : nvidia-driver-535 - third-party non-free driver : nvidia-driver-520 - third-party non-free driver : nvidia-driver-510 - distro non-free driver : nvidia-driver-525 - third-party non-free driver : nvidia-driver-515-server - distro non-free driver : nvidia-driver-535-open - third-party non-free recommended driver : nvidia-driver-530 - third-party non-free driver : nvidia-driver-470-server - distro non-free driver : nvidia-driver-515-open - distro non-free driver : nvidia-driver-525-server - distro non-free driver : nvidia-driver-515 - third-party non-free driver : xserver-xorg-video-nouveau - distro free builtin â”Œâ”€â”€[root@test]-[~] â””â”€$ å®‰è£…
â”Œâ”€â”€[root@test]-[~] â””â”€$sudo apt install nvidia-driver-510 -y é‡å¯æœºå™¨
â”Œâ”€â”€[root@test]-[~] â””â”€$reboot æŸ¥çœ‹å®‰è£…æ˜¯å¦æˆåŠŸï¼Œå¯¹åº”ç‰ˆæœ¬ä¿¡æ¯
â”Œâ”€â”€[root@test]-[~] â””â”€$nvidia-smi Thu Jun 15 11:49:43 2023 +-----------------------------------------------------------------------------+ | NVIDIA-SMI 510.108.03 Driver Version: 510.108.03 CUDA Version: 11.6 | |-------------------------------+----------------------+----------------------+ | GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC | | Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. | | | | MIG M. | |===============================+======================+======================| | 0 NVIDIA GeForce ... Off | 00000000:01:00.0 On | N/A | | 0% 38C P8 16W / 170W | 172MiB / 12288MiB | 0% Default | | | | N/A | +-------------------------------+----------------------+----------------------+ +-----------------------------------------------------------------------------+ | Processes: | | GPU GI CI PID Type Process name GPU Memory | | ID ID Usage | |=============================================================================| | 0 N/A N/A 1386 G /usr/lib/xorg/Xorg 60MiB | | 0 N/A N/A 1650 G /usr/bin/gnome-shell 109MiB | +-----------------------------------------------------------------------------+ â”Œâ”€â”€[root@test]-[~] â””â”€$cat /proc/driver/nvidia/version NVRM version: NVIDIA UNIX x86_64 Kernel Module 510.108.03 Thu Oct 20 05:10:45 UTC 2022 GCC version: gcc version 11.3.0 (Ubuntu 11.3.0-1ubuntu1~22.04.1) â”Œâ”€â”€[root@test]-[~] â””â”€$ å®‰è£…Cuda CUDAæ˜¯NVIDIAæä¾›çš„ä¸€ç§å¹¶è¡Œè®¡ç®—å¹³å°å’Œç¼–ç¨‹æ¨¡å‹ï¼Œæ—¨åœ¨åˆ©ç”¨GPUçš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›åŠ é€Ÿè®¡ç®—å¯†é›†å‹åº”ç”¨ç¨‹åºã€‚
CUDAåŒ…æ‹¬CUDAé©±åŠ¨ç¨‹åºå’ŒCUDA Toolkitã€‚æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…æ‹¬Cã€C++ã€Fortranå’ŒPythonç­‰ã€‚
 CUDAé©±åŠ¨ç¨‹åºæ˜¯GPUå’Œæ“ä½œç³»ç»Ÿä¹‹é—´çš„æ¥å£. CUDA Toolkitåˆ™åŒ…æ‹¬ç¼–è¯‘å™¨ã€åº“å’Œå·¥å…·ï¼Œç”¨äºå¼€å‘CUDAåº”ç”¨ç¨‹åºã€‚  å¦‚æœä»¥å‰å®‰è£…è¿‡ï¼Œå¸è½½
sudo /usr/local/cuda-11.6/bin/cuda-uninstaller sudo rm -rf /usr/local/cuda-11.6 sudo: /usr/local/cuda-11.8/bin/uninstall_cuda_8.0.pl: command not found â”Œâ”€â”€[root@test]-[~] â””â”€$sudo /usr/local/cuda-11.6/bin/ bin2c cuda-gdbserver ncu nsys-ui nv-nsight-cu-cli computeprof cuda-memcheck ncu-ui nvcc nvprof compute-sanitizer cuda-uninstaller nsight_ee_plugins_manage.sh __nvcc_device_query nvprune crt/ cu++filt nsight-sys nvdisasm nvvp cudafe++ cuobjdump nsys nvlink ptxas cuda-gdb fatbinary nsys-exporter nv-nsight-cu â”Œâ”€â”€[root@test]-[~] â””â”€$sudo /usr/local/cuda-11.6/bin/cuda-uninstaller åœ¨è¾“å‡ºçš„ç»ˆç«¯ UIé¡µé¢ï¼Œç©ºæ ¼é€‰æ‹©å…¨éƒ¨ï¼Œé€‰æ‹©å®Œæˆï¼Œå¸è½½å®Œæˆä¹‹åé‡æ–°å®‰è£…
â”Œâ”€â”€[root@test]-[~] â””â”€$sudo /usr/local/cuda-11.6/bin/cuda-uninstaller Successfully uninstalled â”Œâ”€â”€[root@test]-[~] â””â”€$sudo rm -rf /usr/local/cuda-11.6 å®˜ç½‘å®‰è£…åŒ…ä¸‹è½½
 https://developer.nvidia.com/cuda-downloads?target_os=Linux&target_arch=x86_64&Distribution=Ubuntu&target_version=22.04&target_type=runfile_local  
â”Œâ”€â”€[root@test]-[~] â””â”€$chmod +x cuda_* è¿™é‡Œcuda é€‰æ‹© cuda_11.6.0_510.39.01_linux.run, 510 å¯¹åº”çš„ç‰ˆæœ¬
â”Œâ”€â”€[root@test]-[~] â””â”€$ll cuda* -rwxr-xr-x 1 root root 3488951771 1æœˆ 11 2022 cuda_11.6.0_510.39.01_linux.run* -rwxr-xr-x 1 root root 3490450898 5æœˆ 5 2022 cuda_11.7.0_515.43.04_linux.run* -rwxr-xr-x 1 root root 4317456991 4æœˆ 17 23:04 cuda_12.1.1_530.30.02_linux.run* -rwxr-xr-x 1 root root 853 5æœˆ 17 19:52 cuda_log.log* -rw-r--r-- 1 root root 2472241638 7æœˆ 29 2021 cuda-repo-ubuntu2004-11-4-local_11.4.1-470.57.02-1_amd64.deb -rw-r--r-- 1 root root 2699477842 5æœˆ 5 2022 cuda-repo-ubuntu2204-11-7-local_11.7.0-515.43.04-1_amd64.deb â”Œâ”€â”€[root@test]-[~] â””â”€$ â”Œâ”€â”€[root@test]-[~] â””â”€$sudo ./cuda_12.1.1_530.30.02_linux.run ä¸Šé¢æˆ‘ä»¬å·²ç»å®‰è£…äº†é©±åŠ¨ï¼Œæ‰€ä»¥ä¸éœ€è¦é€‰æ‹©ï¼Œç›´æ¥å®‰è£… cuda ç›¸å…³çš„å°±å¯ä»¥ï¼Œå®‰è£…æˆåŠŸè¾“å‡º
â”Œâ”€â”€[root@test]-[~] â””â”€$sudo ./cuda_11.6.0_510.39.01_linux.run =========== = Summary = =========== Driver: Not Selected Toolkit: Installed in /usr/local/cuda-11.6/ Please make sure that - PATH includes /usr/local/cuda-11.6/bin - LD_LIBRARY_PATH includes /usr/local/cuda-11.6/lib64, or, add /usr/local/cuda-11.6/lib64 to /etc/ld.so.conf and run ldconfig as root To uninstall the CUDA Toolkit, run cuda-uninstaller in /usr/local/cuda-11.6/bin ***WARNING: Incomplete installation! This installation did not install the CUDA Driver. A driver of version at least 510.00 is required for CUDA 11.6 functionality to work. To install the driver using this installer, run the following command, replacing &lt;CudaInstaller&gt; with the name of this run file: sudo &lt;CudaInstaller&gt;.run --silent --driver Logfile is /var/log/cuda-installer.log æ·»åŠ å¯¹åº”ç¯å¢ƒå˜é‡
â”Œâ”€â”€[root@test]-[/b1205] â””â”€$echo $LD_LIBRARY_PATH /usr/local/cuda-11.6/lib64:/usr/local/cuda-11.6/lib64 â”Œâ”€â”€[root@test]-[/b1205] â””â”€$echo $PATH /usr/local/cuda-11.6/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin â”Œâ”€â”€[root@test]-[/b1205] â””â”€$ å®‰è£… cuDNN cuDNN æ˜¯NVIDIAæä¾›çš„ä¸€ä¸ªç”¨äºæ·±åº¦ç¥ç»ç½‘ç»œçš„åŠ é€Ÿåº“ï¼Œå®ƒå¯ä»¥ä¼˜åŒ–å·ç§¯ã€æ± åŒ–ã€å½’ä¸€åŒ–ç­‰æ“ä½œï¼Œä½¿å¾—åœ¨GPUä¸Šè¿è¡Œæ·±åº¦ç¥ç»ç½‘ç»œçš„é€Ÿåº¦å¾—åˆ°äº†å¤§å¹…åº¦æå‡ã€‚cuDNNéœ€è¦ä¸CUDAé…åˆä½¿ç”¨ï¼Œå› æ­¤åœ¨å®‰è£…cuDNNä¹‹å‰ï¼Œéœ€è¦å…ˆå®‰è£…ç›¸åº”ç‰ˆæœ¬çš„CUDAã€‚
 https://developer.nvidia.com/rdp/cudnn-download  
è¿™é‡Œéœ€è¦æ³¨å†Œè´¦æˆ·ç™»å½•ä¸€ä¸‹,ç„¶ååœ¨è¿™é‡Œä¸‹è½½
 https://developer.nvidia.com/rdp/cudnn-archive  
é€‰æ‹©cudaå¯¹åº”çš„ç‰ˆæœ¬
â”Œâ”€â”€[root@test]-[~] â””â”€$ls cudnn* cudnn-local-repo-ubuntu2204-8.8.1.3_1.0-1_amd64.deb sudo dpkg -i cudnn-local-repo-ubuntu2204-8.8.1.3_1.0-1_amd64.deb sudo cp /var/cudnn-local-repo-*/cudnn-local-*-keyring.gpg /usr/share/keyrings/ sudo apt-get update sudoapt-get install libcudnn8=8.8.1.3-1+cuda1 sudo apt-get install libcudnn8-dev=8.8.1.3-1+cuda1 sudo apt-get install libcudnn8-samples=8.8.1.3-1+cuda1 ç¡®å®å®‰è£…æ˜¯å¦æˆåŠŸ â”Œâ”€â”€[root@test]-[~] â””â”€$nvcc -V &amp;&amp; nvidia-smi nvcc: NVIDIA (R) Cuda compiler driver Copyright (c) 2005-2021 NVIDIA Corporation Built on Fri_Dec_17_18:16:03_PST_2021 Cuda compilation tools, release 11.6, V11.6.55 Build cuda_11.6.r11.6/compiler.30794723_0 Thu Jun 15 14:42:58 2023 +-----------------------------------------------------------------------------+ | NVIDIA-SMI 510.108.03 Driver Version: 510.108.03 CUDA Version: 11.6 | |-------------------------------+----------------------+----------------------+ | GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC | | Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. | | | | MIG M. | |===============================+======================+======================| | 0 NVIDIA GeForce ... Off | 00000000:01:00.0 On | N/A | | 0% 51C P8 21W / 170W | 105MiB / 12288MiB | 12% Default | | | | N/A | +-------------------------------+----------------------+----------------------+ +-----------------------------------------------------------------------------+ | Processes: | | GPU GI CI PID Type Process name GPU Memory | | ID ID Usage | |=============================================================================| | 0 N/A N/A 1386 G /usr/lib/xorg/Xorg 81MiB | | 0 N/A N/A 1650 G /usr/bin/gnome-shell 22MiB | +-----------------------------------------------------------------------------+ â”Œâ”€â”€[root@test]-[~] â””â”€$ ç¼–å†™æµ‹è¯•è„šæœ¬æµ‹è¯•
(py39) test@test:~/code/Face$ cat cuda_vim.py import numpy as np import time from numba import cuda @cuda.jit def increment_kernel(array): idx = cuda.grid(1) if idx &lt; array.size: array[idx] += 1 def main(): n = 1000000000 a = np.zeros(n, dtype=np.int32) threads_per_block = 1024 blocks_per_grid = (n + threads_per_block - 1) // threads_per_block start = time.time() increment_kernel[blocks_per_grid, threads_per_block](a) end = time.time() print(&#34;Time taken: &#34;, end - start) if __name__ == &#34;__main__&#34;: while True: main() (py39) test@test:~/code/Face$ Every 2.0s: nvidia-smi test: Thu Jun 15 14:44:47 2023 Thu Jun 15 14:44:47 2023 +-----------------------------------------------------------------------------+ | NVIDIA-SMI 510.108.03 Driver Version: 510.108.03 CUDA Version: 11.6 | |-------------------------------+----------------------+----------------------+ | GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC | | Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. | | | | MIG M. | |===============================+======================+======================| | 0 NVIDIA GeForce ... Off | 00000000:01:00.0 On | N/A | | 0% 55C P2 51W / 170W | 4025MiB / 12288MiB | 22% Default | | | | N/A | +-------------------------------+----------------------+----------------------+ +-----------------------------------------------------------------------------+ | Processes: | | GPU GI CI PID Type Process name GPU Memory | | ID ID Usage | |=============================================================================| | 0 N/A N/A 1386 G /usr/lib/xorg/Xorg 81MiB | | 0 N/A N/A 1650 G /usr/bin/gnome-shell 22MiB | | 0 N/A N/A 32031 C python 3917MiB | +-----------------------------------------------------------------------------+ é‡åˆ°çš„é—®é¢˜ å®‰è£…530é«˜ç‰ˆæœ¬æŠ¥ä¸‹é¢çš„é”™ï¼š
â”Œâ”€â”€[root@test]-[~] â””â”€$sudo ./cuda_12.1.1_530.30.02_linux.run Error! Could not locate dkms.conf file. File: /var/lib/dkms/nvidia-fs/2.15.3/source/dkms.conf does not exist. cat: /var/log/nvidia/.uninstallManifests/kernelobjects-components/uninstallManifest-nvidia_fs: No such file or directory make: *** No rule to make target &#39;uninstall&#39;. Stop. Error! DKMS tree already contains: nvidia-fs-2.15.3 You cannot add the same module/version combo more than once. =========== = Summary = =========== Driver: Not Selected Toolkit: Installed in /usr/local/cuda-12.1/ Please make sure that - PATH includes /usr/local/cuda-12.1/bin - LD_LIBRARY_PATH includes /usr/local/cuda-12.1/lib64, or, add /usr/local/cuda-12.1/lib64 to /etc/ld.so.conf and run ldconfig as root To uninstall the CUDA Toolkit, run cuda-uninstaller in /usr/local/cuda-12.1/bin To uninstall the kernel objects, run ko-uninstaller in /usr/local/kernelobjects/bin ***WARNING: Incomplete installation! This installation did not install the CUDA Driver. A driver of version at least 530.00 is required for CUDA 12.1 functionality to work. To install the driver using this installer, run the following command, replacing &lt;CudaInstaller&gt; with the name of this run file: sudo &lt;CudaInstaller&gt;.run --silent --driver Logfile is /var/log/cuda-installer.log â”Œâ”€â”€[root@test]-[~] â””â”€$ è§£å†³åŠæ³•ï¼Œæ¢äº†ä½ç‰ˆæœ¬çš„510
è¿è¡Œ nvvp æŠ¥é”™
â”Œâ”€â”€[root@test]-[~] â””â”€$nvvp Nvvp: Cannot open display: WARNING: An illegal reflective access operation has occurred WARNING: Illegal reflective access by org.eclipse.osgi.storage.FrameworkExtensionInstaller (file:/usr/local/cuda-11.6/libnvvp/plugins/org.eclipse.osgi_3.10.1.v20140909-1633.jar) to method java.net.URLClassLoader.addURL(java.net.URL) WARNING: Please consider reporting this to the maintainers of org.eclipse.osgi.storage.FrameworkExtensionInstaller WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations WARNING: All illegal access operations will be denied in a future release Nvvp: Cannot open display: Nvvp: An error has occurred. See the log file /usr/local/cuda-11.6/libnvvp/configuration/1686795694122.log. â”Œâ”€â”€[root@test]-[~] â””â”€$ ssh ç¯å¢ƒä¸è¡Œï¼Œéœ€è¦åšæ¡Œé¢ç¯å¢ƒ
åœ¨æ¡Œé¢ç¯å¢ƒæ‰§è¡Œï¼ŒæŠ¥é”™
Gtk-Message: 09:10:26.571: Failed to load module &#34;canberra-gtk-module&#34; å®‰è£…ä¸‹é¢çš„å®‰è£…åŒ…
â”Œâ”€â”€[root@test]-[~] â””â”€$sudo apt-get install libcanberra-gtk-module nvidia-driver-XXX-open ç‰ˆæœ¬å®‰è£…æŠ¥é”™
nvidia-driver-530-open æ˜¯ä¸€ä¸ªåœ¨å‘è¡Œç‰ˆçš„éè‡ªç”±å­˜å‚¨åº“ä¸­æä¾›çš„NVIDIAé©±åŠ¨ç¨‹åºï¼Œå®ƒæ˜¯ç”±å‘è¡Œç‰ˆçš„ç»´æŠ¤è€…ç»´æŠ¤çš„ã€‚è¿™æ„å‘³ç€å®ƒæ˜¯ä¸å‘è¡Œç‰ˆçš„å…¶ä½™éƒ¨åˆ†ç´§å¯†é›†æˆçš„ï¼Œå¹¶ä¸”ç”±å‘è¡Œç‰ˆçš„ç»´æŠ¤è€…æä¾›æ”¯æŒå’Œæ›´æ–°ã€‚
nvidia-driver-530 æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹éè‡ªç”±é©±åŠ¨ç¨‹åºï¼Œå®ƒä¸æ˜¯ç”±å‘è¡Œç‰ˆçš„ç»´æŠ¤è€…ç»´æŠ¤çš„ã€‚ç›¸åï¼Œå®ƒæ˜¯ç”±NVIDIAå…¬å¸æä¾›çš„ï¼Œå¹¶ä¸”å¯èƒ½éœ€è¦æ‰‹åŠ¨å®‰è£…å’Œé…ç½®ã€‚ç”±äºå®ƒä¸æ˜¯ç”±å‘è¡Œç‰ˆçš„ç»´æŠ¤è€…æä¾›çš„ï¼Œå› æ­¤æ‚¨å¯èƒ½æ— æ³•è·å¾—ä¸å‘è¡Œç‰ˆé›†æˆå’Œæ”¯æŒç›¸åŒçš„çº§åˆ«ã€‚
nvidia-driver-530-openæ˜¯æ›´å—æ”¯æŒå’Œæ›´é›†æˆçš„é€‰æ‹©ï¼Œè€Œnvidia-driver-530åˆ™éœ€è¦æ›´å¤šçš„æ‰‹åŠ¨é…ç½®å’Œæ”¯æŒã€‚
nvidia-driver-530-open : Depends: libnvidia-gl-530 (= 530.41.03-0ubuntu0.22.04.2) but it is not going to be installed Depends: nvidia-dkms-530-open (&lt;= 530.41.03-1) Depends: nvidia-dkms-530-open (&gt;= 530.41.03) Depends: nvidia-kernel-common-530 (&lt;= 530.41.03-1) but it is not going to be installed Depends: nvidia-kernel-common-530 (&gt;= 530.41.03) but it is not going to be installed Depends: nvidia-kernel-source-530-open (= 530.41.03-0ubuntu0.22.04.2) but it is not going to be installed Depends: libnvidia-compute-530 (= 530.41.03-0ubuntu0.22.04.2) but it is not going to be installed Depends: libnvidia-extra-530 (= 530.41.03-0ubuntu0.22.04.2) but it is not going to be installed Depends: nvidia-compute-utils-530 (= 530.41.03-0ubuntu0.22.04.2) but it is not going to be installed Depends: libnvidia-decode-530 (= 530.41.03-0ubuntu0.22.04.2) but it is not going to be installed Depends: libnvidia-encode-530 (= 530.41.03-0ubuntu0.22.04.2) but it is not going to be installed Depends: nvidia-utils-530 (= 530.41.03-0ubuntu0.22.04.2) but it is not going to be installed Depends: xserver-xorg-video-nvidia-530 (= 530.41.03-0ubuntu0.22.04.2) but it is not going to be installed Depends: libnvidia-cfg1-530 (= 530.41.03-0ubuntu0.22.04.2) but it is not going to be installed Depends: libnvidia-fbc1-530 (= 530.41.03-0ubuntu0.22.04.2) but it is not going to be installed Recommends: libnvidia-compute-530:i386 (= 530.41.03-0ubuntu0.22.04.2) Recommends: libnvidia-decode-530:i386 (= 530.41.03-0ubuntu0.22.04.2) Recommends: libnvidia-encode-530:i386 (= 530.41.03-0ubuntu0.22.04.2) Recommends: libnvidia-fbc1-530:i386 (= 530.41.03-0ubuntu0.22.04.2) Recommends: libnvidia-gl-530:i386 (= 530.41.03-0ubuntu0.22.04.2) E: Unable to correct problems, you have held broken packages. è§£å†³åŠæ³•ï¼Œä¸‹é¢çš„æ–¹å¼è¿›è¡Œäº†å°è¯•ï¼Œæœªè§£å†³ã€‚æ¢äº†ä¸å¸¦ open çš„ç‰ˆæœ¬
æ›´æ–°ä½ çš„è½¯ä»¶åŒ…åˆ—è¡¨å’Œå·²å®‰è£…çš„è½¯ä»¶åŒ…ï¼š
sudo apt update sudo apt upgrade å°è¯•ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥ä¿®å¤å¯èƒ½å­˜åœ¨çš„æŸåè½¯ä»¶åŒ…ï¼š
sudo apt --fix-broken install ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ¸…ç†ç³»ç»Ÿä¸­å·²ç»å®‰è£…çš„è½¯ä»¶åŒ…çš„ç¼“å­˜ï¼š
sudo apt clean å°è¯•ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ é™¤å·²ç»æŸåçš„è½¯ä»¶åŒ…å¹¶é‡æ–°å®‰è£…
sudo apt remove nvidia-driver-530-open sudo apt autoremove sudo apt install nvidia-driver-530-open åšæ–‡éƒ¨åˆ†å†…å®¹å‚è€ƒ Â© æ–‡ä¸­æ¶‰åŠå‚è€ƒé“¾æ¥å†…å®¹ç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ï¼Œå¦‚æœ‰ä¾µæƒè¯·å‘ŠçŸ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå¦‚æœä½ è®¤å¯å®ƒï¼Œä¸è¦åå•¬æ˜Ÿæ˜Ÿå“¦ :)
 https://docs.nvidia.com/deeplearning/cudnn/install-guide/index.html  
 https://docs.nvidia.com/cuda/cuda-quick-start-guide/index.html#id8  
 https://blog.51cto.com/u_4029519/5909904  
Â© 2018-2023 liruilonger@gmail.com , All rights reserved. ä¿æŒç½²å-éå•†ç”¨-ç›¸åŒæ–¹å¼å…±äº«(CC BY-NC-SA 4.0)
]]></content>
  </entry>
  
  <entry>
    <title>åµŒå…¥å¼ç½‘ç»œæ¥å£è¯¥æ€ä¹ˆè®¾è®¡</title>
    <url>/post/hardware/how-to-design-embedded-network-interface.html</url>
    <categories><category>Hardware</category>
    </categories>
    <tags>
      <tag>Network</tag>
      <tag>Linux</tag>
      <tag>SOC</tag>
      <tag>MAC</tag>
    </tags>
    <content type="html"><![CDATA[æœ¬ç¯‡æ–‡ç« æ˜¯å…³äºåµŒå…¥å¼ç½‘ç»œæ¥å£çš„ä¸€äº›çŸ¥è¯†ä»‹ç»ã€‚
åµŒå…¥å¼ç½‘ç»œç®€ä»‹ åµŒå…¥å¼ä¸‹çš„ç½‘ç»œç¡¬ä»¶æ¥å£ æèµ·ç½‘ç»œï¼Œæˆ‘ä»¬ä¸€èˆ¬æƒ³åˆ°çš„ç¡¬ä»¶å°±æ˜¯â€œç½‘å¡â€ï¼Œç°åœ¨ç½‘å¡å·²ç»æ˜¯é€šè¿‡ä¸€ä¸ªèŠ¯ç‰‡æ¥å®Œæˆäº†ï¼ŒåµŒå…¥å¼ç½‘ç»œç¡¬ä»¶åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šMACå’ŒPHYï¼Œå¤§å®¶éƒ½æ˜¯é€šè¿‡çœ‹æ•°æ®æ‰‹å†Œæ¥åˆ¤æ–­ä¸€æ¬¾SOCæ˜¯å¦æ”¯æŒç½‘ç»œï¼Œå¦‚æœä¸€æ¬¾èŠ¯ç‰‡æ•°æ®æ‰‹å†Œè¯´è‡ªå·±æ”¯æŒç½‘ç»œï¼Œä¸€èˆ¬éƒ½æ˜¯è¯´çš„è¿™æ¬¾SOCå†…ç½®MACï¼ŒMACç±»ä¼¼I2Cæ§åˆ¶å™¨ã€SPIæ§åˆ¶å™¨ä¸€æ ·çš„å¤–è®¾ã€‚
ä½†æ˜¯å…‰æœ‰MACè¿˜ä¸èƒ½ç›´æ¥é©±åŠ¨ç½‘ç»œï¼Œè¿˜éœ€è¦å¦å¤–ä¸€ä¸ªèŠ¯ç‰‡ï¼šPHYï¼Œå› æ­¤å¯¹äºå†…ç½®MACçš„SOCï¼Œå…¶å¤–éƒ¨å¿…é¡»æ­é…ä¸€ä¸ªPHYèŠ¯ç‰‡ã€‚å†…éƒ¨æ²¡æœ‰MACçš„SOCèŠ¯ç‰‡ï¼Œå°±éœ€è¦ä½¿ç”¨å¤–ç½®çš„MAC+PHYä¸€ä½“èŠ¯ç‰‡äº†ï¼Œè¿™é‡Œå°±è¦ç‰µæ‰¯å‡ºå¸¸è§çš„ä¸¤ä¸ªåµŒå…¥å¼ç½‘ç»œç¡¬ä»¶æ–¹æ¡ˆäº†ã€‚
SOCå†…éƒ¨æ²¡æœ‰ç½‘ç»œMACå¤–è®¾ å¯¹äºå†…éƒ¨æ²¡æœ‰MACçš„SOCèŠ¯ç‰‡ï¼Œå¯ä»¥ä½¿ç”¨å¤–ç½® MAC+PHYä¸€ä½“çš„ç½‘ç»œèŠ¯ç‰‡æ¥å®ç°ç½‘ç»œåŠŸèƒ½ã€‚æ¯”å¦‚ä¸‰æ˜Ÿlinuxå¼€å‘æ¿é‡Œé¢ç”¨çš„æœ€å¤šçš„DM9000ï¼ŒDM9000å¯¹SOCæä¾›äº†ä¸€ä¸ªSRAMæ¥å£ï¼ŒSOCä¼šä»¥SRAMçš„æ–¹å¼æ“ä½œDM9000ã€‚
æœ‰äº›å¤–ç½®çš„ç½‘ç»œèŠ¯ç‰‡æ›´å¼ºå¤§ï¼Œå†…éƒ¨ç”šè‡³é›†æˆäº†ç¡¬ä»¶TCP/IPåè®®æ ˆï¼Œå¯¹å¤–æä¾›ä¸€ä¸ªSPIæ¥å£ï¼Œæ¯”å¦‚W5500ã€‚è¿™ä¸ªä¸€èˆ¬ç”¨äºå•ç‰‡æœºé¢†åŸŸï¼Œå•ç‰‡æœºé€šè¿‡SPIæ¥å£ä¸W5500è¿›è¡Œé€šä¿¡ï¼Œç”±äºW5500å†…ç½®äº†ç¡¬ä»¶TCP/IPåè®®æ ˆï¼Œå› æ­¤å•ç‰‡æœºå°±ä¸éœ€è¦ç§»æ¤è½¯ä»¶åè®®æ ˆï¼Œç›´æ¥é€šè¿‡SPIæ¥æ“ä½œW5500ï¼Œç®€åŒ–äº†å•ç‰‡æœºè”ç½‘æ–¹æ¡ˆã€‚
è¿™ç§æ–¹æ¡ˆçš„ä¼˜ç‚¹å°±æ˜¯è®©ä¸æ”¯æŒç½‘ç»œçš„SOCèƒ½å¤Ÿå¦è¾Ÿè¹Šå¾„ï¼Œå®ç°ç½‘ç»œåŠŸèƒ½ï¼Œä½†æ˜¯ç¼ºç‚¹å°±æ˜¯ç½‘ç»œæ•ˆç‡ä¸é«˜ï¼Œå› ä¸ºä¸€èˆ¬èŠ¯ç‰‡å†…ç½®çš„MACä¼šæœ‰ç½‘ç»œåŠ é€Ÿå¼•æ“ï¼Œæ¯”å¦‚ç½‘ç»œä¸“ç”¨DMAï¼Œç½‘ç»œå¤„ç†æ•ˆç‡ä¼šå¾ˆé«˜ã€‚è€Œä¸”æ­¤ç±»èŠ¯ç‰‡ç½‘é€Ÿéƒ½ä¸å¿«ï¼ŒåŸºæœ¬å°±æ˜¯10/100Mã€‚å¦å¤–ï¼Œç›¸æ¯”PHYèŠ¯ç‰‡è€Œè¨€ï¼Œæ­¤ç±»èŠ¯ç‰‡çš„æˆæœ¬ä¹Ÿæ¯”è¾ƒé«˜ï¼Œå¯é€‰æ‹©æ¯”è¾ƒå°‘ã€‚
SOCä¸å¤–éƒ¨MAC+PHYèŠ¯ç‰‡çš„è¿æ¥å¦‚å›¾1-1æ‰€ç¤ºï¼š
å›¾1-1 ä¸»æ§SOCä¸å¤–ç½®MAC+PHYèŠ¯ç‰‡è¿æ¥
SOCå†…éƒ¨é›†æˆç½‘ç»œMACå¤–è®¾ æˆ‘ä»¬ä¸€èˆ¬è¯´æŸä¸ªSOCæ”¯æŒç½‘ç»œï¼Œè¯´çš„å°±æ˜¯ä»–å†…éƒ¨é›†æˆç½‘ç»œMACå¤–è®¾ï¼Œæ­¤æ—¶æˆ‘ä»¬è¿˜éœ€è¦å¤–æ¥ä¸€ä¸ªç½‘ç»œPHYèŠ¯ç‰‡ã€‚ã€‚
ç›®å‰å‡ ä¹æ‰€æœ‰æ”¯æŒç½‘ç»œçš„SOCéƒ½æ˜¯å†…ç½®MACå¤–è®¾ï¼Œæ¯”å¦‚STM32F4/F7/H7ç³»åˆ—ã€NXPçš„I.MXç³»åˆ—ï¼Œå†…éƒ¨é›†æˆç½‘ç»œMACçš„ä¼˜ç‚¹å¦‚ä¸‹ï¼š
1ï¼‰å†…éƒ¨MACå¤–è®¾ä¼šæœ‰ä¸“ç”¨çš„åŠ é€Ÿæ¨¡å—ï¼Œæ¯”å¦‚ä¸“ç”¨çš„DMAï¼ŒåŠ é€Ÿç½‘é€Ÿæ•°æ®çš„å¤„ç†ã€‚
2ï¼‰ç½‘é€Ÿå¿«ï¼Œå¯ä»¥æ”¯æŒ10/100/1000Mç½‘é€Ÿã€‚
3ï¼‰å¤–æ¥PHYå¯é€‰æ‹©æ€§å¤šï¼Œæˆæœ¬ä½ã€‚
å†…éƒ¨çš„MACå¤–è®¾ä¼šé€šè¿‡MIIæˆ–è€…RMIIæ¥å£æ¥è¿æ¥å¤–éƒ¨çš„PHYèŠ¯ç‰‡ï¼ŒMII/RMIIæ¥å£ç”¨æ¥ä¼ è¾“ç½‘ç»œæ•°æ®ã€‚å¦å¤–ä¸»æ§éœ€è¦é…ç½®æˆ–è¯»å–PHYèŠ¯ç‰‡ï¼Œä¹Ÿå°±æ˜¯è¯»å†™PHYçš„å†…éƒ¨å¯„å­˜å™¨ï¼Œæ‰€ä»¥è¿˜éœ€è¦ä¸€ä¸ªæ§åˆ¶æ¥å£ï¼Œå«åšMIDOï¼ŒMDIOå¾ˆç±»ä¼¼IICï¼Œä¹Ÿæ˜¯ä¸¤æ ¹çº¿ï¼Œä¸€æ ¹æ•°æ®çº¿å«åšMDIOï¼Œä¸€æ ¹æ—¶é’Ÿçº¿å«åšMDCã€‚
SOCå†…éƒ¨MACå¤–è®¾ä¸å¤–éƒ¨PHYèŠ¯ç‰‡çš„è¿æ¥å¦‚å›¾1-2æ‰€ç¤ºï¼š
å›¾1-2 å†…éƒ¨MACä¸å¤–éƒ¨PHYä¹‹é—´çš„è¿æ¥
å¤§å®¶åœ¨åšé¡¹ç›®çš„æ—¶å€™ï¼Œå¦‚æœè¦ç”¨åˆ°ç½‘ç»œåŠŸèƒ½ï¼Œå¼ºçƒˆå»ºè®®å¤§å®¶é€‰æ‹©å†…éƒ¨å¸¦æœ‰ç½‘ç»œMACå¤–è®¾çš„ä¸»æ§SOCï¼I.MX6ULLå°±æœ‰ä¸¤ä¸ª10M/100Mçš„ç½‘ç»œMACå¤–è®¾ï¼Œæ­£ç‚¹åŸå­ALPHAå¼€å‘æ¿æ¿è½½äº†ä¸¤é¢—PHYèŠ¯ç‰‡ï¼Œå‹å·ä¸ºLAN8720ã€‚å› æ­¤ï¼Œæœ¬ç« èŠ‚åªè®²è§£SOCå†…éƒ¨MAC+å¤–ç½®PHYèŠ¯ç‰‡è¿™ç§æ–¹æ¡ˆã€‚
MII/RMIIæ¥å£ å‰é¢æˆ‘ä»¬è¯´äº†ï¼Œå†…éƒ¨MACé€šè¿‡MII/RMIIæ¥å£æ¥ä¸å¤–éƒ¨çš„PHYèŠ¯ç‰‡è¿æ¥ï¼Œå®Œæˆç½‘ç»œæ•°æ®ä¼ è¾“ï¼Œæœ¬èŠ‚æˆ‘ä»¬å°±æ¥å­¦ä¹ ä¸€ä¸‹ä»€ä¹ˆæ˜¯MIIå’ŒRMIIæ¥å£ã€‚
MIIæ¥å£ MIIå…¨ç§°æ˜¯Media Independent Interfaceï¼Œç›´è¯‘è¿‡æ¥å°±æ˜¯ä»‹è´¨ç‹¬ç«‹æ¥å£ï¼Œå®ƒæ˜¯IEEE-802.3å®šä¹‰çš„ä»¥å¤ªç½‘æ ‡å‡†æ¥å£ï¼ŒMIIæ¥å£ç”¨äºä»¥å¤ªç½‘MACè¿æ¥PHYèŠ¯ç‰‡ï¼Œè¿æ¥ç¤ºæ„å›¾å¦‚å›¾1-3æ‰€ç¤ºï¼š
å›¾1-3 MIIæ¥å£
MIIæ¥å£ä¸€å…±æœ‰16æ ¹ä¿¡å·çº¿ï¼Œå«ä¹‰å¦‚ä¸‹ï¼š
 TX_CLKï¼šå‘é€æ—¶é’Ÿï¼Œå¦‚æœç½‘é€Ÿä¸º100Mçš„è¯æ—¶é’Ÿé¢‘ç‡ä¸º25MHzï¼Œ10Mç½‘é€Ÿçš„è¯æ—¶é’Ÿé¢‘ç‡ä¸º2.5MHzï¼Œæ­¤æ—¶é’Ÿç”±PHYäº§ç”Ÿå¹¶å‘é€ç»™MACã€‚ TX_ENï¼šå‘é€ä½¿èƒ½ä¿¡å·ã€‚ TX_ERï¼šå‘é€é”™è¯¯ä¿¡å·ï¼Œé«˜ç”µå¹³æœ‰æ•ˆï¼Œè¡¨ç¤ºTX_ERæœ‰æ•ˆæœŸå†…ä¼ è¾“çš„æ•°æ®æ— æ•ˆã€‚10Mpbsç½‘é€Ÿä¸‹TX_ERä¸èµ·ä½œç”¨ã€‚ TXD[3:0]ï¼šå‘é€æ•°æ®ä¿¡å·çº¿ï¼Œä¸€å…±4æ ¹ã€‚ RXD[3:0]ï¼šæ¥æ”¶æ•°æ®ä¿¡å·çº¿ï¼Œä¸€å…±4æ ¹ã€‚ RX_CLKï¼šæ¥æ”¶æ—¶é’Ÿä¿¡å·ï¼Œå¦‚æœç½‘é€Ÿä¸º100Mçš„è¯æ—¶é’Ÿé¢‘ç‡ä¸º25MHzï¼Œ10Mç½‘é€Ÿçš„è¯æ—¶é’Ÿé¢‘ç‡ä¸º2.5MHzï¼ŒRX_CLKä¹Ÿæ˜¯ç”±PHYäº§ç”Ÿçš„ã€‚ RX_ERï¼šæ¥æ”¶é”™è¯¯ä¿¡å·ï¼Œé«˜ç”µå¹³æœ‰æ•ˆï¼Œè¡¨ç¤ºRX_ERæœ‰æ•ˆæœŸå†…ä¼ è¾“çš„æ•°æ®æ— æ•ˆã€‚10Mpbsç½‘é€Ÿä¸‹RX_ERä¸èµ·ä½œç”¨ã€‚ RX_DVï¼šæ¥æ”¶æ•°æ®æœ‰æ•ˆï¼Œä½œç”¨ç±»ä¼¼TX_ENã€‚ CRSï¼šè½½æ³¢ä¾¦å¬ä¿¡å·ã€‚ COLï¼šå†²çªæ£€æµ‹ä¿¡å·ã€‚  MIIæ¥å£çš„ç¼ºç‚¹å°±æ˜¯æ‰€éœ€ä¿¡å·çº¿å¤ªå¤šï¼Œè¿™è¿˜æ²¡æœ‰ç®—MDIOå’ŒMDCè¿™ä¸¤æ ¹ç®¡ç†æ¥å£çš„æ•°æ®çº¿ï¼Œå› æ­¤MIIæ¥å£ä½¿ç”¨å·²ç»è¶Šæ¥è¶Šå°‘äº†ã€‚
RMIIæ¥å£ RMIIå…¨ç§°æ˜¯Reduced Media Independent Interfaceï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯ç²¾ç®€çš„ä»‹è´¨ç‹¬ç«‹æ¥å£ï¼Œä¹Ÿå°±æ˜¯MIIæ¥å£çš„ç²¾ç®€ç‰ˆæœ¬ã€‚RMIIæ¥å£åªéœ€è¦7æ ¹æ•°æ®çº¿ï¼Œç›¸æ¯”MIIç›´æ¥å‡å°‘äº†9æ ¹ï¼Œæå¤§çš„æ–¹ä¾¿äº†æ¿å­å¸ƒçº¿ï¼ŒRMIIæ¥å£è¿æ¥PHYèŠ¯ç‰‡çš„ç¤ºæ„å›¾å¦‚å›¾1-4æ‰€ç¤ºï¼š
å›¾1-4 RMIIæ¥å£
 TX_ENï¼šå‘é€ä½¿èƒ½ä¿¡å·ã€‚ TXD[1:0]ï¼šå‘é€æ•°æ®ä¿¡å·çº¿ï¼Œä¸€å…±2æ ¹ã€‚ RXD[1:0]ï¼šæ¥æ”¶æ•°æ®ä¿¡å·çº¿ï¼Œä¸€å…±2æ ¹ã€‚ CRS_DVï¼šç›¸å½“äºMIIæ¥å£ä¸­çš„RX_DVå’ŒCRSè¿™ä¸¤ä¸ªä¿¡å·çš„æ··åˆã€‚ REF_CLKï¼šå‚è€ƒæ—¶é’Ÿï¼Œç”±å¤–éƒ¨æ—¶é’Ÿæºæä¾›ï¼Œ é¢‘ç‡ä¸º50MHzã€‚è¿™é‡Œä¸MIIä¸åŒï¼ŒMIIçš„æ¥æ”¶å’Œå‘é€æ—¶é’Ÿæ˜¯ç‹¬ç«‹åˆ†å¼€çš„ï¼Œè€Œä¸”éƒ½æ˜¯ç”±PHYèŠ¯ç‰‡æä¾›çš„ã€‚ é™¤äº†MIIå’ŒRMIIä»¥å¤–ï¼Œè¿˜æœ‰å…¶ä»–æ¥å£ï¼Œæ¯”å¦‚GMIIã€RGMIIã€SMIIã€SMIIç­‰ï¼Œå…³äºå…¶ä»–æ¥å£åŸºæœ¬éƒ½æ˜¯å¤§åŒå°å¼‚çš„ï¼Œè¿™é‡Œå°±ä¸åšè®²è§£äº†ã€‚æ­£ç‚¹åŸå­ALPAHå¼€å‘æ¿ä¸Šçš„ä¸¤ä¸ªç½‘å£éƒ½æ˜¯é‡‡ç”¨RMIIæ¥å£æ¥è¿æ¥MACä¸å¤–éƒ¨PHYèŠ¯ç‰‡ã€‚  MDIOæ¥å£ MDIOå…¨ç§°æ˜¯Management Data Input/Outputï¼Œç›´è¯‘è¿‡æ¥å°±æ˜¯ç®¡ç†æ•°æ®è¾“å…¥è¾“å‡ºæ¥å£ï¼Œæ˜¯ä¸€ä¸ªç®€å•çš„ä¸¤çº¿ä¸²è¡Œæ¥å£ï¼Œä¸€æ ¹MDIOæ•°æ®çº¿ï¼Œä¸€æ ¹MDCæ—¶é’Ÿçº¿ã€‚é©±åŠ¨ç¨‹åºå¯ä»¥é€šè¿‡MDIOå’ŒMDCè¿™ä¸¤æ ¹çº¿è®¿é—®PHYèŠ¯ç‰‡çš„ä»»æ„ä¸€ä¸ªå¯„å­˜å™¨ã€‚MDIOæ¥å£æ”¯æŒå¤šè¾¾32ä¸ªPHYã€‚åŒä¸€æ—¶åˆ»å†…åªèƒ½å¯¹ä¸€ä¸ªPHYè¿›è¡Œæ“ä½œï¼Œé‚£ä¹ˆå¦‚ä½•åŒºåˆ†è¿™32ä¸ªPHYèŠ¯ç‰‡å‘¢ï¼Ÿå’ŒIICä¸€æ ·ï¼Œä½¿ç”¨
å™¨ä»¶åœ°å€å³å¯ã€‚åŒä¸€MDIOæ¥å£ä¸‹çš„æ‰€æœ‰PHYèŠ¯ç‰‡ï¼Œå…¶å™¨ä»¶åœ°å€ä¸èƒ½å†²çªï¼Œå¿…é¡»ä¿è¯å”¯ä¸€ï¼Œå…·ä½“å™¨ä»¶åœ°å€å€¼è¦æŸ¥é˜…ç›¸åº”çš„PHYæ•°æ®æ‰‹å†Œã€‚
å› æ­¤ï¼ŒMACå’Œå¤–éƒ¨PHYèŠ¯ç‰‡è¿›è¡Œè¿æ¥çš„æ—¶å€™ä¸»è¦æ˜¯MII/RMIIå’ŒMDIOæ¥å£ï¼Œå¦å¤–å¯èƒ½è¿˜éœ€è¦å¤ä½ã€ä¸­æ–­ç­‰å…¶ä»–å¼•è„šã€‚
RJ45æ¥å£ ç½‘ç»œè®¾å¤‡æ˜¯é€šè¿‡ç½‘çº¿è¿æ¥èµ·æ¥çš„ï¼Œæ’å…¥ç½‘çº¿çš„å«åšRJ45åº§ï¼Œå¦‚å›¾1-5æ‰€ç¤ºï¼š
å›¾1-5 RJ45åº§å­
RJ45åº§è¦ä¸PHYèŠ¯ç‰‡è¿æ¥åœ¨ä¸€èµ·ï¼Œä½†æ˜¯ä¸­é—´éœ€è¦ä¸€ä¸ªç½‘ç»œå˜å‹å™¨ï¼Œç½‘ç»œå˜å‹å™¨ç”¨äºéš”ç¦»ä»¥åŠæ»¤æ³¢ç­‰ï¼Œç½‘ç»œå˜å‹å™¨ä¹Ÿæ˜¯ä¸€ä¸ªèŠ¯ç‰‡ï¼Œå¤–å½¢ä¸€èˆ¬å¦‚å›¾1-6æ‰€ç¤ºï¼š
å›¾1-6 ç½‘ç»œå˜å‹å™¨
ä½†æ˜¯ç°åœ¨å¾ˆå¤šRJ45åº§å­å†…éƒ¨å·²ç»é›†æˆäº†ç½‘ç»œå˜å‹å™¨ï¼Œæ¯”å¦‚æœ€å¸¸ç”¨çš„HR911105Aå°±æ˜¯å†…ç½®ç½‘ç»œå˜å‹å™¨çš„RJ45åº§ã€‚å†…ç½®ç½‘ç»œå˜å‹å™¨çš„RJ45åº§å’Œä¸å†…ç½®çš„å¼•è„šä¸€æ ·ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸å†…ç½®çš„RJ45åº§ä¼šçŸ­ä¸€ç‚¹ã€‚
å› æ­¤ï¼Œå¤§å®¶åœ¨ç”»æ¿çš„æ—¶å€™ä¸€å®šè¦è€ƒè™‘ä½ æ‰€ä½¿ç”¨çš„RJ45åº§æ˜¯å¦å†…ç½®ç½‘ç»œå˜å‹å™¨ï¼Œå¦‚æœä¸å†…ç½®çš„è¯å°±è¦è‡ªè¡Œæ·»åŠ ç½‘ç»œå˜å‹å™¨éƒ¨åˆ†ç”µè·¯ï¼åŒç†ï¼Œå¦‚æœä½ æ‰€è®¾è®¡çš„ç¡¬ä»¶æ˜¯éœ€è¦å†…ç½®ç½‘ç»œå˜å‹å™¨çš„RJ45åº§ï¼Œè‚¯å®šä¸èƒ½éšä¾¿ç„Šæ¥ä¸€ä¸ªä¸å†…ç½®å˜å‹å™¨çš„RJ45åº§ï¼Œå¦åˆ™ç½‘ç»œå·¥ä½œä¸æ­£å¸¸ï¼
RJ45åº§å­ä¸Šä¸€èˆ¬æœ‰ä¸¤ä¸ªç¯ï¼Œä¸€ä¸ªé»„è‰²(æ©™è‰²)ï¼Œä¸€ä¸ªç»¿è‰²ï¼Œç»¿è‰²äº®çš„è¯è¡¨ç¤ºç½‘ç»œè¿æ¥æ­£å¸¸ï¼Œé»„è‰²é—ªçƒçš„è¯è¯´æ˜å½“å‰æ­£åœ¨è¿›è¡Œç½‘ç»œé€šä¿¡ã€‚è¿™ä¸¤ä¸ªç¯ç”±PHYèŠ¯ç‰‡æ§åˆ¶ï¼ŒPHYèŠ¯ç‰‡ä¼šæœ‰ä¸¤ä¸ªå¼•è„šæ¥è¿æ¥RJ45åº§ä¸Šçš„è¿™ä¸¤ä¸ªç¯ã€‚å†…éƒ¨MAC+å¤–éƒ¨PHY+RJ45åº§(å†…ç½®ç½‘ç»œå˜å‹å™¨)å°±ç»„æˆäº†ä¸€ä¸ªå®Œæ•´çš„åµŒå…¥å¼ç½‘ç»œæ¥å£ç¡¬ä»¶ï¼Œå¦‚å›¾1-7æ‰€ç¤ºï¼š
å›¾1-7 åµŒå…¥å¼ç½‘ç»œç¡¬ä»¶æ¥å£ç¤ºæ„å›¾
PHYèŠ¯ç‰‡åŸºç¡€çŸ¥è¯† PHYæ˜¯IEEE 802.3è§„å®šçš„ä¸€ä¸ªæ ‡å‡†æ¨¡å—ï¼Œå‰é¢è¯´äº†ï¼ŒSOCå¯ä»¥å¯¹PHYè¿›è¡Œé…ç½®æˆ–è€…è¯»å–PHYç›¸å…³çŠ¶æ€ï¼Œè¿™ä¸ªå°±éœ€è¦PHYå†…éƒ¨å¯„å­˜å™¨å»å®ç°ã€‚PHYèŠ¯ç‰‡å¯„å­˜å™¨åœ°å€ç©ºé—´ä¸º5ä½ï¼Œåœ°å€ 0~31å…±32ä¸ªå¯„å­˜å™¨ï¼ŒIEEEå®šä¹‰äº†0~15è¿™16ä¸ªå¯„å­˜å™¨çš„åŠŸèƒ½ï¼Œ16~31è¿™16ä¸ªå¯„å­˜å™¨ç”±å‚å•†è‡ªè¡Œå®ç°ã€‚
ä¹Ÿå°±æ˜¯è¯´ä¸ç®¡ä½ ç”¨çš„å“ªä¸ªå‚å®¶çš„PHYèŠ¯ç‰‡ï¼Œå…¶ä¸­0~15è¿™16ä¸ªå¯„å­˜å™¨æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚ä»…é è¿™16ä¸ªå¯„å­˜å™¨æ˜¯å®Œå…¨å¯ä»¥é©±åŠ¨èµ·PHYèŠ¯ç‰‡çš„ï¼Œè‡³å°‘èƒ½ä¿è¯åŸºæœ¬çš„ç½‘ç»œæ•°æ®é€šä¿¡ï¼Œå› æ­¤ Linux  å†…æ ¸æœ‰é€šç”¨PHYé©±åŠ¨ï¼ŒæŒ‰é“ç†æ¥è®²ï¼Œä¸ç®¡ä½ ä½¿ç”¨çš„å“ªä¸ªå‚å®¶çš„PHYèŠ¯ç‰‡ï¼Œéƒ½å¯ä»¥ä½¿ç”¨Linuxçš„è¿™ä¸ªé€šç”¨PHYé©±åŠ¨æ¥éªŒè¯ç½‘ç»œå·¥ä½œæ˜¯å¦æ­£å¸¸ã€‚
äº‹å®ä¸Šåœ¨å®é™…å¼€å‘ä¸­å¯èƒ½ä¼šé‡åˆ°ä¸€äº›å…¶ä»–çš„é—®é¢˜å¯¼è‡´Linuxå†…æ ¸çš„é€šç”¨PHYé©±åŠ¨å·¥ä½œä¸æ­£å¸¸ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦é©±åŠ¨å¼€å‘äººå‘˜å»è°ƒè¯•äº†ã€‚ä½†æ˜¯ï¼Œéšç€ç°åœ¨çš„PHYèŠ¯ç‰‡æ€§èƒ½è¶Šæ¥è¶Šå¼ºå¤§ï¼Œ32ä¸ªå¯„å­˜å™¨å¯èƒ½æ»¡è¶³ä¸äº†å‚å•†çš„éœ€æ±‚ï¼Œå› æ­¤å¾ˆå¤šå‚å•†é‡‡ç”¨åˆ†é¡µæŠ€æœ¯æ¥æ‰©å±•å¯„å­˜å™¨åœ°å€ç©ºé—´ï¼Œä»¥æ±‚å®šä¹‰æ›´å¤šçš„å¯„å­˜å™¨ã€‚
è¿™äº›å¤šå‡ºæ¥çš„å¯„å­˜å™¨å¯ä»¥ç”¨äºå®ç°å‚å•†ç‰¹æœ‰çš„ä¸€äº›æŠ€æœ¯ï¼Œå› æ­¤Linuxå†…æ ¸çš„é€šç”¨PHYé©±åŠ¨å°±æ— æ³•é©±åŠ¨è¿™äº›ç‰¹è‰²åŠŸèƒ½äº†ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦PHYå‚å•†æä¾›ç›¸åº”çš„é©±åŠ¨æºç äº†ï¼Œæ‰€ä»¥å¤§å®¶ä¹Ÿä¼šåœ¨Linuxå†…æ ¸é‡Œé¢çœ‹åˆ°å¾ˆå¤šå…·ä½“çš„PHYèŠ¯ç‰‡é©±åŠ¨æºç ã€‚
ä¸ç®¡ä½ çš„PHYèŠ¯ç‰‡æœ‰å¤šå°‘ç‰¹è‰²åŠŸèƒ½ï¼ŒæŒ‰é“ç†æ¥è®²ï¼ŒLinuxå†…æ ¸çš„é€šç”¨PHYé©±åŠ¨æ˜¯ç»å¯¹å¯ä»¥è®©ä½ è¿™PHYèŠ¯ç‰‡å®ç°åŸºæœ¬çš„ç½‘ç»œé€šä¿¡ï¼Œå› æ­¤å¤§å®¶ä¹Ÿä¸ç”¨æ‹…å¿ƒæ›´æ¢PHYèŠ¯ç‰‡ä»¥åç½‘ç»œé©±åŠ¨ç¼–å†™æ˜¯ä¸æ˜¯ä¼šå¾ˆå¤æ‚ã€‚
IEEE802.3åè®®è‹±æ–‡åŸç‰ˆä¸­çš„ â€œ22.2.4 Management functionsâ€ç« èŠ‚ï¼Œæ­¤ç« èŠ‚å¯¹PHYçš„å‰16ä¸ªå¯„å­˜å™¨åŠŸèƒ½è¿›è¡Œäº†è§„å®šï¼Œå¦‚å›¾1-8æ‰€ç¤ºï¼š
å›¾1-8 IEEEè§„å®šçš„å‰16ä¸ªå¯„å­˜å™¨
å…³äºè¿™16ä¸ªå¯„å­˜å™¨çš„å†…å®¹åè®®é‡Œé¢ä¹Ÿè¿›è¡Œäº†è¯¦ç»†çš„è®²è§£ï¼Œè¿™é‡Œå°±ä¸åˆ†æäº†ã€‚å¤§å®¶å¯ä»¥æ‰¾ä¸ªå…·ä½“çš„PHYèŠ¯ç‰‡æ•°æ®æ‰‹å†Œå¯¹æ¯”çœ‹ä¸€ä¸‹ï¼Œæ¯”å¦‚ç™¾Mç½‘ç»œæœ€å¸¸ç”¨çš„LAN8720Aè¿™ä¸ªPHYï¼Œå¤§å®¶å¯ä»¥çœ‹ä¸€ä¸‹LAN8720å‰é¢å‡ ä¸ªå¯„å­˜å™¨ç»“æ„æ˜¯å¦å’Œå›¾1-8ä¸­çš„ä¸€æ ·ã€‚
å…³äºåµŒå…¥å¼Linuxçš„ç½‘ç»œæ¥å£è®¾è®¡å°±è®²åˆ°è¿™é‡Œã€‚
]]></content>
  </entry>
  
  <entry>
    <title>Linux è¶…çº§æ¼‚äº®çš„ Shell</title>
    <url>/post/linux/beautiful-linux-shell.html</url>
    <categories><category>Linux</category>
    </categories>
    <tags>
      <tag>Shell</tag>
    </tags>
    <content type="html"><![CDATA[Linux/Unix æä¾›äº†å¾ˆå¤šç§ Shellï¼Œä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå¤š Shellï¼Ÿ
zsh ä»‹ç» Linux shell é‚£æˆ‘é—®ä½ ï¼Œä½ åŒç±»å‹çš„è¡£æœæ€ä¹ˆæœ‰é‚£ä¹ˆå¤šä»¶ï¼ŸèŠ±è‰²ï¼Œè´¨åœ°è¿˜ä¸ä¸€æ ·ã€‚å†™ç¨‹åºæ¯”ä¹°è¡£æœå¤æ‚å¤šäº†ï¼Œè€Œä¸”ç¨‹åºå‘˜å¾€å¾€è´Ÿè´£æŠŠå¤æ‚çš„äº‹æƒ…æç®€å•ï¼Œç®€å•çš„äº‹æƒ…æå¤æ‚ã€‚ç‰›ç¨‹åºå‘˜çœ‹åˆ°ä¸çˆ½çš„ Shellï¼Œå°±ä¼šè‡ªå·±é‡æ–°å†™ä¸€å¥—ï¼Œæ…¢æ…¢å½¢æˆäº†ä¸€äº›æ ‡å‡†ï¼Œå¸¸ç”¨çš„ Shell æœ‰è¿™ä¹ˆå‡ ç§ï¼Œshã€bashã€csh ç­‰ï¼Œæƒ³çŸ¥é“ä½ çš„ç³»ç»Ÿæœ‰å‡ ç§ shellï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š
cat/etc/shells æ˜¾ç¤ºå¦‚ä¸‹ï¼š
zsh ç®€ä»‹ Zsh æ˜¯ä¸€ä¸ª Linux ä¸‹å¼ºå¤§çš„ shell, ç”±äºå¤§å¤šæ•° Linux äº§å“å®‰è£…ï¼Œä»¥åŠé»˜è®¤ä½¿ç”¨bash shell, ä½†æ˜¯ä¸æ¯«ä¸å½±å“æå®¢ä»¬å¯¹ zsh çš„çƒ­è¡·, å‡ ä¹æ¯ä¸€æ¬¾ Linux äº§å“éƒ½åŒ…å«æœ‰ zshï¼Œé€šå¸¸å¯ä»¥ç”¨ apt-getã€urpmi æˆ– yum ç­‰åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…
Zsh å…·æœ‰ä»¥ä¸‹ä¸»è¦åŠŸèƒ½
 å¼€ç®±å³ç”¨ã€å¯ç¼–ç¨‹çš„å‘½ä»¤è¡Œè¡¥å…¨åŠŸèƒ½å¯ä»¥å¸®åŠ©ç”¨æˆ·è¾“å…¥å„ç§å‚æ•°ä»¥åŠé€‰é¡¹ åœ¨ç”¨æˆ·å¯åŠ¨çš„æ‰€æœ‰ shell ä¸­å…±äº«å‘½ä»¤å†å² é€šè¿‡æ‰©å±•çš„æ–‡ä»¶é€šé…ç¬¦ï¼Œå¯ä»¥ä¸åˆ©ç”¨å¤–éƒ¨å‘½ä»¤è¾¾åˆ° find å‘½ä»¤ä¸€èˆ¬å±•å¼€æ–‡ä»¶å æ”¹è¿›çš„å˜é‡ä¸æ•°ç»„å¤„ç† åœ¨ç¼“å†²åŒºä¸­ç¼–è¾‘å¤šè¡Œå‘½ä»¤ å¤šç§å…¼å®¹æ¨¡å¼ï¼Œä¾‹å¦‚ä½¿ç”¨ /bin/sh è¿è¡Œæ—¶å¯ä»¥ä¼ªè£…æˆ Bourne shell å¯ä»¥å®šåˆ¶å‘ˆç°å½¢å¼çš„æç¤ºç¬¦ï¼›åŒ…æ‹¬åœ¨å±å¹•å³ç«¯æ˜¾ç¤ºä¿¡æ¯ï¼Œå¹¶åœ¨é”®å…¥é•¿å‘½ä»¤æ—¶è‡ªåŠ¨éšè— å¯åŠ è½½çš„æ¨¡å—ï¼Œæä¾›å…¶ä»–å„ç§æ”¯æŒï¼šå®Œæ•´çš„ TCP ä¸ Unix åŸŸå¥—æ¥å­—æ§åˆ¶ï¼ŒFTP å®¢æˆ·ç«¯ä¸æ‰©å……è¿‡çš„æ•°å­¦å‡½æ•° å®Œå…¨å¯å®šåˆ¶åŒ–  zsh ä¸ oh-my-zsh ç»ˆæé…ç½® ä¹‹å‰æ˜¯å› ä¸ºçœ‹åˆ°è¿™ç¯‡æ–‡ç« ï¼šç»ˆæ Shellâ€”â€”Zsh æ‰é€‰æ‹©ä½¿ç”¨ zshï¼Œè¢«å®ƒçš„è‡ªåŠ¨å®Œæˆã€è¡¥å…¨åŠŸèƒ½å¸å¼•äº†ã€‚å®˜ç½‘ï¼šhttp://www.zsh.org
é€‰æ‹© oh-my-zsh, oh-my-zsh æ˜¯åŸºäº zsh çš„åŠŸèƒ½åšäº†ä¸€ä¸ªæ‰©å±•ï¼Œæ–¹ä¾¿çš„æ’ä»¶ç®¡ç†ã€ä¸»é¢˜è‡ªå®šä¹‰ï¼Œä»¥åŠæ¼‚äº®çš„è‡ªåŠ¨å®Œæˆæ•ˆæœã€‚
åœ¨ Github ä¸Šæ‰¾å…³äº zsh çš„é¡¹ç›®æ—¶å‘ç°çš„ï¼Œè¯•ç”¨äº†ä¸€ä¸‹è§‰å¾—å¾ˆæ–¹ä¾¿ï¼Œä¸ç”¨åƒä¸Šé¢æ–‡ç« é‡Œé¢æåˆ°çš„é‚£ä¹ˆå¤æ‚ï¼Œé…ç½®ä¸€äº›æ’ä»¶çš„åç§°å³å¯ä½¿ç”¨ç›¸åº”çš„åŠŸèƒ½ã€‚
å®˜ç½‘ï¼šhttps://github.com/robbyrussell/oh-my-zsh
å®‰è£… zsh å®‰è£… zsh å¯¹äºä¸€èˆ¬çš„ Ubuntu ç³»ç»Ÿï¼Œé…ç½®å¥½æ­£ç¡®çš„æºä¹‹åï¼Œå°±èƒ½ç›´æ¥é”®å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š
sudo apt-get install zsh é…ç½® zsh zshçš„é…ç½®æ˜¯ä¸€é—¨å¤§å­¦é—®ï¼Œè¿™é‡Œä¸èµ˜è¿°ï¼Œç›´æ¥ç»™å‡ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå¤§å®¶å¯ä»¥ä¸‹è½½åæ”¾å…¥ zsh é…ç½®æ–‡æ¡£ç›´æ¥ä½¿ç”¨ã€‚ï¼ˆæˆ‘çš„ä¸€ä¸ªæ³•å›½æœ‹å‹æ‰‹é…çš„ï¼Œç›¸å½“é¡ºæ‰‹ï¼‰
æŠŠ.zshrcæ‹·è´åˆ°ç›¸åº”ç”¨æˆ·çš„homeç›®å½•å³å¯(ä¹Ÿå¯ä»¥æŠŠä½ çš„bashçš„é…ç½®æ–‡ä»¶(~/.bash_prorile æˆ–è€… ~/.profile ç­‰) ç»™æ‹·è´åˆ°zshçš„é…ç½®æ–‡ä»¶~/.zshrcé‡Œï¼Œå› ä¸ºzshå…¼å®¹bash)
å–ä»£bashï¼Œè®¾ä¸ºé»˜è®¤shell sudo usermod -s /bin/zsh username æˆ–è€…
chsh -s /bin/zsh chsh -s `whichzsh` å¦‚æœè¦åˆ‡æ¢å›å» bashï¼š
chsh -s /bin/bash å½“ç„¶ä½ å®åœ¨ä¸æ„¿æ„æŠŠ zsh å½“æˆé»˜è®¤çš„ shell, è€Œåˆæƒ³ä½¿ç”¨å®ƒ, é‚£ä¹ˆä½ å¯ä»¥æ¯æ¬¡è¿›å…¥æ˜¯éƒ½ä½¿ç”¨zshè¿›å…¥, è€Œè¾“å…¥exité€€å‡º
å®‰è£…oh-my-zsh ç›´æ¥ç”¨ zsh ä¼šå¾ˆéº»çƒ¦ï¼Œå› ä¸º zsh åŠŸèƒ½å¾ˆå¼ºå¤§ä½†æ˜¯å¤ªå¤æ‚ï¼Œæ‰€ä»¥éœ€è¦ oh-my-zsh æ¥å°†å®ƒç®€å•åŒ–
ç›´æ¥ç”¨ git ä» github ä¸Šé¢ä¸‹è½½åŒ… git clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh å¤‡ä»½å·²æœ‰çš„ zshrc, æ›¿æ¢ zshrc cp ~/.zshrc ~/.zshrc.orig cp~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc ç›´æ¥ä½¿ç”¨è„šæœ¬å®‰è£… cd oh-my-zsh/tools ./install.sh ä½ å¯ä»¥ç›´æ¥ç›´æ¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…
sh -c &#34;$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&#34; sh -c &#34;$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&#34; å…¶æœ¬è´¨å°±æ˜¯ä¸‹è½½å¹¶æ‰§è¡Œäº† github ä¸Šçš„ install.sh è„šæœ¬, è¯¥è„šæœ¬ä½äºoh-my-zsh/tools/install.sh
é…ç½®ä¸»é¢˜ oh-my-zsh é›†æˆäº†å¤§é‡çš„ä¸»é¢˜, ä½äºoh-my-zsh/theme
é…ç½®ä¸»é¢˜, å¯ä»¥é€šè¿‡ä¿®æ”¹~/.zshrcä¸­çš„ç¯å¢ƒå˜é‡ZSH_THEMEæ¥å®Œæˆ
ZSH_THEME=&#34;agnoster&#34; # (this is one of the fanc yones) å¦‚æœä½ è§‰å¾—ä¸»é¢˜å¤ªå¤šä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨éšæœºæ¨¡å¼, æ¥ç”±ç³»ç»Ÿéšæœºé€‰æ‹©
ZSH_THEME=&#34;random&#34;#(...please let it be pie... please be some pie..) è¯¦ç»†çš„ä¸»é¢˜ä¿¡æ¯, å¯ä»¥å‚è§ zsh ä¸»é¢˜ä»‹ç»
é…ç½®æ’ä»¶ ä¿®æ”¹ï½/.zshrcä¸­plugins
plugins=(gitbundlerosxrakeruby)
è¯¦ç»†çš„æ’ä»¶ä¿¡æ¯, å¯ä»¥å‚è§ zsh æ’ä»¶ Plugins ä»‹ç»
æ›´æ–° oh-my-zsh é»˜è®¤æƒ…å†µä¸‹, æ‚¨å°†è¢«æç¤ºæ£€æŸ¥æ¯å‡ å‘¨çš„å‡çº§. å¦‚æœä½ æƒ³æˆ‘ ZSH è‡ªåŠ¨å‡çº§æœ¬èº«æ²¡æœ‰æç¤ºä½ , ä¿®æ”¹ ~/.zshrc
disable_update_prompt=true ç¦ç”¨è‡ªåŠ¨å‡çº§, ä¿®æ”¹~/.zshrc disable_auto_update=true å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©æ‰‹åŠ¨æ›´æ–° å¦‚æœä½ æƒ³åœ¨ä»»ä½•æ—¶é—´ç‚¹å‡çº§ï¼ˆä¹Ÿè®¸æœ‰äººåˆšåˆšå‘å¸ƒäº†ä¸€ä¸ªæ–°çš„æ’ä»¶ï¼Œä½ ä¸æƒ³ç­‰å¾…ä¸€ä¸ªæ˜ŸæœŸï¼Ÿ) ä½ åªéœ€è¦è¿è¡Œï¼š
upgrade_oh_my_zsh
å¸è½½ oh-my-zsh å¦‚æœä½ æƒ³å¸è½½oh-my-zsh, åªéœ€è¦æ‰§è¡Œuninstall_oh_my_zsh zshï¼Œ ä»å‘½ä»¤è¡Œè¿è¡Œï¼Œè¿™å°†åˆ é™¤æœ¬èº«å’Œæ¢å¤ä½ ä»¥å‰çš„ bash æˆ–è€… zsh é…ç½®ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>å¦‚ä½•åœ¨Linuxä¸­æ­å»ºDNSæœåŠ¡</title>
    <url>/post/linux/dns-server-configuration-in-linux.html</url>
    <categories><category>Linux</category>
    </categories>
    <tags>
      <tag>DNS</tag>
    </tags>
    <content type="html"><![CDATA[è¦åœ¨Linuxç³»ç»Ÿä¸Šæ­å»ºDNSæœåŠ¡ï¼Œä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼š
å®‰è£…BINDè½¯ä»¶åŒ… sudo yum install bind bind-utils é…ç½®ä¸»DNSæœåŠ¡å™¨ æ‰“å¼€/etc/named.confæ–‡ä»¶ï¼Œç¼–è¾‘DNSæœåŠ¡å™¨çš„é…ç½®ã€‚æ ¹æ®ä½ çš„åŸŸåå’Œç½‘ç»œç¯å¢ƒï¼Œä¿®æ”¹ä»¥ä¸‹ç¤ºä¾‹é…ç½®ä¸ºé€‚å½“çš„å€¼ï¼š
options { listen-on port 53 { any; }; allow-query { any; }; recursion yes; }; zone &#34;example.com&#34; IN { type master; file &#34;/var/named/example.com.zone&#34;; allow-update { none; }; }; åˆ›å»ºä¸»DNSåŒºåŸŸæ–‡ä»¶ åˆ›å»ºä¸€ä¸ªåŒºåŸŸæ–‡ä»¶ä»¥å­˜å‚¨DNSè®°å½•ã€‚åœ¨/var/named/ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºexample.com.zoneçš„æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ç›¸åº”çš„DNSè®°å½•ã€‚ç¤ºä¾‹ï¼š
$TTL 86400 @ IN SOA ns1.example.com. root.example.com. ( 2018010101 ; Serial 3600 ; Refresh 1800 ; Retry 604800 ; Expire 86400 ; Minimum TTL ) @ IN NS ns1.example.com. @ IN A 192.168.1.10 www IN A 192.168.1.20 é…ç½®åå‘è§£æ æ‰“å¼€/etc/named.confæ–‡ä»¶ï¼Œå¹¶æ·»åŠ åå‘è§£æé…ç½®ã€‚ç¤ºä¾‹ï¼š
zone &#34;1.168.192.in-addr.arpa&#34; IN { type master; file &#34;/var/named/1.168.192.zone&#34;; allow-update { none; }; }; åˆ›å»ºåå‘è§£æåŒºåŸŸæ–‡ä»¶ åœ¨/var/named/ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º1.168.192.zoneçš„æ–‡ä»¶ï¼Œç”¨äºåå‘è§£æã€‚æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
$TTL 86400 @ IN SOA ns1.example.com. root.example.com. ( 2018010101 ; Serial 3600 ; Refresh 1800 ; Retry 604800 ; Expire 86400 ; Minimum TTL ) @ IN NS ns1.example.com. 10 IN PTR example.com. 20 IN PTR www.example.com. è®¾ç½®é˜²ç«å¢™è§„åˆ™ å¦‚æœæ‚¨çš„é˜²ç«å¢™å¤„äºå¯ç”¨çŠ¶æ€ï¼Œè¯·ç¡®ä¿å…è®¸DNSæµé‡é€šè¿‡
sudo firewall-cmd --add-service=dns --permanent sudo firewall-cmd --reload å¯åŠ¨å¹¶å¯ç”¨DNSæœåŠ¡ sudo systemctl start named sudo systemctl enable named ç°åœ¨ï¼Œä½ çš„Linuxç³»ç»Ÿä¸Šçš„DNSæœåŠ¡å™¨å°±å·²ç»æ­å»ºå®Œæˆäº†ã€‚æ‚¨å¯ä»¥åœ¨å…¶ä»–è®¾å¤‡ä¸Šå°†DNSæœåŠ¡å™¨è®¾ç½®ä¸ºæ‚¨çš„CentOSä¸»æœºçš„IPåœ°å€ï¼Œä»¥ä½¿ç”¨è¯¥DNSæœåŠ¡å™¨è¿›è¡ŒåŸŸåè§£æã€‚
è¯·æ³¨æ„ï¼Œåœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½ å¯èƒ½éœ€è¦æ›´å¤æ‚çš„é…ç½®æ¥æ»¡è¶³ç½‘ç»œéœ€æ±‚ï¼Œä¾‹å¦‚æ·»åŠ å…¶ä»–åŒºåŸŸæˆ–é…ç½®è½¬å‘ç­‰ã€‚
DNSåŸç†åŠè§£ææµç¨‹ DNSæ˜¯äº’è”ç½‘ä¸­ç”¨äºå°†åŸŸåè§£æä¸ºIPåœ°å€çš„ç³»ç»Ÿã€‚å®ƒå……å½“äº†ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå°†äººç±»å¯è¯»çš„åŸŸåæ˜ å°„åˆ°è®¡ç®—æœºå¯ç†è§£çš„IPåœ°å€ã€‚
DNSçš„è§£ææµç¨‹å¦‚ä¸‹ï¼š
 ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ªåŸŸåï¼Œæ¯”å¦‚www.example.com æ“ä½œç³»ç»Ÿé¦–å…ˆä¼šæ£€æŸ¥æœ¬åœ°ç¼“å­˜ï¼ˆç§°ä¸ºæœ¬åœ°DNSç¼“å­˜ï¼‰ï¼Œçœ‹æ˜¯å¦å·²ç»æœ‰è¯¥åŸŸåçš„è§£æç»“æœã€‚å¦‚æœæœ‰ï¼Œåˆ™ç›´æ¥è¿”å›å¹¶è·³è‡³ç¬¬8æ­¥ã€‚å¦‚æœæ²¡æœ‰ï¼Œç»§ç»­è¿›è¡Œåç»­æ­¥éª¤ã€‚ æ“ä½œç³»ç»Ÿå‘é¢„é…ç½®çš„æœ¬åœ°DNSæœåŠ¡å™¨å‘é€ä¸€ä¸ªDNSæŸ¥è¯¢è¯·æ±‚ã€‚è¿™ä¸ªæœ¬åœ°DNSæœåŠ¡å™¨é€šå¸¸ç”±ç”¨æˆ·çš„ISPï¼ˆäº’è”ç½‘æœåŠ¡æä¾›å•†ï¼‰æˆ–è€…è‡ªå®šä¹‰çš„DNSæœåŠ¡å™¨æä¾›ã€‚ æœ¬åœ°DNSæœåŠ¡å™¨æ”¶åˆ°æŸ¥è¯¢è¯·æ±‚åï¼Œé¦–å…ˆæ£€æŸ¥è‡ªå·±çš„ç¼“å­˜ï¼Œå¦‚æœå­˜åœ¨å¯¹åº”çš„åŸŸåè§£æç»“æœï¼Œç›´æ¥è¿”å›ç»™æ“ä½œç³»ç»Ÿã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™ç»§ç»­è¿›è¡Œåç»­æ­¥éª¤ã€‚ æœ¬åœ°DNSæœåŠ¡å™¨æ ¹æ®åŸŸåçš„é¡¶çº§åŸŸï¼ˆTLDï¼‰æ¥é€‰æ‹©åˆé€‚çš„æ ¹åŸŸåæœåŠ¡å™¨ï¼ˆRoot DNS Serverï¼‰å‘é€æŸ¥è¯¢è¯·æ±‚ã€‚æ ¹åŸŸåæœåŠ¡å™¨è´Ÿè´£ç®¡ç†é¡¶çº§åŸŸåæœåŠ¡å™¨çš„åœ°å€ä¿¡æ¯ã€‚ æ ¹åŸŸåæœåŠ¡å™¨è¿”å›ç»™æœ¬åœ°DNSæœåŠ¡å™¨ä¸€ä¸ªé¡¶çº§åŸŸåæœåŠ¡å™¨çš„åœ°å€ã€‚ æœ¬åœ°DNSæœåŠ¡å™¨å†æ¬¡å‘é¡¶çº§åŸŸåæœåŠ¡å™¨å‘é€æŸ¥è¯¢è¯·æ±‚ã€‚é¡¶çº§åŸŸåæœåŠ¡å™¨è´Ÿè´£ç®¡ç†å¯¹åº”é¡¶çº§åŸŸä¸‹çš„æƒå¨åŸŸåæœåŠ¡å™¨ï¼ˆAuthoritative DNS Serverï¼‰çš„åœ°å€ä¿¡æ¯ã€‚ æœ¬åœ°DNSæœåŠ¡å™¨æ”¶åˆ°æƒå¨åŸŸåæœåŠ¡å™¨çš„åœ°å€åï¼Œå‘æƒå¨åŸŸåæœåŠ¡å™¨å‘é€æœ€ç»ˆçš„æŸ¥è¯¢è¯·æ±‚ã€‚ æƒå¨åŸŸåæœåŠ¡å™¨æ”¶åˆ°æŸ¥è¯¢è¯·æ±‚åï¼Œåœ¨è‡ªå·±çš„æ•°æ®ä¸­æŸ¥æ‰¾è¯¥åŸŸåçš„è§£æç»“æœã€‚ å¦‚æœæƒå¨åŸŸåæœåŠ¡å™¨æ‰¾åˆ°äº†è¯¥åŸŸåçš„è§£æç»“æœï¼Œå®ƒå°†è¿”å›ç»™æœ¬åœ°DNSæœåŠ¡å™¨ã€‚ æœ¬åœ°DNSæœåŠ¡å™¨æ”¶åˆ°è§£æç»“æœåï¼Œä¼šå°†å…¶ç¼“å­˜ä¸‹æ¥ï¼Œå¹¶å°†è§£æç»“æœè¿”å›ç»™æ“ä½œç³»ç»Ÿã€‚ æ“ä½œç³»ç»Ÿå°†è§£æç»“æœä¼ é€’ç»™åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚æµè§ˆå™¨ã€‚ åº”ç”¨ç¨‹åºåˆ©ç”¨è§£æç»“æœä¸­çš„IPåœ°å€ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œå¹¶å®Œæˆåç»­çš„é€šä¿¡è¿‡ç¨‹ã€‚ æ•´ä¸ªDNSè§£ææµç¨‹å¯èƒ½æ¶‰åŠå¤šæ¬¡æŸ¥è¯¢å’Œå“åº”ï¼Œä½†ç”±äºDNSç³»ç»Ÿçš„åˆ†å¸ƒå¼ç»“æ„å’Œç¼“å­˜æœºåˆ¶ï¼Œå¤§éƒ¨åˆ†è§£æç»“æœå¯ä»¥ä»æœ¬åœ°DNSç¼“å­˜æˆ–è€…æœ¬åœ°DNSæœåŠ¡å™¨çš„ç¼“å­˜ä¸­è·å–ï¼Œä»è€Œæé«˜è§£æé€Ÿåº¦å’Œå‡è½»DNSæœåŠ¡å™¨çš„è´Ÿè½½å‹åŠ›ã€‚  éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒDNSè§£æå¹¶éä¸€æ¬¡æ€§å®Œæˆçš„ï¼ŒDNSè®°å½•å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå› æ­¤åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œéœ€è¦ç­‰å¾…DNSè®°å½•çš„åˆ·æ–°æ—¶é—´ï¼ˆTTLï¼‰è¿‡æœŸåæ‰èƒ½è·å–åˆ°æœ€æ–°çš„è§£æç»“æœã€‚
åŸæ–‡è¿æ¥: å¦‚ä½•åœ¨Linuxä¸­æ­å»ºDNSæœåŠ¡  
]]></content>
  </entry>
  
  <entry>
    <title>å–ä»£C++ï¼Ÿè°·æ­Œå¼€æºç¼–ç¨‹è¯­è¨€Carbon</title>
    <url>/post/programming/google-open-source-programming-language-carbon.html</url>
    <categories><category>Programming</category>
    </categories>
    <tags>
      <tag>Google</tag>
      <tag>C++</tag>
      <tag>Carbon</tag>
    </tags>
    <content type="html"><![CDATA[å·ç§°æ›¿ä»£C++ï¼Œè°·æ­Œå‘å¸ƒæ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œå·²ç»è¿‡å»äº†ä¸€å¹´ã€‚å»å¹´7æœˆï¼Œåœ¨å¤šä¼¦å¤šä¸¾åŠçš„CppNorthå¤§ä¼šä¸Šï¼Œè°·æ­Œå®£å¸ƒæ­£å¼å¼€æºå†…éƒ¨æ‰“é€ çš„ç¼–ç¨‹è¯­è¨€Carbonï¼Œå¹¶ç§°ä»–æ˜¯C++çš„ç»§ä»»è€…ã€‚
è°·æ­Œçš„å·¥ç¨‹å¸ˆè®¤ä¸ºå‘¢ï¼Œå°½ç®¡C++ä»ç„¶æ˜¯æ€§èƒ½å…³é”®æ€§è½¯ä»¶çš„ä¸»æµç¼–ç¨‹è¯­è¨€ï¼Œå¹¶ä¸”æ‹¥æœ‰åºå¤§ä¸”ä¸æ–­å¢é•¿çš„ä»£ç åº“ã€‚ä½†åŒæ—¶å‘¢ï¼Œä¹Ÿå­˜åœ¨ç€åº”ç”¨æ€§è¾ƒå·®ï¼ŒæŒæ¡éš¾åº¦å¤§ä»¥åŠç”±äºè¯­è¨€åŠŸèƒ½è¿‡äºä¸°å¯Œè€Œå¯¼è‡´çš„æ··ä¹±çš„é—®é¢˜ã€‚
æ‰€ä»¥å‘¢ï¼Œä»–ä»¬å†³å®šè‡ªå·±å¼€å‘ä¸€é—¨è¯­è¨€æ¥ä»£æ›¿C++ï¼Œäºæ˜¯å‘¢ï¼Œè¿™ä¸ªé€Ÿåº¦æ›´å¿«ï¼Œå¹¶ä¸”å¯ä»¥å’ŒC++ä»£ç äº’ç›¸æ“ä½œçš„æ–°è¯­è¨€å°±åº”è¿è€Œç”Ÿäº†ï¼ŒCarbonç¼–ç¨‹è¯­è¨€å·²ç»åœ¨GitHubä¸Šå¼€æºäº†ã€‚
å…¶å®å‘¢ï¼ŒGoogleåœ¨ç¼–ç¨‹è¯­è¨€æ–¹é¢ç¡®å®è¿˜æŒºå¼ºçš„ï¼Œä¹‹å‰å¼€æºçš„go longå‘¢ï¼Œç›®å‰å·²ç»æ˜¯ä½¿ç”¨éå¸¸å¹¿æ³›çš„ä¸€ä¸ªç¼–ç¨‹è¯­è¨€äº†ï¼Œä½†æ˜¯è¿™æ¬¡Carbonèƒ½å¦å»¶ç»­Goè¯­è¨€çš„ä¼ å¥‡ï¼Ÿç›®å‰ä¸‹ç»“è®ºå‘¢ï¼Œè¿˜ä¸ºæ—¶å°šæ—©ï¼Œæ¯•ç«Ÿä¸Šä¸€ä¸ªå·ç§°ä»£æ›¿C++çš„ Rust  è¯­è¨€ç›®å‰æ··çš„å¹¶ä¸å’‹æ»´ã€‚
åœ¨è°ˆåˆ°ä¸ºä½•è¦æ›¿ä»£ C++ æ—¶ï¼Œè°·æ­Œå·¥ç¨‹å¸ˆCarruthè¡¨ç¤ºï¼ŒC++ä½œä¸ºé•¿æœŸä»¥æ¥æ„å»ºæ€§èƒ½å…³é”®åº”ç”¨çš„é¦–é€‰è¯­è¨€ï¼Œå®ƒè‡ªèº«çš„å¾ˆå¤šé—®é¢˜å›°æ‰°ç€ç°ä»£å¼€å‘äººå‘˜ã€‚C++ç§¯ç´¯äº†æ•°åå¹´çš„æŠ€æœ¯è´Ÿå€ºï¼Œå¸¦æœ‰çš„å¾ˆå¤šè¿‡æ—¶å®è·µéƒ½æ˜¯å…¶å‰èº«Cè¯­è¨€çš„ä¸€éƒ¨åˆ†ã€‚C++ çš„ç»´æŠ¤è€…ä¼˜å…ˆè€ƒè™‘å‘åå…¼å®¹ï¼Œä»¥ä¾¿ç»§ç»­æ”¯æŒå¹¿æ³›ä½¿ç”¨çš„é¡¹ç›®ï¼Œä¾‹å¦‚LinuxåŠå…¶åŒ…ç®¡ç†ç”Ÿæ€ç³»ç»Ÿç­‰ã€‚
æ­¤å¤–ï¼ŒC++è¯­è¨€çš„å‘å±•ä¹Ÿå—åˆ°äº†å®˜åƒšå§”å‘˜ä¼šç¨‹åºçš„é˜»ç¢ï¼Œè¯¥ç¨‹åºä»¥æ ‡å‡†åŒ–è€Œéè®¾è®¡ä¸ºå¯¼å‘ã€‚è¿™ç§åšæ³•å¯¼è‡´å¾ˆéš¾æ·»åŠ æ–°åŠŸèƒ½ã€‚C++åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå¤„äºä¸€ä¸ªéš”ç»çš„å¼€å‘è¿‡ç¨‹ï¼Œå…¶ä¸­å¯èƒ½ç»è¿‡æ•°å¹´æ‰ä¼šåšå‡ºä¸€äº›é‡è¦å†³å®šã€‚
å› æ­¤ï¼ŒCarruthå¸Œæœ›é€šè¿‡æ›´å¼€æ”¾çš„ç¤¾åŒºä¸»å¯¼ç¯å¢ƒæ¥æ„å»ºCarbonè¯­è¨€ï¼Œå¹¶å·²å¼€æºã€‚åˆ°2023å¹´7æœˆä¸­æ—¬ï¼Œè¯¥é¡¹ç›®å·²åœ¨GitHubä¸Šè·å¾—30.8kçš„Starsã€‚
Carbonçš„è®¾è®¡ç†å¿µå’Œç‰¹æ€§ è°·æ­Œå¸Œæœ›åœ¨2022å¹´å¹´åº•æ¨å‡ºCarbonçš„æ ¸å¿ƒå·¥ä½œç‰ˆæœ¬ï¼Œå³v0.1ã€‚Carbonå°†å»ºç«‹åœ¨ç°ä»£ç¼–ç¨‹åŸåˆ™çš„åŸºç¡€ä¸Šï¼ŒåŒ…å«ä¸€ä¸ªæ³›å‹ç³»ç»Ÿï¼Œä½¿å¼€å‘äººå‘˜ä¸å†éœ€è¦ä¸ºæ¯ä¸ªå®ä¾‹æ£€æŸ¥å’Œå†æ ¸å¯¹ä»£ç ã€‚
C++ è¯­è¨€ä¸­äºŸéœ€çš„ä¸€ä¸ªç‰¹æ€§æ˜¯å†…å­˜å®‰å…¨ã€‚å†…å­˜è®¿é—® bugæ˜¯å®‰å…¨æ¼æ´çš„ç½ªé­ç¥¸é¦–ä¹‹ä¸€ï¼ŒCarbon è®¾è®¡äººå‘˜å°†æ¢ç´¢è¿½è¸ªæœªåˆå§‹åŒ–çŠ¶æ€çš„æ›´å¥½æ–¹æ³•ã€è®¾è®¡æ”¯æŒåŠ¨æ€è¾¹ç•Œæ£€æŸ¥çš„ APIå’Œæƒ¯ç”¨è¯­ï¼Œå¹¶æ„å»ºå…¨é¢çš„é»˜è®¤debugæ„å»ºæ¨¡å¼ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œè®¾è®¡äººå‘˜è¿˜è®¡åˆ’æ„å»ºä¸€ä¸ªå®‰å…¨çš„Carbonå­é›†ã€‚
Carbonè¯­è¨€å°†æ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š  æ€§èƒ½å…³é”®å‹è½¯ä»¶ï¼› è½¯ä»¶å’Œè¯­è¨€æ¼”å˜ï¼› æ˜“äºé˜…è¯»ã€ç†è§£å’Œç¼–å†™çš„ä»£ç ï¼› å®ç”¨çš„å®‰å…¨å’Œæµ‹è¯•æœºåˆ¶ï¼› å¿«é€Ÿä¸”å¯æ‰©å±•çš„å¼€å‘ï¼› ç°ä»£æ“ä½œç³»ç»Ÿå¹³å°ã€ç¡¬ä»¶æ¶æ„å’Œç¯å¢ƒï¼› ä¸ç°æœ‰C++ä»£ç çš„äº’æ“ä½œæ€§å’Œè¿ç§»  åŒæ—¶ï¼ŒCarbonè¯­è¨€çš„äº®ç‚¹åŒ…æ‹¬å¦‚ä¸‹ï¼š  Introducerå…³é”®å­—å’Œç®€å•è¯­æ³•ï¼› å‡½æ•°è¾“å…¥å‚æ•°ä¸ºåªè¯»å€¼ï¼› æŒ‡é’ˆæä¾›é—´æ¥è®¿é—®å’Œå˜ä½“ï¼› ä½¿ç”¨è¡¨è¾¾å¼å‘½åç±»å‹ï¼› è½¯ä»¶åŒ…ä¸ºrootå‘½åç©ºé—´ï¼› é€šè¿‡åŒ…åå¯¼å…¥APIsï¼› ç”¨æ˜¾å¼å¯¹è±¡å‚æ•°æ¥å£°æ˜æ–¹æ³•ï¼› å•ç»§æ‰¿ã€é»˜è®¤ä½¿ç”¨æœ€ç»ˆç±»ï¼› å¼ºå¤§ä¸”ç»è¿‡å®šä¹‰æ£€æŸ¥çš„æ³›å‹ï¼› ç±»å‹æ˜¾å¼åœ°å®ç°æ¥å£ã€‚  Carbonè®¾è®¡å›¢é˜Ÿå°†ç€æ‰‹åˆ›å»ºä¸€ä¸ªå†…ç½®åŒ…ç®¡ç†å™¨ï¼Œè¿™åœ¨C++ä¸­éå¸¸æ¬ ç¼ºã€‚æ­¤å¤–ï¼Œå›¢é˜Ÿè¿˜è®¡åˆ’ç¼–å†™ä¸€äº›å°†C++ä»£ç è¿ç§»åˆ°Carbonä»£ç çš„å·¥å…·ã€‚ä¸‹å›¾å·¦ä¸ºC++ä»£ç ï¼Œå³ä¸ºCarbonç¼–å†™çš„ç›¸åŒå‡½æ•°ï¼š
ä¸ºä½•ä¸å¤§åŠ›å‘å±•Rustè¯­è¨€å‘¢ï¼Ÿ æœ‰äººæˆ–è®¸ä¼šé—®äº†ï¼šæœ€è¿‘æœ‰ä¸“é—¨ä¸ºè§£å†³å†…å­˜å®‰å…¨æ€§èƒ½åº”ç”¨çš„éœ€æ±‚è€Œæ„å»ºçš„Rustè¯­è¨€ï¼Œä¸ºä½•ä¸ç›´æ¥ä½¿ç”¨å®ƒå‘¢ï¼ŸCarruthå¯¹æ­¤è¡¨ç¤ºï¼Œå¦‚æœRusté€‚åˆä½ ï¼Œå°±ç»§ç»­ä½¿ç”¨ã€‚ä½†æ˜¯ï¼Œå°†C++çš„ç”Ÿæ€ç³»ç»Ÿè½¬ç§»åˆ°Rustéå¸¸å›°éš¾ã€‚
ç›¸æ¯”ä¹‹ä¸‹ï¼ŒCarbonæ˜¯å»ºç«‹åœ¨å·²æœ‰C++ç”Ÿæ€ç³»ç»Ÿä¹‹ä¸Šï¼Œé€‚åˆé‚£äº›å·²ç»æ‹¥æœ‰å¤§é‡C++ä»£ç åº“çš„å¼€å‘äººå‘˜ï¼Œè¿™äº›åº“å¾ˆéš¾è½¬æ¢åˆ°Rustã€‚
ç›®å‰ Carbon è¯­è¨€çš„ä»£ç å·²å®Œå…¨å¼€æºã€‚Chandler è¡¨ç¤ºï¼Œè™½ç„¶ Carbon è¯ç”Ÿè‡ªè°·æ­Œå†…éƒ¨ï¼Œä¸”ç›®å‰çš„é¡¹ç›®è´Ÿè´£äººä¸»è¦ï¼ˆä¸å®Œå…¨ï¼‰ç”±è°·æ­Œå‘˜å·¥ç»„æˆï¼Œä½†å®ƒçš„ç›®æ ‡æ˜¯è¦æˆä¸ºä¸€ä¸ª â€œç‹¬ç«‹ä¸”ç”±ç¤¾åŒºé©±åŠ¨çš„å¼€æºé¡¹ç›®â€ã€‚
å¦‚æœä½ å¯¹ Carbon æ„Ÿå…´è¶£ï¼Œå¯ä»¥ä¸‹è½½æºä»£ç å¹¶åœ¨è‡ªå·±çš„è®¾å¤‡ä¸Šè¿›è¡Œè¯•éªŒï¼Œæˆ–è€…é€šè¿‡ Compiler Explorer ç›´æ¥åœ¨æµè§ˆå™¨ä¸­ä½“éªŒ Carbon ç¼–ç¨‹è¯­è¨€ã€‚
å¯¹äº Carbon é¡¹ç›®ï¼Œæœ‰å¼€å‘è€…é€éœ²äº†ä¸€äº›èƒŒæ™¯ä¿¡æ¯ï¼š2020 å¹´ 2 æœˆï¼ŒC++ æ ‡å‡†å§”å‘˜ä¼šå°± â€œç ´å ABI å…¼å®¹æ€§ä»¥ä¿è¯æ€§èƒ½â€ ææ¡ˆè¿›è¡Œäº†æŠ•ç¥¨ï¼Œè¿™é¡¹å·¥ä½œä¸»è¦ç”±è°·æ­Œå‘˜å·¥æ¨åŠ¨ï¼Œä½†æœ€ç»ˆæŠ•ç¥¨æ²¡æœ‰é€šè¿‡ã€‚å› æ­¤ï¼Œè®¸å¤šè°·æ­Œå‘˜å·¥å·²ç»åœæ­¢å‚ä¸ C++ çš„æ ‡å‡†åŒ–å·¥ä½œï¼Œå¹¶è¾å»ä»–ä»¬åœ¨å§”å‘˜ä¼šä¸­çš„æ­£å¼èŒåŠ¡ï¼Œclang çš„å¼€å‘å·¥ä½œä¹Ÿå¤§å¤§æ”¾ç¼“ã€‚åŸºäºè¿™äº›èƒŒæ™¯ï¼Œå†ç»“åˆè°·æ­Œå¯¹ Carbon è®¾å®šçš„ç›®æ ‡ï¼Œè¿™åå¼€å‘è€…è®¤ä¸ºï¼Œè°·æ­Œç¡®å®å¸Œæœ›æŠŠ Carbon æ‰“é€ æˆæ›¿ä»£ C++ çš„è¯­è¨€ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>RS422/485æ¥å£ç”µè·¯è®¾è®¡è¦ç‚¹</title>
    <url>/post/hardware/design-points-of-rs422-485-circuit.html</url>
    <categories><category>Hardware</category>
    </categories>
    <tags>
      <tag>UART</tag>
      <tag>RS422</tag>
      <tag>RS485</tag>
    </tags>
    <content type="html"><![CDATA[RS-422æ ‡å‡†å…¨ç§°æ˜¯â€œå¹³è¡¡ç”µå‹æ•°å­—æ¥å£ç”µè·¯çš„ç”µæ°”ç‰¹æ€§â€ï¼Œå®ƒå®šä¹‰äº†æ¥å£ç”µè·¯çš„ç‰¹æ€§ã€‚
å®é™…ä¸Šè¿˜æœ‰ä¸€æ ¹ä¿¡å·åœ°çº¿ï¼Œå…±5æ ¹çº¿ã€‚ç”±äºæ¥æ”¶å™¨é‡‡ç”¨é«˜è¾“å…¥é˜»æŠ—å’Œå‘é€é©±åŠ¨å™¨æ¯”RS232æ›´å¼ºçš„é©±åŠ¨èƒ½åŠ›ï¼Œæ•…å…è®¸åœ¨ç›¸åŒä¼ è¾“çº¿ä¸Šè¿æ¥å¤šä¸ªæ¥æ”¶èŠ‚ç‚¹ï¼Œæœ€å¤šå¯æ¥10ä¸ªèŠ‚ç‚¹ã€‚ä¸€ä¸ªä¸»è®¾å¤‡ï¼ˆMasterï¼‰ï¼Œå…¶ä½™ä¸ºä»è®¾å¤‡ï¼ˆSlaveï¼‰ï¼Œä»è®¾å¤‡ä¹‹é—´ä¸èƒ½é€šä¿¡ï¼Œæ‰€ä»¥RS-422æ”¯æŒç‚¹å¯¹å¤šçš„åŒå‘é€šä¿¡ã€‚æ¥æ”¶å™¨è¾“å…¥é˜»æŠ—ä¸º4kï¼Œæ•…å‘ç«¯æœ€å¤§è´Ÿè½½èƒ½åŠ›æ˜¯10&amp;TImes;4k+100Î©ï¼ˆç»ˆæ¥ç”µé˜»ï¼‰ã€‚
 RS-422å’ŒRS-485ç”µè·¯  åŸç†åŸºæœ¬ç›¸åŒï¼Œéƒ½æ˜¯ä»¥å·®åŠ¨æ–¹å¼å‘é€å’Œæ¥æ”¶ï¼Œä¸éœ€è¦æ•°å­—åœ°çº¿ã€‚å·®åŠ¨å·¥ä½œæ˜¯åŒé€Ÿç‡æ¡ä»¶ä¸‹ä¼ è¾“è·ç¦»è¿œçš„æ ¹æœ¬åŸå› ï¼Œè¿™æ­£æ˜¯äºŒè€…ä¸RS232çš„æ ¹æœ¬åŒºåˆ«ï¼Œå› ä¸ºRS232æ˜¯å•ç«¯è¾“å…¥è¾“å‡ºï¼ŒåŒå·¥å·¥ä½œæ—¶è‡³å°‘éœ€è¦æ•°å­—åœ°çº¿ã€‚å‘é€çº¿å’Œæ¥æ”¶çº¿ä¸‰æ¡çº¿ï¼ˆå¼‚æ­¥ä¼ è¾“ï¼‰ï¼Œè¿˜å¯ä»¥åŠ å…¶å®ƒæ§åˆ¶çº¿å®ŒæˆåŒæ­¥ç­‰åŠŸèƒ½ã€‚
RS-422é€šè¿‡ä¸¤å¯¹åŒç»çº¿å¯ä»¥å…¨åŒå·¥å·¥ä½œæ”¶å‘äº’ä¸å½±å“ï¼Œè€ŒRS485åªèƒ½åŠåŒå·¥å·¥ä½œï¼Œå‘æ”¶ä¸èƒ½åŒæ—¶è¿›è¡Œï¼Œä½†å®ƒåªéœ€è¦ä¸€å¯¹åŒç»çº¿ã€‚RS422å’ŒRS485åœ¨19kpbsä¸‹èƒ½ä¼ è¾“1200ç±³ã€‚ç”¨æ–°å‹æ”¶å‘å™¨çº¿è·¯ä¸Šå¯è¿æ¥å°è®¾å¤‡ã€‚
å…¸å‹çš„RS422æ¥å£ç”µè·¯ å›¾ 1 å…¸å‹çš„RS422æ¥å£ç”µè·¯
å…¸å‹çš„RS485æ¥å£ç”µè·¯ å›¾ 2 å…¸å‹çš„RS485æ¥å£ç”µè·¯
å›¾ 3 å…¨åŒå·¥RS485æ¥å£ç”µè·¯æ‹“æ‰‘
è®¾è®¡è¦ç‚¹   æ¥å£ä¿æŠ¤ç”¨é€”çš„TVSç®¡D1-8ï¼Œé€šå¸¸é€‰æ‹©æœ€å¤§åå‘å·¥ä½œç”µå‹VRWMä¸º5.0Vçš„åŒå‘TVSç®¡ï¼Œå¦‚Diodes SMBJ5.0CAã€‚æ³¨ï¼šè¿™é‡Œå¯ä»¥é€‰æ‹©è€å‹æ›´é«˜çš„TVSå…ƒä»¶ã€‚
  DIå’ŒROå¼•è„šéƒ½ä½¿ç”¨10kç”µé˜»ä¸Šæ‹‰ï¼Œæ˜¯ä¸ºé˜²æ­¢è¯¯è§¦å‘ï¼Œäº§ç”Ÿè¯¯åŠ¨ä½œï¼Œå› ä¸ºâ€œUARTä»¥ä¸€ä¸ªå‰å¯¼â€œ0â€è§¦å‘ä¸€æ¬¡æ¥æ”¶åŠ¨ä½œâ€ã€‚
  å›¾ 1æ‰€ç¤ºï¼Œå·®åˆ†æ¥æ”¶å™¨çš„ç«¯æ¥ç”µé˜»ä¸€èˆ¬å–å€¼120 â„¦ï¼Œæ¥æºäºé€šå¸¸RS422/485ä¼ è¾“çº¿æ‰€ç”¨çš„ç‰¹å¾é˜»æŠ—çº¦ä¸º120 â„¦ã€‚å›¾ 3æ‰€ç¤ºçš„RS485å¤šç‚¹åº”ç”¨ä¸­ï¼Œè‹¥åœ¨SCH&amp;PCBè®¾è®¡æ—¶ä¸æ¸…æ¥šåæœŸç°åœºå¸ƒçº¿ä¸­å“ªä¸¤ä¸ªè®¾å¤‡è·ç¦»æœ€è¿œï¼Œå¯åœ¨æ‰€æœ‰å·®åˆ†æ¥æ”¶ç«¯éƒ½é¢„ç•™120 â„¦ç«¯æ¥ç”µé˜»ï¼Œä»¥ä¾¿åæœŸç°åœºåº”ç”¨æ—¶é€šè¿‡æ‹¨ç å¼€å…³é€‰æ‹©æ€§æ¥å…¥ã€‚
  ç”±äºRS422/485å·®åˆ†æ¥æ”¶å™¨çš„ç‰¹æ€§æ˜¯ï¼ŒVIA - VIBçš„ç»å¯¹å€¼å¿…é¡»å¤§äº200 mVï¼Œå¦åˆ™æ— æ³•æ­£ç¡®è¯†åˆ«é«˜ä½ç”µå¹³ã€‚æ‰€ä»¥ï¼Œå›¾ 1æ‰€ç¤ºï¼Œå½“ä½¿ç”¨3.3Vç”µæºæ—¶ï¼Œæ•…éšœå®‰å…¨åç½®ç”µé˜»R5å’ŒR6æœ€å¤§å–å€¼ä¸º930 â„¦ï¼›å½“ä½¿ç”¨5.0Vç”µæºæ—¶ï¼ŒR5å’ŒR6æœ€å¤§å–å€¼ä¸º1440 â„¦ã€‚
  è¯´æ˜ï¼šæ•…éšœå®‰å…¨åç½®ç”µé˜»ï¼Œæ˜¯ä¸ºäº†è§£å†³â€œæ€»çº¿ç©ºé—²ã€å¼€è·¯æˆ–çŸ­è·¯â€æƒ…å†µä¸‹ï¼Œæ¥æ”¶ç«¯çŠ¶æ€ä¸ç¡®å®šçš„é—®é¢˜ã€‚ç”±äºRS422åªæ”¯æŒç‚¹å¯¹ç‚¹åº”ç”¨ï¼Œä¸”æ•…éšœå®‰å…¨åç½®ç”µé˜»åªéœ€è¦åœ¨æ¥æ”¶ç«¯ä½¿ç”¨ï¼Œæ‰€ä»¥å›¾ 1å’Œå›¾ 2ç”µè·¯ï¼ŒR3-4ä¸æ˜¯å¿…è¦çš„ï¼ŒR5-6å’ŒR12-15æ˜¯å¿…è¦çš„ã€‚æ³¨ï¼šå¦‚æœR12/R13åœ¨å‘é€ç«¯å·²ç»æœ‰ï¼Œé‚£ä¹ˆåœ¨æ¥æ”¶ç«¯å°±ä¸æ˜¯å¿…è¦çš„ã€‚
 å›¾ 1æ‰€ç¤ºï¼Œåœ¨RS422ç‚¹å¯¹ç‚¹åº”ç”¨ä¸­ï¼Œä¸¤ç«¯çš„å·®åˆ†æ¥æ”¶å™¨éƒ½éœ€è¦120 â„¦å¹¶è”ç«¯æ¥ç”µé˜»ã€‚å›¾ 3æ‰€ç¤ºï¼Œåœ¨RS485å¤šç‚¹åº”ç”¨ä¸­ï¼Œåªéœ€åœ¨æœ€è¿œçš„ä¸¤ç‚¹æ¥æ”¶ç«¯ä½¿ç”¨120 â„¦å¹¶è”ç«¯æ¥ç”µé˜»ï¼Œä¸­é—´å„æ”¯è·¯ä¸éœ€è¦ã€‚
  å›¾ 2å’Œå›¾ 3æ‰€ç¤ºï¼Œå„æ”¯è·¯çš„A&amp;Bå¼•è„šå’ŒZ&amp;Yå¼•è„šéƒ½ä¸²è”0Rç”µé˜»ï¼Œå½“æŸè·¯æ•…éšœæ—¶å°†RS485æ€»çº¿æ‹‰ä½æ—¶ï¼Œé€ä¸€æ–­å¼€ç”µé˜»ï¼Œæ–¹ä¾¿æ’æŸ¥æ•…éšœã€‚
  SCH&amp;PCBè®¾è®¡æ—¶ï¼Œä¸¤ä¸ªè®¾å¤‡é—´çš„RS422/485é€šä¿¡çº¿ï¼Œé™¤äº†ä¸¤å¯¹å·®åˆ†çº¿å¤–ï¼Œè‡³å°‘éœ€è¦ä¸€æ ¹åœ°çº¿ï¼Œé˜²æ­¢å…±æ¨¡ç”µå‹è¶…å‡ºè§„å®šçš„èŒƒå›´è€Œå¯¼è‡´é€šä¿¡æ•…éšœã€‚
  æœ‰é€‰æ‹©çš„æƒ…å†µä¸‹ï¼ŒRS422/485é€šä¿¡ç”µç¼†ä¸­ï¼Œä¿¡å·çº¿ä¸åº”ä¸ç”µæºçº¿å¹¶è¡Œæˆ–å°½é‡è¿œç¦»ç”µæºçº¿ï¼Œè‹¥æ— æ³•é¿å…ï¼Œä¿¡å·çº¿æœ€å¥½ä½¿ç”¨å¸¦å±è”½çš„åŒç»çº¿ã€‚ä¸”ç°åœºå¸ƒçº¿ï¼Œé‡‡ç”¨èŠèŠ±é“¾æ‹“æ‰‘ï¼Œä¸é‡‡ç”¨æ˜Ÿå½¢æˆ–ç¯å½¢æ‹“æ‰‘ï¼Œä»¥å…å› åå°„ç­‰å› ç´ å¯¼è‡´é€šä¿¡é”™è¯¯ã€‚
  åŸæ–‡åœ°å€ï¼š RS422/485æ¥å£ç”µè·¯è®¾è®¡è¦ç‚¹  
]]></content>
  </entry>
  
  <entry>
    <title>5æ¬¾è¶…å¼ºå¤§çš„FPGAå¼€å‘æ¿</title>
    <url>/post/fpga/5-ultra-powerful-fpga-development-boards.html</url>
    <categories><category>FPGA</category>
    </categories>
    <tags>
      <tag>FPGA</tag>
      <tag>Xilinx</tag>
      <tag>Microsemi</tag>
      <tag>Stratix 10</tag>
    </tags>
    <content type="html"><![CDATA[éšç€äººå·¥æ™ºèƒ½ã€æ·±åº¦å­¦ä¹ åœ¨å¸‚åœºè¶Šæ¥è¶Šå—æ¬¢è¿ï¼Œé™¤äº†GPUã€ä¼—å¤šç‹¬è§’å…½å…¬å¸çš„AIä¸“ç”¨èŠ¯ç‰‡ï¼ŒFPGAåŒæ ·æ˜¯æ·±åº¦å­¦ä¹ çš„çƒ­é—¨å¹³å°ä¹‹ä¸€ã€‚æœ¬æ–‡å°†ç»™å¤§å®¶ä»‹ç»5æ¬¾å¼ºå¤§åˆ°ä¸å¯æ€è®®çš„FPGAå¼€å‘æ¿ï¼Œå½“ç„¶ä»·æ ¼ä¹Ÿæ˜¯é«˜çš„ç¦»è°±ï¼Œè‚¯èƒ½å¯¹äºå¤§å¤šæ•°å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œè¿™äº›å±äºæ±‚è€Œä¸å¾—çš„é«˜ç«¯â€œç©å…·â€ã€‚
RTG4å¼€å‘å¥—ä»¶ RTG4-DEV-KITæ˜¯Microsemiå…¬å¸çš„äº§å“ï¼Œå½“ç„¶ç›®å‰çš„è¯å·²ç»è¢«Microchipæ”¶è´­ï¼Œè¿™æ˜¯ä¸€å¥—ä¸ºé«˜ç«¯çš„å®¢æˆ·æä¾›çš„è¯„ä¼°å’Œå¼€å‘å¹³å°ï¼Œä¸»è¦ç”¨äºæ•°æ®ä¼ è¾“ï¼Œä¸²è¡Œè¿æ¥ï¼Œæ€»çº¿æ¥å£ç­‰é«˜å¯†åº¦é«˜æ€§èƒ½FPGAçš„é«˜é€Ÿè®¾è®¡ç­‰åº”ç”¨ ã€‚
è¯¥å¼€å‘æ¿é‡‡ç”¨RT4G150å™¨ä»¶ï¼Œé‡‡ç”¨é™¶ç“·å°è£…ï¼Œæä¾›150,000ä¸ªé€»è¾‘å…ƒä»¶ï¼Œå…·æœ‰1,657ä¸ªå¼•è„šï¼Œä¸‹å›¾æ˜¯RTG4-DEV-KITå¼€å‘æ¿çš„å¤–è®¾æ¥å£åŠŸèƒ½å›¾ã€‚
RTG4å¼€å‘å¥—ä»¶ä¸»è¦åŒ…æ‹¬çš„ç¡¬ä»¶åŠŸèƒ½å¦‚ä¸‹ï¼š
 ä¸¤ä¸ª1GB DDR3åŒæ­¥åŠ¨æ€éšæœºå­˜å–å­˜å‚¨å™¨(SDRAM) 2GB SPI Flash PCI Express Gen1 æ¥å£1ä¸ª PCIe x4 æ¥å£ ä¸€å¯¹SMAè¿æ¥å™¨ï¼Œç”¨äºæµ‹è¯•å…¨åŒå·¥SERDESé€šé“ ä¸¤ä¸ªå¸¦æœ‰HPC/LPCå¼•è„šæ’åˆ—çš„FMCè¿æ¥å™¨ï¼Œç”¨äºæ‰©å±• ç”¨äº10/100/1000ä»¥å¤ªç½‘çš„RJ45æ¥å£ USB micro-ABè¿æ¥å™¨ SPIï¼ŒGPIOçš„æ¥å£ FTDIç¼–ç¨‹å™¨æ¥å£ç”¨äºç¼–ç¨‹å¤–éƒ¨SPI Flash JTAGç¼–ç¨‹æ¥å£ ç”¨äºåº”ç”¨ç¨‹åºç¼–ç¨‹å’Œè°ƒè¯•çš„RVIæ¥å£ Flashproç¼–ç¨‹æ¥å£ ç”¨äºè°ƒè¯•çš„åµŒå…¥å¼è·Ÿè¸ªå®(ETM)å•å…ƒæ¥å£ ç”¨äºç”¨æˆ·åº”ç”¨çš„åŒåˆ—ç›´æ’å¼å°è£…(DIP)å¼€å…³ æŒ‰é’®å¼€å…³å’ŒLED ç”µæµæµ‹é‡æµ‹è¯•ç‚¹  RTG4-DEV-KITå¼€å‘æ¿çš„ç¡¬ä»¶æ¡†å›¾
ä»ç¡¬ä»¶æ¡†å›¾ä¸Šä¹Ÿèƒ½çœ‹åˆ°RTG4-DEV-KITå¤æ‚çš„ç”µæºç®¡ç†ç³»ç»Ÿï¼Œ12Vçš„DCç›´æµä¾›ç”µï¼Œé€šè¿‡DCDC/ä»¥åŠLDOåˆ†é…åˆ°å„ä¸ªåŠŸèƒ½éƒ¨åˆ†çš„ä¾›ç”µã€‚
è‹±ç‰¹å°”Stratix 10å¼€å‘å¥—ä»¶ Intel Stratix 10å¼€å‘å¥—ä»¶æ˜¯åŒ…å«å„ç±»è½¯ç¡¬ä»¶çš„å®Œæ•´è®¾è®¡ç¯å¢ƒï¼Œç”¨äºè¯„ä¼°Stratix 10 FPGAçš„åŠŸèƒ½ã€‚è¯¥å¥—ä»¶å¯ç”¨äºé€šè¿‡ç¬¦åˆPCI-SIGçš„å¼€å‘æ¿æ¥å¼€å‘å’Œæµ‹è¯•PCI Express 3.0è®¾è®¡ã€‚ä½¿ç”¨è¿™äº›å¼€å‘æ¿å¯å¼€å‘å’Œæµ‹è¯•ç”±DDR4ã€DDR3ã€QDR IVå’ŒRLDRAM IIIå­˜å‚¨å™¨ç»„æˆçš„å­˜å‚¨å™¨å­ç³»ç»Ÿã€‚é€šè¿‡ä½¿ç”¨FPGAå¤¹å±‚å¡ (FMC) è¿æ¥å™¨ä¸FMCå¤¹å±‚å¡è¿æ¥ï¼Œè¿˜å¯ä»¥å¼€å‘æ¨¡å—åŒ–å’Œå¯æ‰©å±•è®¾è®¡ã€‚è¯¥å¥—ä»¶æ”¯æŒJESD204Bã€Serial RapidIOã€10Gbpsä»¥å¤ªç½‘ (10GbE)ã€SONETã€é€šç”¨å…¬å…±æ— çº¿ç”µæ¥å£ (CPRI)ã€OBSAIç­‰è¯¸å¤šåè®®ã€‚
è‹±ç‰¹å°”Stratix 10å¼€å‘å¥—ä»¶ç¡¬ä»¶æ¡†å›¾
å¼€å‘æ¿æ¿è½½çš„ä¸»è¦FPGAæ˜¯Intelå…¬å¸çš„Stratix 10ç³»åˆ—äº§å“ï¼Œç›¸æ¯”å‰ä¸€ä»£äº§å“æˆæœ¬æä¾›2Xæ€§èƒ½å’Œè¶…ä½åŠŸè€—ï¼Œå…·æœ‰å‡ ä¸ªå¼€åˆ›æ€§çš„åˆ›æ–°å¦‚æ–°å‹çš„HyperFlexâ„¢å’Œæ¶æ„ï¼Œèƒ½æ»¡è¶³æ—¥ç›Šå¢é•¿çš„å¸¦å®½å’Œå¤„ç†æ€§èƒ½ï¼Œä»è€Œæ»¡è¶³åŠŸç‡é¢„ç®—ã€‚åµŒå…¥ç¡¬ä»¶ç³»ç»ŸåŸºäºå››æ ¸64ä½ARM Cortex-A53ï¼Œé‡‡ç”¨Intel 14-nm Tri-Gate (FinFET)æŠ€æœ¯å’Œæ··åˆæ€§3Dç‰‡ä¸Šç³»ç»Ÿ(SiP)æŠ€æœ¯ï¼Œå•ç‰‡æ ¸å¤šè¾¾550ä¸‡å’Œé€»è¾‘å•å…ƒï¼Œå¤šè¾¾96ä¸ªå…¨åŒå·¥æ”¶å‘å™¨ï¼Œæ•°æ®é€Ÿç‡é«˜è¾¾28.3Gbpsï¼Œä¸»è¦ç”¨åœ¨è®¡ç®—å’Œå­˜å‚¨ï¼Œç½‘ç»œè®¾å¤‡ï¼Œå…‰ä¼ è¾“ç½‘ç»œï¼Œå¹¿æ’­ï¼Œå†›ç”¨é›·è¾¾ï¼ŒåŒ»ç–—è®¾å¤‡ï¼Œæµ‹è¯•å’Œæµ‹é‡ä»¥åŠ5Gæ— çº¿è®¾å¤‡ï¼ŒASICåŸå‹ã€‚
ADS8-V1 è¯„ä¼°æ¿ ç¡®åˆ‡çš„è¯´ï¼ŒADS8-V1 è¯„ä¼°æ¿å¹¶ä¸æ˜¯ä¸€å—ä¸“ä¸ºFPGAè¯„ä¼°çš„æ¿å¡ï¼Œè€Œæ˜¯ä¸ºäº†æ”¯æŒADIå…¬å¸é«˜é€Ÿæ•°æ®è½¬æ¢ï¼Œå½“è¿æ¥åˆ°æŒ‡å®šçš„ ADI é«˜é€Ÿ ADC è¯„ä¼°æ¿æ—¶ï¼ŒADS8-V1 å¯ç”¨ä½œæ•°æ®é‡‡é›†æ¿ã€‚ADS8-V1 ä¸Šçš„ FPGA è®¾è®¡ç”¨äºæ”¯æŒæœ€é«˜é€Ÿ JESD204B æ¨¡æ•°è½¬æ¢å™¨ï¼Œå¯å……å½“æ•°æ®æ¥æ”¶å™¨ï¼ŒåŒæ—¶ ADC ä¸ºæ•°æ®å‘å°„å™¨ã€‚
ADS8-V1EBZæ¥å£å¤–è®¾å¦‚ä¸‹ï¼š
 Xilinx Kintex Ultrascale XCKU040-3FFVA1156E FPGA ä¸€(1)ä¸ªFMC +è¿æ¥å™¨ ä¸€(1)ä¸ªFMC +è¿æ¥å™¨æ”¯æŒäºŒå(20)ä¸ª16Gbpsæ”¶å‘å™¨ DDR4 SDRAM ç®€å•çš„USB 3.0ç«¯å£æ¥å£  ADIå¼ºå¤§çš„æ•°æ®é‡‡é›†è¯„ä¼°æ¿å¯ä»¥åº”ç”¨äºèˆªç©ºèˆªå¤©å’Œé˜²åŠ¡ã€ç”µå­ç›‘æ§å’Œå¯¹æŠ—ã€ä»ªå™¨ä»ªè¡¨å’Œæµ‹é‡ã€é€šä¿¡æµ‹è¯•è®¾å¤‡ã€ä¿¡å·å‘ç”Ÿå™¨(é€šè¿‡å°„é¢‘ä¼ è¾“éŸ³é¢‘)ã€5Gé¢†åŸŸç­‰ã€‚
REFLEX CES XpressVUP-LP9P REFLEX CES XpressVUP-LP9Pæ˜¯åŸºäºVirtex Ultrascale + VU9P FPGAçš„ä½é…ç½®PCIeç½‘ç»œå¤„ç†FPGAæ¿ï¼Œä¸“ä¸ºHPCç­‰ç½‘ç»œåº”ç”¨è€Œè®¾è®¡ã€‚è¯¥æ¿æä¾›2ç»„DDR4ï¼Œ2ç»„QDR2 +å­˜å‚¨å™¨å’Œ2ä¸ªQSFP28ç½‘ç®±ï¼Œç”¨äºå¤šä¸ª10GbE / 40GbE / 100GbEç½‘ç»œè§£å†³æ–¹æ¡ˆã€‚å…¶ä¸»è¦çš„åŠŸèƒ½åŒ…æ‹¬äº†ï¼šPCIe Gen3 x16ã€Xilinx Virtex UltraScale + VU9P FPGAã€æ¿è½½ä¸¤ä¸ªDDR4å’Œä¸¤ä¸ªQDR2 +ç‹¬ç«‹ç»„ã€ä¸¤ä¸ªQSFP28å…‰çº¤ç¬¼ç”¨äºå¤šç½‘ç»œè§£å†³æ–¹æ¡ˆã€å…·æœ‰16ä¸ªé€šé“ï¼Œ8 Gb/sé“¾è·¯é€Ÿç‡çš„PCIeæ¥å£(Gen3)ç­‰ã€‚
XpressVUP-LP9PæŠ€æœ¯è§„æ ¼ FPGAå’Œé…ç½®æ¨¡å—  Xilinx Virtex UltraScale + 16nm FPGAï¼šXCVU9P-L2FLGB2104E(ç”Ÿäº§) XCVU9P-L2FLGB2104E(ç”Ÿäº§) 2,6 Mç³»ç»Ÿé€»è¾‘å•å…ƒ 270 Mb UltraRAM(UltraScale +æä¾›é«˜å¯†åº¦ï¼ŒåŒç«¯å£ï¼ŒåŒæ­¥å­˜å‚¨å™¨æ¨¡å—) ç”¨äºå¤–éƒ¨Xilinx USBç”µç¼†çš„JTAGè¿æ¥å™¨ åŒå››SPI(x8)é…ç½®æ¨¡å¼çš„2x Nor Flash  é€šè®¯æ¥å£  PCI Express x16(ç¬¬1,2æˆ–3ä»£) 2 x QSFP28å››å…‰çº¤ç¬¼(2 x 4 XCVRï¼šæ¯æ¡é“¾è·¯28 Gb/ s)ï¼Œæ”¯æŒ10GbE / 40GbE / 100GbE QSFP28æ¨¡å—æ”¯æŒçš„å…¶ä»–åè®®  å­˜å‚¨  æ¿è½½DDR4,2xç»„64ä½+ 4ä½ECCï¼Œæ€»å…±8GB æ¿è½½QDR-II +ï¼Œ2xå­˜å‚¨åŒºï¼Œ18ä½ï¼Œæ€»å…±144Mbits  åŠŸç‡  æœ€å¤§100W æä¾›å®šåˆ¶æ•£çƒ­å™¨  å…¶ä»–èµ„æº  æ¿è½½å¯ç¼–ç¨‹PLLæŒ¯è¡å™¨(Si5345)ï¼Œé«˜åº¦çµæ´»å’Œå¯é…ç½®çš„æ—¶é’Ÿå‘ç”Ÿå™¨ã€‚ æ¿è½½é«˜ç²¾åº¦æŒ¯è¡å™¨ä¸ºç²¾ç¡®æ—¶é—´åè®®(PTP)ä»¥å¤ªç½‘æä¾›æ—¶é’Ÿç²¾ç¡®20MHz-0.05ppmï¼ŒåŒæ­¥åè®®æ ‡å‡†åŒ–IEEE 1588 ä¸€ä¸ªç”¨äºPPS(æ¯ç§’è„‰å†²)çš„åŒè½´è¿æ¥å™¨ï¼Œå…è®¸å¤šä¸ªç”µå­éƒ¨ä»¶åŒæ­¥  REFLEX CES XpressVUP-LP9Pç¡¬ä»¶æ¡†å›¾
å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒXpressVUPåœ¨POWER9 CPUä¸»æœºå¤„ç†å™¨(IBM)ä¸Šæ”¯æŒCAPI 2.0ï¼Œå¹¶ä¸”è¿˜æ”¯æŒIBM SNAPæ¡†æ¶ï¼Œåªéœ€å¾ˆå°‘çš„FPGAä¸“ä¸šçŸ¥è¯†ï¼ŒSNAPæ¡†æ¶å…è®¸åº”ç”¨å·¥ç¨‹å¸ˆåœ¨æœåŠ¡å™¨ç¯å¢ƒä¸­å¿«é€Ÿåˆ›å»ºåŸºäºFPGAçš„åŠ é€Ÿç¨‹åºã€‚å®ƒä½¿ç”¨IBM CAPI 2.0æ¥å£ï¼Œè¯¥æ¥å£å¯åœ¨æ ‡å‡†PCIeç‰©ç†é€šé“ä¸Šè¿è¡Œï¼Œä½†å…·æœ‰CPUå’ŒFPGAä¹‹é—´è¾ƒä½å»¶è¿Ÿå’Œä¸€è‡´å†…å­˜å…±äº«çš„ä¼˜åŠ¿ã€‚
Digilent NetFPGA-SUME NetFPGA-SUMEæ˜¯Digilentï¼Œå‰‘æ¡¥å¤§å­¦å’Œæ–¯å¦ç¦å¤§å­¦ä¹‹é—´çš„åˆä½œé¡¹ç›®ï¼Œæ˜¯é«˜æ€§èƒ½å’Œé«˜å¯†åº¦ç½‘ç»œè®¾è®¡çš„ç†æƒ³å¹³å°ã€‚
NetFPGA-SUMEé‡‡ç”¨èµ›çµæ€Virtex-7 690T FPGAï¼Œæ”¯æŒ30ä¸ª13.1 GHz GTHæ”¶å‘å™¨ï¼Œå››ä¸ªSFP + 10Gb/sç«¯å£ï¼Œäº”ä¸ªç‹¬ç«‹çš„é«˜é€Ÿå­˜å‚¨å™¨ç»„ï¼Œç”±500MHz QDRII +å’Œ1866MT / s DDR3 SoDIMMå™¨ä»¶æ„å»ºï¼Œä»¥åŠä¸€ä¸ªå…«é€šé“ç¬¬ä¸‰ä»£PCIeï¼Œå¯æä¾›è¶…å¤§çš„ååé‡ï¼Œå¹¶å¯æ”¯æŒå¤§é‡é«˜é€Ÿæ•°æ®æµFPGAæ¶æ„å’Œå­˜å‚¨å™¨ä»¶ï¼Œå…¶å®ƒåŠŸèƒ½åŒ…æ‹¬åœ¨FMCå’ŒQTHæ‰©å±•è¿æ¥å™¨ä»¥åŠSATAç«¯å£ä¸Šå…±å±•ç¤º20ä¸ªæ”¶å‘å™¨ã€‚
NetFPGA-SUMEçš„ä¸»è¦ä»»åŠ¡æ˜¯ä¸ºå­¦ç”Ÿï¼Œç ”ç©¶äººå‘˜å’Œå¼€å‘äººå‘˜æä¾›æœ€å…ˆè¿›çš„ç½‘ç»œå¹³å°ï¼Œæ— è®ºæ˜¯å­¦ä¹ åŸºç¡€çŸ¥è¯†è¿˜æ˜¯åˆ›å»ºæ–°çš„ç¡¬ä»¶å’Œè½¯ä»¶åº”ç”¨ç¨‹åºï¼Œè¯¥æ¿å¯è½»æ¾æ”¯æŒå››ä¸ª10Gb/sä»¥å¤ªç½‘ç«¯å£ä¸Šçš„åŒæ—¶çº¿é€Ÿå¤„ç†ï¼Œå¹¶å¯åœ¨æ¿ä¸Šæ“ä½œå’Œå¤„ç†æ•°æ®ã€‚
Digilent NetFPGA-SUMEç‰¹å¾ï¼š  Xilinx Virtex-7 XC7V690T FFG1761-3 Xilinx CPLD XC2C512ç”¨äºFPGAé…ç½® PCIe Gen3 x8(8Gbps /é€šé“) ä¸¤ä¸ª512Mbits Micron StrataFlash(PC28F512G18A) ç¼–ç¨‹ï¼šèµ›çµæ€Vivado è®¾è®¡å¥—ä»¶ ä¸‰ä¸ªx36 72Mbits QDR II SRAM(CY7C25652KV18-500BZC) ä¸¤ä¸ª4GB DDR3 SODIMM(MT8KTF51264Hz-1G9E1) ç”¨äºJTAGç¼–ç¨‹å’Œè°ƒè¯•çš„Micro USBè¿æ¥å™¨(ä¸UARTæ¥å£å…±äº«) ä¸€æ ¹Micro USBçº¿ç”¨äºç¼–ç¨‹/ UART QTHè¿æ¥å™¨(8ä¸ªRocketIO GTHæ”¶å‘å™¨) å››ä¸ªSFP +æ¥å£(4ä¸ªRocketIO GTHæ”¶å‘å™¨)ï¼Œæ”¯æŒ10Gbps ä¸¤ä¸ªSATA-IIIç«¯å£ ç”¨æˆ·LEDå’ŒæŒ‰é’® ä¸€ä¸ªHPC FMCè¿æ¥å™¨(10ä¸ªRocketIO GTHæ”¶å‘å™¨) ä¸€ä¸ªPmodç«¯å£  æ€»ç»“ FPGAçš„å¼ºå¤§è¿˜æ˜¯åœ¨äºå…¶è¶…çµæ´»çš„å¯ç¼–ç¨‹èƒ½åŠ›ï¼Œéšç€äººå·¥æ™ºèƒ½è¶Šæ¥è¶Šå—å¸‚åœºçš„å–œçˆ±ï¼Œæ— è®ºæ˜¯GPUè¿˜æ˜¯ä¸“ç”¨çš„AIèŠ¯ç‰‡éƒ½ä¸å¯èƒ½åƒFPGAè¿™æ ·ä¾¿äºæ–°è¿›å…¥è¿™ä¸ªé¢†åŸŸçš„ä¼ä¸šæŠ˜è…¾ã€åˆ›æ–°ï¼Œå¸¦ç€è¿™ç§ä¸ç”Ÿä¿±æ¥çš„ä¼˜åŠ¿ï¼Œç›¸ä¿¡FPGAçš„æ˜¥å¤©è¿˜å¾ˆæ¼«é•¿ã€‚
åŸæ–‡è¿æ¥: 5æ¬¾è¶…å¼ºå¤§çš„FPGAå¼€å‘æ¿  
]]></content>
  </entry>
  
  <entry>
    <title>10é“ç»å…¸çš„åµŒå…¥å¼Cè¯­è¨€é¢˜ç›®</title>
    <url>/post/programming/ten-classical-embedded-c-language-examination-questions.html</url>
    <categories><category>Programming</category>
    </categories>
    <tags>
      <tag>C</tag>
      <tag>Embedded</tag>
      <tag>Struct</tag>
    </tags>
    <content type="html"><![CDATA[10ä¸ªCè¯­è¨€é¢è¯•é¢˜ï¼Œæ¶‰åŠæŒ‡é’ˆã€è¿›ç¨‹ã€è¿ç®—ã€ç»“æ„ä½“ã€å‡½æ•°ã€å†…å­˜ï¼Œçœ‹çœ‹ä½ èƒ½åšå‡ºå‡ ä¸ª
gets()å‡½æ•° é—®ï¼šè¯·æ‰¾å‡ºä¸‹é¢ä»£ç é‡Œçš„é—®é¢˜ï¼š
#include&lt;stdio.h&gt; int main(void) { char buff[10]; memset(buff,0,sizeof(buff)); gets(buff); printf(&#34;\nThe buffer entered is [%s]\n&#34;,buff); return 0; } ç­”ï¼šä¸Šé¢ä»£ç é‡Œçš„é—®é¢˜åœ¨äºå‡½æ•°gets()çš„ä½¿ç”¨ï¼Œè¿™ä¸ªå‡½æ•°ä»stdinæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ£€æŸ¥å®ƒæ‰€å¤åˆ¶çš„ç¼“å­˜çš„å®¹ç§¯ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ç¼“å­˜æº¢å‡ºã€‚è¿™é‡Œæ¨èä½¿ç”¨æ ‡å‡†å‡½æ•°fgets()ä»£æ›¿ã€‚
strcpy()å‡½æ•° é—®ï¼šä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„å¯†ç ä¿æŠ¤åŠŸèƒ½ï¼Œä½ èƒ½åœ¨ä¸çŸ¥é“å¯†ç çš„æƒ…å†µä¸‹å°†å…¶ç ´è§£å—ï¼Ÿ
#include&lt;stdio.h&gt;  int main(int argc, char *argv[]) { int flag = 0; char passwd[10]; memset(passwd,0,sizeof(passwd)); strcpy(passwd, argv[1]); if(0 == strcmp(&#34;LinuxGeek&#34;, passwd)) { flag = 1; } if(flag) { printf(&#34;\nPassword cracked \n&#34;); } else { printf(&#34;\nIncorrect passwd \n&#34;); } return 0; } ç­”ï¼šç ´è§£ä¸Šè¿°åŠ å¯†çš„å…³é”®åœ¨äºåˆ©ç”¨æ”»ç ´strcpy()å‡½æ•°çš„æ¼æ´ã€‚æ‰€ä»¥ç”¨æˆ·åœ¨å‘â€œpasswdâ€ç¼“å­˜è¾“å…¥éšæœºå¯†ç çš„æ—¶å€™å¹¶æ²¡æœ‰æå‰æ£€æŸ¥â€œpasswdâ€çš„å®¹é‡æ˜¯å¦è¶³å¤Ÿã€‚
æ‰€ä»¥ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥ä¸€ä¸ªè¶³å¤Ÿé€ æˆç¼“å­˜æº¢å‡ºå¹¶ä¸”é‡å†™â€œflagâ€å˜é‡é»˜è®¤å€¼æ‰€å­˜åœ¨ä½ç½®çš„å†…å­˜çš„é•¿â€œå¯†ç â€ï¼Œå³ä½¿è¿™ä¸ªå¯†ç æ— æ³•é€šè¿‡éªŒè¯ï¼ŒflagéªŒè¯ä½ä¹Ÿå˜æˆäº†éé›¶ï¼Œä¹Ÿå°±å¯ä»¥è·å¾—è¢«ä¿æŠ¤çš„æ•°æ®äº†ã€‚ä¾‹å¦‚ï¼š
$ ./psswd aaaaaaaaaaaaa Password cracked è™½ç„¶ä¸Šé¢çš„å¯†ç å¹¶ä¸æ­£ç¡®ï¼Œä½†æˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡ç¼“å­˜æº¢å‡ºç»•å¼€å¯†ç å®‰å…¨ä¿æŠ¤ã€‚
è¦é¿å…è¿™æ ·çš„é—®é¢˜ï¼Œå»ºè®®ä½¿ç”¨ strncpy()å‡½æ•°ã€‚
ä½œè€…æ³¨ï¼šæœ€è¿‘çš„ç¼–è¯‘å™¨ä¼šåœ¨å†…éƒ¨æ£€æµ‹æ ˆæº¢å‡ºçš„å¯èƒ½ï¼Œæ‰€ä»¥è¿™æ ·å¾€æ ˆé‡Œå­˜å‚¨å˜é‡å¾ˆéš¾å‡ºç°æ ˆæº¢å‡ºã€‚åœ¨æˆ‘çš„gccé‡Œé»˜è®¤å°±æ˜¯è¿™æ ·ï¼Œæ‰€ä»¥æˆ‘ä¸å¾—ä¸ä½¿ç”¨ç¼–è¯‘å‘½ä»¤â€˜-fno-stack-protectorâ€™æ¥å®ç°ä¸Šè¿°æ–¹æ¡ˆã€‚
main()çš„è¿”å›ç±»å‹ é—®ï¼šä¸‹é¢çš„ä»£ç èƒ½ ç¼–è¯‘é€šè¿‡å—ï¼Ÿå¦‚æœèƒ½ï¼Œå®ƒæœ‰ä»€ä¹ˆæ½œåœ¨çš„é—®é¢˜å—ï¼Ÿ
#include&lt;stdio.h&gt;  void main(void) { char *ptr = (char*)malloc(10); if(NULL == ptr) { printf(&#34;\nMalloc failed \n&#34;); return; } else { // Do some processing  free(ptr); } return; } ç­”ï¼šå› ä¸ºmain()æ–¹æ³•çš„è¿”å›ç±»å‹ï¼Œè¿™æ®µä»£ç çš„é”™è¯¯åœ¨å¤§å¤šæ•°ç¼–è¯‘å™¨é‡Œä¼šè¢«å½“ä½œè­¦å‘Šã€‚
main()çš„è¿”å›ç±»å‹åº”è¯¥æ˜¯â€œintâ€è€Œä¸æ˜¯â€œvoidâ€ã€‚å› ä¸ºâ€œintâ€è¿”å›ç±»å‹ä¼šè®©ç¨‹åºè¿”å›çŠ¶æ€å€¼ã€‚è¿™ç‚¹éå¸¸é‡è¦ï¼Œç‰¹åˆ«å½“ç¨‹åºæ˜¯ä½œä¸ºä¾èµ–äºç¨‹åºæˆåŠŸè¿è¡Œçš„è„šæœ¬çš„ä¸€éƒ¨åˆ†è¿è¡Œæ—¶ã€‚
å†…å­˜æ³„éœ² é—®ï¼šä¸‹é¢çš„ä»£ç ä¼šå¯¼è‡´å†…å­˜æ³„æ¼å—ï¼Ÿ
#include&lt;stdio.h&gt;  void main(void) { char *ptr = (char*)malloc(10); if(NULL == ptr) { printf(&#34;\nMalloc failed \n&#34;); return; } else { // Do some processing  } return; } ç­”ï¼šå°½ç®¡ä¸Šé¢çš„ä»£ç å¹¶æ²¡æœ‰é‡Šæ”¾åˆ†é…ç»™â€œptrâ€çš„å†…å­˜ï¼Œä½†å¹¶ä¸ä¼šåœ¨ç¨‹åºé€€å‡ºåå¯¼è‡´å†…å­˜æ³„æ¼ã€‚åœ¨ç¨‹åºç»“æŸåï¼Œæ‰€æœ‰è¿™ä¸ªç¨‹åºåˆ†é…çš„å†…å­˜éƒ½ä¼šè‡ªåŠ¨è¢«å¤„ç†æ‰ã€‚
ä½†å¦‚æœä¸Šé¢çš„ä»£ç å¤„äºä¸€ä¸ªâ€œwhileå¾ªç¯â€ä¸­ï¼Œé‚£å°†ä¼šå¯¼è‡´ä¸¥é‡çš„å†…å­˜æ³„æ¼é—®é¢˜ï¼
æç¤ºï¼šå¦‚æœä½ æƒ³çŸ¥é“æ›´å¤šå…³äºå†…å­˜æ³„æ¼çš„çŸ¥è¯†å’Œå†…å­˜æ³„æ¼æ£€æµ‹å·¥å…·ï¼Œå¯ä»¥æ¥çœ‹çœ‹æˆ‘ä»¬åœ¨Valgrindä¸Šçš„æ–‡ç« ã€‚
free()å‡½æ•° é—®ï¼šä¸‹é¢çš„ç¨‹åºä¼šåœ¨ç”¨æˆ·è¾“å…¥â€™freezeâ€™çš„æ—¶å€™å‡ºé—®é¢˜ï¼Œè€Œâ€™zebraâ€™åˆ™ä¸ä¼šï¼Œä¸ºä»€ä¹ˆï¼Ÿ
#include&lt;stdio.h&gt;  int main(int argc, char *argv[]) { char *ptr = (char*)malloc(10); if(NULL == ptr) { printf(&#34;\nMalloc failed \n&#34;); return -1; } else if(argc == 1) { printf(&#34;\nUsage \n&#34;); } else { memset(ptr, 0, 10); strncpy(ptr, argv[1], 9); while(*ptr != &#39;z&#39;) { if(*ptr == &#39;&#39;) break; else ptr++; } if(*ptr == &#39;z&#39;) { printf(&#34;\nString contains &#39;z&#39;\n&#34;); // Do some more processing  } free(ptr); } return 0; } ç­”ï¼šè¿™é‡Œçš„é—®é¢˜åœ¨äºï¼Œä»£ç ä¼šï¼ˆé€šè¿‡å¢åŠ â€œptrâ€ï¼‰ä¿®æ”¹whileå¾ªç¯é‡Œâ€œptrâ€å­˜å‚¨çš„åœ°å€ã€‚å½“è¾“å…¥â€œzebraâ€æ—¶ï¼Œwhileå¾ªç¯ä¼šåœ¨æ‰§è¡Œå‰è¢«ç»ˆæ­¢ï¼Œå› æ­¤ä¼ ç»™free()çš„å˜é‡å°±æ˜¯ä¼ ç»™malloc()çš„åœ°å€ã€‚
ä½†åœ¨â€œfreezeâ€æ—¶ï¼Œâ€œptrâ€å­˜å‚¨çš„åœ°å€ä¼šåœ¨whileå¾ªç¯é‡Œè¢«ä¿®æ”¹ï¼Œå› æ­¤å¯¼è‡´ä¼ ç»™free()çš„åœ°å€å‡ºé”™ï¼Œä¹Ÿå°±å¯¼è‡´äº†seg-faultæˆ–è€…å´©æºƒã€‚
ä½¿ç”¨_exité€€å‡º é—®ï¼šåœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œatexit()å¹¶æ²¡æœ‰è¢«è°ƒç”¨ï¼Œä¸ºä»€ä¹ˆï¼Ÿ
#include&lt;stdio.h&gt;  void func(void) { printf(&#34;\nCleanup function called \n&#34;); return; } int main(void) { int i = 0; atexit(func); for(;i&lt;0xffffff;i++); _exit(0); } è¿™æ˜¯å› ä¸º_exit()å‡½æ•°çš„ä½¿ç”¨ï¼Œè¯¥å‡½æ•°å¹¶æ²¡æœ‰è°ƒç”¨atexit()ç­‰å‡½æ•°æ¸…ç†ã€‚å¦‚æœä½¿ç”¨atexit()å°±åº”å½“ä½¿ç”¨exit()æˆ–è€…â€œreturnâ€ä¸ä¹‹ç›¸é…åˆã€‚
void*å’ŒCç»“æ„ä½“ é—®ï¼šä½ èƒ½è®¾è®¡ä¸€ä¸ªèƒ½æ¥å—ä»»ä½•ç±»å‹çš„å‚æ•°å¹¶è¿”å›intergerï¼ˆæ•´æ•°ï¼‰ç»“æœçš„å‡½æ•°å—ï¼Ÿ
ç­”ï¼šå¦‚ä¸‹ï¼š
int func(void *ptr) å¦‚æœè¿™ä¸ªå‡½æ•°çš„å‚æ•°è¶…è¿‡ä¸€ä¸ªï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°åº”è¯¥ç”±ä¸€ä¸ªç»“æ„ä½“æ¥è°ƒç”¨ï¼Œè¿™ä¸ªç»“æ„ä½“å¯ä»¥ç”±éœ€è¦ä¼ é€’å‚æ•°æ¥å¡«å……ã€‚
* å’Œ ++ æ“ä½œ é—®ï¼šä¸‹é¢çš„æ“ä½œä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
#include&lt;stdio.h&gt;  int main(void) { char *ptr = &#34;Linux&#34;; printf(&#34;\n[%c] \n&#34;,*ptr++); printf(&#34;\n[%c] \n&#34;,*ptr); return 0; } ç­”ï¼šè¾“å‡ºç»“æœåº”è¯¥æ˜¯è¿™æ ·ï¼š
[L]
[i]
å› ä¸ºâ€œ++â€å’Œâ€œ * â€ çš„ä¼˜å…ˆæƒä¸€æ ·ï¼Œæ‰€ä»¥â€œ * ptr++ â€ç›¸å½“äº â€œ * (ptr++) â€ã€‚å³åº”è¯¥å…ˆæ‰§è¡Œ ptr++ï¼Œç„¶åæ‰æ˜¯ * ptrï¼Œæ‰€ä»¥æ“ä½œç»“æœæ˜¯â€œLâ€ã€‚ç¬¬äºŒä¸ªç»“æœæ˜¯â€œiâ€ã€‚
é—®ï¼šä¿®æ”¹ä»£ç ç‰‡æ®µ é—®ï¼šä¸‹é¢çš„ä»£ç æ®µæœ‰é”™ï¼Œä½ èƒ½æŒ‡å‡ºæ¥å—ï¼Ÿ
#include&lt;stdio.h&gt;  int main(void) { char *ptr = &#34;Linux&#34;; *ptr = &#39;T&#39;; printf(&#34;\n[%s] \n&#34;, ptr); return 0; } ç­”ï¼šè¿™æ˜¯å› ä¸ºï¼Œé€šè¿‡ * ptr = â€˜Tâ€™ï¼Œä¼šæ”¹å˜å†…å­˜ä¸­ä»£ç æ®µï¼ˆåªè¯»ä»£ç ï¼‰â€œLinuxâ€çš„ç¬¬ä¸€ä¸ªå­—æ¯ã€‚è¿™ä¸ªæ“ä½œæ˜¯æ— æ•ˆçš„ï¼Œå› æ­¤ä¼šé€ æˆsegment-faultæˆ–è€…å´©æºƒã€‚
è¿”å›æœ¬åœ°å˜é‡çš„åœ°å€ é—®ï¼šä¸‹é¢ä»£ç æœ‰é—®é¢˜å—ï¼Ÿå¦‚æœæœ‰ï¼Œè¯¥æ€ä¹ˆä¿®æ”¹ï¼Ÿ
#include&lt;stdio.h&gt;  int* inc(int val) { int a = val; a++; return &amp;a; } int main(void) { int a = 10; int *val = inc(a); printf(&#34;\nIncremented value is equal to [%d] \n&#34;, *val); return 0; } ç­”ï¼šå°½ç®¡ä¸Šé¢çš„ç¨‹åºæœ‰æ—¶å€™èƒ½å¤Ÿæ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯åœ¨â€œinc()â€ä¸­å­˜åœ¨ä¸¥é‡çš„æ¼æ´ã€‚è¿™ä¸ªå‡½æ•°è¿”å›æœ¬åœ°å˜é‡çš„åœ°å€ã€‚å› ä¸ºæœ¬åœ°å˜é‡çš„ç”Ÿå‘½å‘¨æœŸå°±æ˜¯â€œinc()â€çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰€ä»¥åœ¨incç»“æŸåï¼Œä½¿ç”¨æœ¬åœ°å˜é‡ä¼šå‘ç”Ÿä¸å¥½çš„ç»“æœã€‚è¿™å¯ä»¥é€šè¿‡å°†main()ä¸­å˜é‡â€œaâ€çš„åœ°å€æ¥é¿å…ï¼Œè¿™æ ·ä»¥åè¿˜å¯ä»¥ä¿®æ”¹è¿™ä¸ªåœ°å€å­˜å‚¨çš„å€¼ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>Linuxæ“ä½œç³»ç»Ÿå­¦ä¹ â€”â€”å¯åŠ¨</title>
    <url>/post/linux/linux-operating-system-study-boot.html</url>
    <categories><category>Linux</category>
    </categories>
    <tags>
      <tag>Boot</tag>
    </tags>
    <content type="html"><![CDATA[Linuxæ“ä½œç³»ç»Ÿå†…æ ¸æ˜¯æœåŠ¡ç«¯å­¦ä¹ çš„æ ¹åŸºï¼Œä¹Ÿæ˜¯æé«˜ç¼–ç¨‹èƒ½åŠ›ã€æºç é˜…è¯»èƒ½åŠ›å’Œè¿›é˜¶çŸ¥è¯†å­¦ä¹ èƒ½åŠ›çš„é‡è¦éƒ¨åˆ†ï¼Œæœ¬æ–‡å¼€å§‹å°†è®°å½•Linuxæ“ä½œç³»ç»Ÿä¸­çš„å„ä¸ªéƒ¨åˆ†æºç å­¦ä¹ å†ç¨‹ã€‚
å‰è¨€ å…³äºå¦‚ä½•å­¦ä¹ æºç ï¼Œä¸ªäººè§‰å¾—å¯ä»¥ä»ä»¥ä¸‹è§’åº¦å…¥æ‰‹ï¼Œæœ‰æ•ˆåœ°æé«˜é˜…è¯»å’Œå­¦ä¹ çš„æ•ˆç‡ã€‚ï¼ˆå­¦ä¹ è¯­è¨€å°±ä¸è¯´äº†ï¼Œè¿™æ˜¯åŸºæœ¬åŠŸã€‚å­¦ä¹ IDEæ¨èSource Insightæˆ–è€…Visual Studioï¼Œç½‘ç«™æºç é˜…è¯»æ¨èwoboqï¼‰
ç†è§£ä»£ç çš„ç»„ç»‡ç»“æ„ã€‚ ä»¥Linuxæºç ä¸¾ä¾‹ï¼Œé¦–å…ˆä½ å¾—çŸ¥é“æ“ä½œç³»ç»Ÿåˆ†ä¸ºå“ªå‡ ä¸ªéƒ¨åˆ†ï¼Œä»–ä»¬å•ç‹¬åšäº†ä»€ä¹ˆåŠŸèƒ½ï¼Œå¦‚ä½•è¿›è¡Œé…åˆå®Œæˆæ›´ä¸ºå…·ä½“çš„åŠŸèƒ½ã€‚å»ºç«‹æ•´ä½“çš„å°è±¡æœ‰åŠ©äºåç»­æ·±å…¥å­¦ä¹ çš„æ—¶å€™æ–¹ä¾¿ç†è§£ï¼Œæ¯•ç«Ÿä»£ç æ˜¯ç”¨çš„ä¸æ˜¯çœ‹çš„ï¼Œç†è§£ä»–çš„ä½œç”¨æœ‰åˆ©äºç†è§£ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšã€‚
æ·±å…¥å„ä¸ªæ¨¡å—å­¦ä¹  æ¨¡å—æ¥å£ï¼š è¿™é‡Œæ¨èå¾®è½¯çš„ç”»å›¾å·¥å…·visioæˆ–è€…æ€ç»´å¯¼å›¾xmindï¼Œç”¨å…¶ç”»å›¾å¯ä»¥å°†å„ä¸ªæ¨¡å—çš„æ¥å£åˆ—å‡ºï¼Œå¹¶ç»˜åˆ¶å„ä¸ªæ¨¡å—ä¹‹é—´çš„å…³ç³»ï¼Œé€šè¿‡äº†è§£æ¥å£å¯ä»¥æ¸…æ¥šå„ä¸ªæ¨¡å—ä¹‹é—´çš„å…³ç³»ï¼Œå³ç»˜åˆ¶æ¨¡å—ç»„ç»‡å›¾
å·¥ä½œæµç¨‹ï¼š é€šè¿‡ä¸Šé¢ä¸€æ­¥å¾—åˆ°å„æ¨¡å—é—´çš„å…³ç³»ï¼Œç„¶åå®é™…ç”¨æ–­ç‚¹æˆ–logç­‰æ–¹å¼çœ‹ä¸€çœ‹æ•´ä½“çš„å·¥ä½œæµç¨‹ï¼Œåœ¨æ¨¡å—ç»„ç»‡å›¾çš„åŸºç¡€ä¸Šç»˜åˆ¶ç¨‹åºæµç¨‹å›¾
æ¨¡å—ç²˜åˆå±‚ï¼š æˆ‘ä»¬çš„ä»£ç æœ‰å¾ˆå¤šéƒ½æ˜¯ç”¨æ¥ç²˜åˆä»£ç çš„ï¼Œæ¯”å¦‚ä¸­é—´ä»¶ï¼ˆmiddlewareï¼‰ã€Promises æ¨¡å¼ã€å›è°ƒï¼ˆCallbackï¼‰ã€ä»£ç†å§”æ‰˜ã€ä¾èµ–æ³¨å…¥ç­‰ã€‚è¿™äº›ä»£ç æ¨¡å—é—´çš„ç²˜åˆæŠ€æœ¯æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºå®ƒä»¬ä¼šæŠŠæœ¬æ¥å¹³é“ºç›´è¿°çš„ä»£ç ç»™åˆ†è£‚å¼€æ¥ï¼Œè®©ä½ ä¸å®¹æ˜“çœ‹æ˜ç™½å®ƒä»¬çš„å…³ç³»ã€‚è¿™äº›å¯ä»¥ä½œä¸ºç¨‹åºæµç¨‹å›¾çš„è¡¥å……ï¼Œè®©å…¶ä¸­æœ¬æ¥æ— æ³•é¡ºç•…è¡”æ¥çš„åœ°æ–¹å˜å¾—é€šç•…æ— é˜»ã€‚
æ¨¡å—å…·ä½“å®ç°ï¼š è¿™æ˜¯æœ€éš¾å¾—åœ°æ–¹ï¼Œæ¶‰åŠåˆ°å¤§é‡å…·ä½“æºç çš„å­¦ä¹ ã€‚æ·±å…¥ç»†èŠ‚å®¹æ˜“è¿·å¤±åœ¨ç»†èŠ‚çš„æµ·æ´‹é‡Œï¼Œå› æ­¤éœ€è¦æœ‰ä¸€äº›é‡ç‚¹å»å…³æ³¨ï¼Œå°†éé‡ç‚¹çš„å†…å®¹çœç•¥ã€‚é€šè¿‡å­¦ä¹ ç»˜åˆ¶æ¨¡å—å…·ä½“æ¶æ„å›¾å’Œæ¨¡å—çš„ç®—æ³•æ—¶åºå›¾ï¼Œå¯ä»¥å¸®åŠ©ä½ æ›´å¥½çš„æŒæ¡æºç çš„ç²¾é«“ã€‚
éœ€è¦å…³æ³¨çš„åŒ…æ‹¬ ä»£ç é€»è¾‘ã€‚ ä»£ç æœ‰ä¸¤ç§é€»è¾‘ï¼Œä¸€ç§æ˜¯ä¸šåŠ¡é€»è¾‘ï¼Œè¿™ç§é€»è¾‘æ˜¯çœŸæ­£çš„ä¸šåŠ¡å¤„ç†é€»è¾‘ï¼›å¦ä¸€ç§æ˜¯æ§åˆ¶é€»è¾‘ï¼Œè¿™ç§é€»è¾‘åªæ˜¯ç”¨æ§åˆ¶ç¨‹åºæµè½¬çš„ï¼Œä¸æ˜¯ä¸šåŠ¡é€»è¾‘ã€‚æ¯”å¦‚ï¼šflag ä¹‹ç±»çš„æ§åˆ¶å˜é‡ï¼Œå¤šçº¿ç¨‹å¤„ç†çš„ä»£ç ï¼Œå¼‚æ­¥æ§åˆ¶çš„ä»£ç ï¼Œè¿œç¨‹é€šè®¯çš„ä»£ç ï¼Œå¯¹è±¡åºåˆ—åŒ–ååºåˆ—åŒ–çš„ä»£ç ç­‰ã€‚è¿™ä¸¤ç§é€»è¾‘ä½ è¦åˆ†å¼€ï¼Œå¾ˆå¤šä»£ç ä¹‹æ‰€ä»¥æ··ä¹±å°±æ˜¯æŠŠè¿™ä¸¤ç§é€»è¾‘æ··åœ¨ä¸€èµ·äº†ã€‚
é‡è¦çš„ç®—æ³•ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬çš„ä»£ç é‡Œä¼šæœ‰å¾ˆå¤šé‡è¦çš„ç®—æ³•ï¼Œæˆ‘è¯´çš„å¹¶ä¸ä¸€å®šæ˜¯ä»€ä¹ˆæ’åºæˆ–æ˜¯æœç´¢ç®—æ³•ï¼Œå¯èƒ½ä¼šæ˜¯ä¸€äº›å…¶å®ƒçš„æ ¸å¿ƒç®—æ³•ï¼Œæ¯”å¦‚ä¸€äº›ç´¢å¼•è¡¨çš„ç®—æ³•ï¼Œå…¨å±€å”¯ä¸€ ID çš„ç®—æ³•ã€ä¿¡æ¯æ¨èçš„ç®—æ³•ã€ç»Ÿè®¡ç®—æ³•ã€é€šè¯»ç®—æ³•ï¼ˆå¦‚ Gossipï¼‰ç­‰ã€‚è¿™äº›æ¯”è¾ƒæ ¸å¿ƒçš„ç®—æ³•å¯èƒ½ä¼šéå¸¸éš¾è¯»ï¼Œä½†å®ƒä»¬å¾€å¾€æ˜¯æœ€æœ‰æŠ€æœ¯å«é‡çš„éƒ¨åˆ†ã€‚
åº•å±‚äº¤äº’ã€‚ æœ‰ä¸€äº›ä»£ç æ˜¯å’Œåº•å±‚ç³»ç»Ÿçš„äº¤äº’ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯å’Œæ“ä½œç³»ç»Ÿæˆ–æ˜¯ JVM çš„äº¤äº’ã€‚å› æ­¤ï¼Œè¯»è¿™äº›ä»£ç é€šå¸¸éœ€è¦ä¸€å®šçš„åº•å±‚æŠ€æœ¯çŸ¥è¯†ï¼Œä¸ç„¶ï¼Œå¾ˆéš¾è¯»æ‡‚ã€‚
å¯ä»¥å¿½ç•¥çš„åŒ…æ‹¬ å‡ºé”™å¤„ç†ã€‚ æ ¹æ®äºŒå…«åŸåˆ™ï¼Œ20% çš„ä»£ç æ˜¯æ­£å¸¸çš„é€»è¾‘ï¼Œ80% çš„ä»£ç æ˜¯åœ¨å¤„ç†å„ç§é”™è¯¯ï¼Œæ‰€ä»¥ï¼Œä½ åœ¨è¯»ä»£ç çš„æ—¶å€™ï¼Œå®Œå…¨å¯ä»¥æŠŠå¤„ç†é”™è¯¯çš„ä»£ç å…¨éƒ¨åˆ é™¤æ‰ï¼Œè¿™æ ·å°±ä¼šç•™ä¸‹æ¯”è¾ƒå¹²å‡€å’Œç®€å•çš„æ­£å¸¸é€»è¾‘çš„ä»£ç ã€‚æ’é™¤å¹²æ‰°å› ç´ ï¼Œå¯ä»¥æ›´é«˜æ•ˆåœ°è¯»ä»£ç ã€‚
æ•°æ®å¤„ç†ã€‚ åªè¦ä½ è®¤çœŸè§‚å¯Ÿï¼Œå°±ä¼šå‘ç°ï¼Œæˆ‘ä»¬å¥½å¤šä»£ç å°±æ˜¯åœ¨é‚£é‡Œå€’è…¾æ•°æ®ã€‚æ¯”å¦‚ DAOã€DTOï¼Œæ¯”å¦‚ JSONã€XMLï¼Œè¿™äº›ä»£ç å†—é•¿æ— èŠï¼Œä¸æ˜¯ä¸»è¦é€»è¾‘ï¼Œå¯ä»¥ä¸ç†ã€‚
å¿½ç•¥è¿‡å¤šçš„å®ç°ç»†èŠ‚ã€‚ åœ¨ç¬¬ä¸€éé˜…è¯»æºç æ—¶ï¼Œå·²å¼„æ‡‚æ•´ä½“æµç¨‹ä¸ºä¸»ï¼Œè‡³äºå…·ä½“çš„å®ç°ç»†èŠ‚å…ˆç®€å•çš„ç†æ¸…å¤„è¿‡ä¸€éï¼Œä¸ç”¨è¿‡äºçº ç»“ã€‚å½“æ¢³ç†æ¸…æ¥šå…¨éƒ¨çš„æ¡†æ¶é€»è¾‘åï¼Œç¬¬äºŒéå†æ·±å…¥çš„å­¦ä¹ ç ”ç©¶å„ä¸ªæ¨¡å—çš„å®ç°ï¼Œæ­¤æ—¶åº”è¯¥è§£å†³ç¬¬ä¸€éä¸­çš„ç–‘æƒ‘ã€‚ç¬¬ä¸‰éå¯ä»¥è·³å‡ºä»£ç çš„å®ç°ï¼Œæ¥çœ‹Linuxçš„è®¾è®¡æ€è·¯ã€ç¼–ç¨‹è‰ºæœ¯å’Œæ¼”è¿›ä¹‹è·¯ã€‚
é‡åœ¨å®è·µã€‚ Linuxçš„ä»£ç éƒ½æ˜¯å¯ä»¥è°ƒè¯•çš„ï¼Œçœ‹å¾ˆå¤šéä¹Ÿè®¸ä¸å¦‚è·Ÿç€è°ƒè¯•èµ°ä¸€éï¼Œç„¶åå†è‡ªå·±ä¿®æ”¹ä¿®æ”¹åšä¸€äº›å°æµ‹è¯•ã€‚
ä¼ æˆçŸ¥è¯†ã€‚ å½“ä½ èƒ½å°†çŸ¥è¯†è®²è¿°ç»™åˆ«äººå¬ï¼Œå¹¶è®©åˆ«äººå¬æ‡‚æ—¶ï¼Œä½ å·²ç»å¯ä»¥è‡ªè±ªçš„è¯´æ´æ‚‰äº†è¿™äº›çŸ¥è¯†ã€‚æ‰€ä»¥ä¸å¦¨ä»ä¸€ä¸ªå°çš„ä¾‹å­å¼€å§‹è‡ªè¯´è‡ªè¯ï¼Œçœ‹èƒ½ä¸èƒ½è‡ªåœ†å…¶è¯´ï¼Œç”šè‡³å†™æˆåšå®¢ã€åšæˆPPTç»™å¤§å®¶è®²è§£ã€‚
è¯´äº†ä¸€å¤§å †çš„åºŸè¯ï¼Œä¸‹é¢å°±æ­£å¼å¼€å§‹æ“ä½œç³»ç»Ÿçš„æ·±å…¥å­¦ä¹ è®°å½•ä¹‹æ—…äº†ã€‚
æ··æ²Œåˆå¼€ æœ¬æ–‡åˆ†æä»æŒ‰ä¸‹ç”µæºé”®åˆ°åŠ è½½BIOSä»¥åŠåç»­bootloaderçš„æ•´ä¸ªè¿‡ç¨‹ã€‚çŠ¹å¦‚ç›˜å¤å¼€å¤©è¾Ÿåœ°ä¸€èˆ¬ï¼Œè¯¥è¿‡ç¨‹å°†æ··æ²Œçš„æ“ä½œç³»ç»Ÿä¸–ç•Œåˆ†ä¸ºæ¸…æ™°çš„å†…æ ¸æ€å’Œç”¨æˆ·æ€ï¼Œå¹¶ç»å†ä»å®æ¨¡å¼åˆ°ä¿æŠ¤æ¨¡å¼çš„å˜åŒ–ã€‚è¿™é‡Œå…ˆç®€å•ä»‹ç»ä¸€ä¸‹åè¯ï¼Œä¾¿äºåç»­ç†è§£ã€‚
å®æ¨¡å¼ï¼ˆReal Mode)ï¼šåˆå Real Address Modeï¼Œåœ¨æ­¤æ¨¡å¼ä¸‹åœ°å€è®¿é—®çš„æ˜¯çœŸå®åœ°å†…å­˜åœ°å€æ‰€åœ¨ä½ç½®ã€‚åœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨20ä½ï¼ˆ1MBï¼‰çš„åœ°å€ç©ºé—´ï¼Œè½¯ä»¶å¯ä»¥ä¸å—é™åˆ¶çš„æ“ä½œæ‰€æœ‰åœ°å€çš„ç©ºé—´å’ŒIOè®¾å¤‡ã€‚
ä¿æŠ¤æ¨¡å¼ï¼ˆProtected Mode)ï¼šåˆå Protected Virtual Address Modeï¼Œé‡‡ç”¨è™šæ‹Ÿå†…å­˜ã€é¡µç­‰æœºåˆ¶å¯¹å†…å­˜è¿›è¡Œäº†ä¿æŠ¤ï¼Œæ¯”èµ·å®æ¨¡å¼æ›´ä¸ºå®‰å…¨å¯é ï¼ŒåŒæ—¶ä¹Ÿå¢åŠ äº†çµæ´»æ€§å’Œæ‰©å±•æ€§ã€‚
ä»å¯åŠ¨ç”µæºåˆ°BIOS å½“æˆ‘ä»¬æŒ‰ä¸‹ç”µæºé”®ï¼Œä¸»æ¿ä¼šå‘å‘ç”µæºç»„å‘å‡ºä¿¡å·ï¼Œæ¥æ”¶åˆ°ä¿¡å·åï¼Œç”µæºä¼šæä¾›åˆé€‚çš„ç”µå‹ç»™è®¡ç®—æœºã€‚å½“ä¸»æ¿æ”¶åˆ°ç”µæºæ­£å¸¸å¯åŠ¨çš„ä¿¡å·åï¼Œä¸»æ¿ä¼šå¯åŠ¨CPUã€‚CPUé‡ç½®æ‰€æœ‰å¯„å­˜å™¨æ•°æ®ï¼Œå¹¶è®¾ç½®åˆå§‹åŒ–æ•°æ®ï¼Œè¿™ä¸ªåˆå§‹åŒ–æ•°æ®åœ¨X86æ¶æ„é‡Œå¦‚ä¸‹æ‰€ç¤ºï¼š
1IP 0xfff0 2CS selector 0xf000 3CS base 0xffff0000 4IP/EIP (Instruction Pointer) : æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨ï¼Œè®°å½•å°†è¦æ‰§è¡Œçš„æŒ‡ä»¤åœ¨ä»£ç æ®µå†…çš„åç§»åœ°å€ 5CSï¼ˆCode Segment Registerï¼‰ï¼šä»£ç æ®µå¯„å­˜å™¨ï¼ŒæŒ‡å‘CPUå½“å‰æ‰§è¡Œä»£ç åœ¨å†…å­˜ä¸­çš„åŒºåŸŸï¼ˆå®šä¹‰äº†å­˜æ”¾ä»£ç çš„å­˜å‚¨å™¨çš„èµ·å§‹åœ°å€ï¼‰ å®æ¨¡å¼é‡‡å–å†…å­˜æ®µæ¥ç®¡ç† 0 - 0xFFFFFçš„è¿™1Må†…å­˜ç©ºé—´ï¼Œä½†æ˜¯ç”±äºåªæœ‰16ä½å¯„å­˜å™¨ï¼Œæ‰€ä»¥æœ€å¤§åœ°å€åªèƒ½è¡¨ç¤ºä¸º0xFFFFFï¼ˆ64KB)ï¼Œå› æ­¤ä¸å¾—ä¸é‡‡å–å°†å†…å­˜æŒ‰æ®µåˆ’åˆ†ä¸º64KBçš„æ–¹å¼æ¥å……åˆ†åˆ©ç”¨1Mç©ºé—´ã€‚ä¹Ÿå°±æ˜¯ä¸Šæ‰€ç¤ºçš„ï¼Œé‡‡å–æ®µé€‰æ‹©å­ + åç§»é‡çš„è¡¨ç¤ºæ³•ã€‚è¿™ç§æ–¹æ³•åœ¨ä¿æŠ¤æ¨¡å¼ä¸­å¯¹äºé¡µçš„è®¾è®¡ä¸Šä¹Ÿæ²¿ç”¨äº†ä¸‹æ¥ï¼Œå¯è°“ç¥–ä¼ çš„æ™ºæ…§äº†ã€‚å…·ä½“çš„è®¡ç®—å…¬å¼å¦‚ä¸‹æ‰€ç¤ºï¼š
1PhysicalAddress = Segment Selector * 16 + Offset è¯¥éƒ¨åˆ†ç”±ç¡¬ä»¶å®Œæˆï¼Œé€šè¿‡è®¡ç®—è®¿é—®0XFFFF0ï¼Œå¦‚æœè¯¥ä½ç½®æ²¡æœ‰å¯æ‰§è¡Œä»£ç åˆ™è®¡ç®—æœºæ— æ³•å¯åŠ¨ã€‚å¦‚æœæœ‰ï¼Œåˆ™æ‰§è¡Œè¯¥éƒ¨åˆ†ä»£ç ï¼Œè¿™é‡Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ•…äº‹çš„å¼€å§‹ï¼ŒBIOSç¨‹åºäº†ã€‚
BIOSåˆ°BootLoader BIOSæ‰§è¡Œç¨‹åºå­˜å‚¨åœ¨ROMä¸­ï¼Œèµ·å§‹ä½ç½®ä¸º0XFFFF0ï¼Œå½“CS:IPæŒ‡å‘è¯¥ä½ç½®æ—¶ï¼ŒBIOSå¼€å§‹æ‰§è¡Œã€‚BIOSä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å†…å­˜æ˜ å°„ï¼š
10x00000000 - 0x000003FF - Real Mode Interrupt Vector Table 20x00000400 - 0x000004FF - BIOS Data Area 30x00000500 - 0x00007BFF - Unused 40x00007C00 - 0x00007DFF - Our Bootloader 50x00007E00 - 0x0009FFFF - Unused 60x000A0000 - 0x000BFFFF - Video RAM (VRAM) Memory 70x000B0000 - 0x000B7777 - Monochrome Video Memory 80x000B8000 - 0x000BFFFF - Color Video Memory 90x000C0000 - 0x000C7FFF - Video ROM BIOS 100x000C8000 - 0x000EFFFF - BIOS Shadow Area 110x000F0000 - 0x000FFFFF - System BIOS 12 å…¶ä¸­æœ€é‡è¦çš„è«è¿‡äºä¸­æ–­å‘é‡è¡¨å’Œä¸­æ–­æœåŠ¡ç¨‹åºã€‚BIOSç¨‹åºåœ¨å†…å­˜æœ€å¼€å§‹çš„ä½ç½®ï¼ˆ0x00000ï¼‰ç”¨1 KBçš„å†…å­˜ç©ºé—´ï¼ˆ0x00000ï½0x003FFï¼‰æ„å»ºä¸­æ–­å‘é‡è¡¨ï¼Œåœ¨ç´§æŒ¨ç€å®ƒçš„ä½ç½®ç”¨256å­—èŠ‚çš„å†…å­˜ç©ºé—´æ„å»ºBIOSæ•°æ®åŒºï¼ˆ0x00400ï½0x004FFï¼‰ï¼Œå¹¶åœ¨å¤§çº¦57 KBä»¥åçš„ä½ç½®ï¼ˆ0x0E05Bï¼‰åŠ è½½äº†8 KBå·¦å³çš„ä¸ä¸­æ–­å‘é‡è¡¨ç›¸åº”çš„è‹¥å¹²ä¸­æ–­æœåŠ¡ç¨‹åºã€‚ä¸­æ–­å‘é‡è¡¨ä¸­æœ‰256ä¸ªä¸­æ–­å‘é‡ï¼Œæ¯ä¸ªä¸­æ–­å‘é‡å 4å­—èŠ‚ï¼Œå…¶ä¸­ä¸¤ä¸ªå­—èŠ‚æ˜¯CSçš„å€¼ï¼Œä¸¤ä¸ªå­—èŠ‚æ˜¯IPçš„å€¼ã€‚æ¯ä¸ªä¸­æ–­å‘é‡éƒ½æŒ‡å‘ä¸€ä¸ªå…·ä½“çš„ä¸­æ–­æœåŠ¡ç¨‹åºã€‚
BIOSç¨‹åºä¼šé€‰æ‹©ä¸€ä¸ªå¯åŠ¨è®¾å¤‡ï¼Œå¹¶å°†æ§åˆ¶æƒè½¬äº¤ç»™å¯åŠ¨æ‰‡åŒºä¸­çš„ä»£ç ã€‚ä¸»è¦å·¥ä½œå³ä½¿ç”¨ä¸­æ–­å‘é‡å’Œä¸­æ–­æœåŠ¡ç¨‹åºå®ŒæˆBootLoaderçš„åŠ è½½ï¼Œæœ€ç»ˆå°†boot.imgåŠ è½½è‡³0X7C00çš„ä½ç½®å¯åŠ¨ã€‚Linuxå†…æ ¸é€šè¿‡Boot Protocolå®šä¹‰å¦‚ä½•å®ç°è¯¥å¼•å¯¼ç¨‹åºï¼Œæœ‰å¦‚GRUB 2å’Œsyslinuxç­‰å…·ä½“å®ç°æ–¹å¼ï¼Œè¿™é‡Œä»…ä»‹ç»GRUB2ã€‚
BootLoaderçš„å·¥ä½œ boot.imgç”±boot.Sç¼–è¯‘è€Œæˆï¼Œ512å­—èŠ‚ï¼Œå®‰è£…åœ¨å¯åŠ¨ç›˜çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºï¼Œå³MBRã€‚ç”±äºç©ºé—´æœ‰é™ï¼Œå…¶ä»£ç ååˆ†ç®€å•ï¼Œä»…ä»…æ˜¯èµ·åˆ°ä¸€ä¸ªå¼•å¯¼çš„ä½œç”¨ï¼ŒæŒ‡å‘åç»­çš„æ ¸å¿ƒé•œåƒæ–‡ä»¶ï¼Œå³core.imgã€‚core.imgåŒ…æ‹¬å¾ˆå¤šé‡è¦çš„éƒ¨åˆ†ï¼Œå¦‚lzma_decompress.imgã€diskboot.imgã€kernel.imgç­‰ï¼Œç»“æ„å¦‚ä¸‹å›¾ã€‚
æ•´ä¸ªåŠ è½½æµç¨‹å¦‚ä¸‹ï¼š
1ã€boot.imgåŠ è½½core.imgçš„ç¬¬ä¸€ä¸ªæ‰‡åŒºï¼Œå³diskboot.imgï¼Œå¯¹åº”ä»£ç ä¸ºdiskboot.S
2ã€diskboot.imgåŠ è½½core.imgçš„å…¶ä»–éƒ¨åˆ†æ¨¡å—ï¼Œå…ˆæ˜¯è§£å‹ç¼©ç¨‹åº lzma_decompress.imgï¼Œå†å¾€ä¸‹æ˜¯ kernel.imgï¼Œæœ€åæ˜¯å„ä¸ªæ¨¡å— module å¯¹åº”çš„æ˜ åƒã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œå®ƒä¸æ˜¯ Linux çš„å†…æ ¸ï¼Œè€Œæ˜¯ grub çš„å†…æ ¸ã€‚æ³¨æ„ï¼Œlzma_decompress.img å¯¹åº”çš„ä»£ç æ˜¯ startup_raw.Sï¼Œæœ¬æ¥ kernel.img æ˜¯å‹ç¼©è¿‡çš„ï¼Œç°åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œéœ€è¦è§£å‹ç¼©ã€‚
3ã€åŠ è½½å®Œcoreä¹‹åï¼Œå¯åŠ¨grub_mainå‡½æ•°ã€‚
4ã€grub_mainå‡½æ•°åˆå§‹åŒ–æ§åˆ¶å°ï¼Œè®¡ç®—æ¨¡å—åŸºåœ°å€ï¼Œè®¾ç½® root è®¾å¤‡ï¼Œè¯»å– grub é…ç½®æ–‡ä»¶ï¼ŒåŠ è½½æ¨¡å—ã€‚æœ€åï¼Œå°† GRUB ç½®äº normal æ¨¡å¼ï¼Œåœ¨è¿™ä¸ªæ¨¡å¼ä¸­ï¼Œgrub_normal_execute (from grub-core/normal/main.c) å°†è¢«è°ƒç”¨ä»¥å®Œæˆæœ€åçš„å‡†å¤‡å·¥ä½œï¼Œç„¶åæ˜¾ç¤ºä¸€ä¸ªèœå•åˆ—å‡ºæ‰€ç”¨å¯ç”¨çš„æ“ä½œç³»ç»Ÿã€‚å½“æŸä¸ªæ“ä½œç³»ç»Ÿè¢«é€‰æ‹©ä¹‹åï¼Œgrub_menu_execute_entry å¼€å§‹æ‰§è¡Œï¼Œå®ƒå°†è°ƒç”¨ GRUB çš„ boot å‘½ä»¤ï¼Œæ¥å¼•å¯¼è¢«é€‰ä¸­çš„æ“ä½œç³»ç»Ÿã€‚
â€ƒåœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬æ‰€æœ‰é‡åˆ°è¿‡çš„ç¨‹åºéƒ½éå¸¸éå¸¸å°ï¼Œå®Œå…¨å¯ä»¥åœ¨å®æ¨¡å¼ä¸‹è¿è¡Œï¼Œä½†æ˜¯éšç€æˆ‘ä»¬åŠ è½½çš„ä¸œè¥¿è¶Šæ¥è¶Šå¤§ï¼Œå®æ¨¡å¼è¿™ 1M çš„åœ°å€ç©ºé—´å®åœ¨æ”¾ä¸ä¸‹äº†ï¼Œæ‰€ä»¥åœ¨çœŸæ­£çš„è§£å‹ç¼©ä¹‹å‰ï¼Œlzma_decompress.img åšäº†ä¸€ä¸ªé‡è¦çš„å†³å®šï¼Œå°±æ˜¯è°ƒç”¨ real_to_protï¼Œåˆ‡æ¢åˆ°ä¿æŠ¤æ¨¡å¼ï¼Œè¿™æ ·å°±èƒ½åœ¨æ›´å¤§çš„å¯»å€ç©ºé—´é‡Œé¢ï¼ŒåŠ è½½æ›´å¤šçš„ä¸œè¥¿ã€‚
å¼€æœºæ—¶çš„16ä½å®æ¨¡å¼ä¸å†…æ ¸å¯åŠ¨çš„mainå‡½æ•°æ‰§è¡Œéœ€è¦çš„32ä½ä¿æŠ¤æ¨¡å¼ä¹‹é—´æœ‰å¾ˆå¤§çš„å·®è·ï¼Œè¿™ä¸ªå·®è·è°æ¥å¡«è¡¥ï¼Ÿhead.Såšçš„å°±æ˜¯è¿™é¡¹å·¥ä½œã€‚å°±åƒ kernel boot protocol æ‰€æè¿°çš„ï¼Œå¼•å¯¼ç¨‹åºå¿…é¡»å¡«å…… kernel setup header ï¼ˆä½äº kernel setup code åç§» 0x01f1 å¤„ï¼‰ çš„å¿…è¦å­—æ®µï¼Œè¿™äº›å‡åœ¨head.Sä¸­å®šä¹‰ã€‚åœ¨è¿™æœŸé—´ï¼Œheadç¨‹åºæ‰“å¼€A20ï¼Œæ‰“å¼€peã€pgï¼ŒåºŸå¼ƒæ—§çš„ã€16ä½çš„ä¸­æ–­å“åº”æœºåˆ¶ï¼Œå»ºç«‹æ–°çš„32ä½çš„IDTâ€¦â€¦è¿™äº›å·¥ä½œéƒ½åšå®Œäº†ï¼Œè®¡ç®—æœºå·²ç»å¤„åœ¨32ä½çš„ä¿æŠ¤æ¨¡å¼çŠ¶æ€äº†ï¼Œè°ƒç”¨32ä½å†…æ ¸çš„ä¸€åˆ‡æ¡ä»¶å·²ç»å‡†å¤‡å®Œæ¯•ï¼Œè¿™æ—¶é¡ºç†æˆç« åœ°è°ƒç”¨mainå‡½æ•°ã€‚åé¢çš„æ“ä½œå°±å¯ä»¥ç”¨32ä½ç¼–è¯‘çš„mainå‡½æ•°å®Œæˆï¼Œä»è€Œæ­£å¼å¯åŠ¨å†…æ ¸ï¼Œè¿›å…¥æ³¢æ¾œå£®é˜”çš„Linuxå†…æ ¸æ“ä½œç³»ç»Ÿä¹‹ä¸­ã€‚
æ€»ç»“ æœ¬æ–‡ä»‹ç»äº†ä»æŒ‰ä¸‹ç”µæºå¼€å…³è‡³åŠ è½½å®Œæ¯•BootLoaderçš„æ•´ä¸ªè¿‡ç¨‹ï¼Œåç»­å°†ç»§ç»­åˆ†æä»å®æ¨¡å¼è¿›å…¥ä¿æŠ¤æ¨¡å¼ï¼Œä»è€Œå¯åŠ¨å†…æ ¸åˆ›å»º0å·ã€1å·ã€2å·è¿›ç¨‹çš„æ•´ä¸ªè¿‡ç¨‹ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>Linuxä¸‰å‰‘å®¢ï¼ˆgrep,sed,awkï¼‰</title>
    <url>/post/linux/linux-three-musketeers.html</url>
    <categories><category>Linux</category>
    </categories>
    <tags>
      <tag>Grep</tag>
      <tag>Sed</tag>
      <tag>Awk</tag>
    </tags>
    <content type="html"><![CDATA[åœ¨Linuxç³»ç»Ÿä¸­ï¼Œawkã€grepã€sedç­‰å‘½ä»¤è¢«å¹¿æ³›ç”¨äºæ–‡æœ¬å¤„ç†ã€‚å®ƒä»¬æ˜¯éå¸¸å¼ºå¤§çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥ç”¨äºæœç´¢ã€æ›¿æ¢ã€è¿‡æ»¤ã€æ’åºç­‰å¤šç§æ“ä½œã€‚
æœ¬æ–‡å°†ä»‹ç»è¿™äº›å‘½ä»¤çš„åŸºæœ¬ç”¨æ³•å’Œç¤ºä¾‹ï¼Œå¸®åŠ©è¯»è€…æ›´å¥½åœ°äº†è§£å®ƒä»¬çš„åŠŸèƒ½å’Œç”¨æ³•ã€‚
grepå‘½ä»¤ grepæ˜¯ä¸€ç§éå¸¸å¸¸è§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå®ƒå¯ä»¥æœç´¢æŒ‡å®šå­—ç¬¦ä¸²åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ä¸­å‡ºç°çš„è¡Œï¼Œå¹¶å°†ç»“æœè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºã€‚å®ƒçš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š
grep [OPTIONS] PATTERN [FILE...] å…¶ä¸­ï¼ŒOPTIONSè¡¨ç¤ºé€‰é¡¹ï¼ŒPATTERNè¡¨ç¤ºè¦æœç´¢çš„æ¨¡å¼ï¼ŒFILEè¡¨ç¤ºè¦æœç´¢çš„æ–‡ä»¶åã€‚
ä¸‹é¢æ˜¯ä¸€äº›grepå‘½ä»¤çš„å¸¸ç”¨é€‰é¡¹ï¼š
 -iï¼šå¿½ç•¥å¤§å°å†™ -vï¼šæ˜¾ç¤ºä¸åŒ¹é…çš„è¡Œ -nï¼šæ˜¾ç¤ºè¡Œå· -cï¼šæ˜¾ç¤ºåŒ¹é…è¡Œçš„æ•°é‡ -rï¼šé€’å½’æœç´¢å­ç›®å½• -eï¼šæœç´¢å¤šä¸ªæ¨¡å¼  ä¸‹é¢æ˜¯ä¸€äº›grepå‘½ä»¤çš„å®ä¾‹ï¼š
åœ¨æ–‡ä»¶ä¸­æœç´¢æŒ‡å®šå­—ç¬¦ä¸² grep &#34;hello&#34; file.txt åœ¨æ–‡ä»¶ä¸­æœç´¢å¤šä¸ªå­—ç¬¦ä¸² grep -e &#34;hello&#34; -e &#34;world&#34; file.txt åœ¨æ–‡ä»¶ä¸­æœç´¢å¹¶æ˜¾ç¤ºåŒ¹é…è¡Œå· grep -n &#34;hello&#34; file.txt åœ¨æ–‡ä»¶ä¸­æœç´¢å¹¶æ˜¾ç¤ºä¸åŒ¹é…çš„è¡Œ grep -v &#34;hello&#34; file.txt åœ¨ç›®å½•ä¸­é€’å½’æœç´¢æŒ‡å®šå­—ç¬¦ä¸² grep -r &#34;hello&#34; directory/ sedå‘½ä»¤ sedæ˜¯ä¸€ç§æµç¼–è¾‘å™¨ï¼Œå®ƒå¯ä»¥æ‰§è¡Œå„ç§æ–‡æœ¬æ“ä½œï¼Œå¦‚æ›¿æ¢ã€åˆ é™¤ã€æ’å…¥ç­‰ã€‚å®ƒçš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š
sed [OPTIONS] COMMAND [FILE...] å…¶ä¸­ï¼ŒOPTIONSè¡¨ç¤ºé€‰é¡¹ï¼ŒCOMMANDè¡¨ç¤ºè¦æ‰§è¡Œçš„sedå‘½ä»¤ï¼ŒFILEè¡¨ç¤ºè¦å¤„ç†çš„æ–‡ä»¶åã€‚
ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„sedå‘½ä»¤ï¼š
 sï¼šæ›¿æ¢æŒ‡å®šæ¨¡å¼ dï¼šåˆ é™¤æŒ‡å®šè¡Œ iï¼šæ’å…¥æŒ‡å®šå­—ç¬¦ä¸² cï¼šæ›¿æ¢æŒ‡å®šè¡Œ yï¼šå­—ç¬¦è½¬æ¢ pï¼šæ‰“å°åŒ¹é…çš„è¡Œ  ä¸‹é¢æ˜¯ä¸€äº›sedå‘½ä»¤çš„å®ä¾‹ï¼š
æ›¿æ¢æ–‡ä»¶ä¸­çš„æŒ‡å®šå­—ç¬¦ä¸² sed &#39;s/hello/world/&#39; file.txt åˆ é™¤æ–‡ä»¶ä¸­çš„æŒ‡å®šè¡Œ sed &#39;3d&#39; file.txt åœ¨æ–‡ä»¶ä¸­æŒ‡å®šè¡Œåæ’å…¥æŒ‡å®šå­—ç¬¦ä¸² sed &#39;2i\hello world&#39; file.txt æ›¿æ¢æ–‡ä»¶ä¸­æŒ‡å®šè¡Œçš„å†…å®¹ sed &#39;3c\hello world&#39; file.txt awkå‘½ä»¤ awkæ˜¯ä¸€ç§æ–‡æœ¬å¤„ç†å·¥å…·ï¼Œå®ƒå¯ä»¥ç”¨äºæ ¼å¼åŒ–ã€è¿‡æ»¤ã€è®¡ç®—ç­‰æ“ä½œã€‚å®ƒçš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š
awk [OPTIONS] &#39;PATTERN { ACTION }&#39; [FILE...] å…¶ä¸­ï¼ŒOPTIONSè¡¨ç¤ºé€‰é¡¹ï¼ŒPATTERNè¡¨ç¤ºè¦åŒ¹é…çš„æ¨¡å¼ï¼ŒACTIONè¡¨ç¤ºè¦æ‰§è¡Œçš„æ“ä½œï¼ŒFILEè¡¨ç¤ºè¦å¤„ç†çš„æ–‡ä»¶åã€‚
ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„awkå‘½ä»¤ï¼š
 printï¼šæ‰“å°æŒ‡å®šå†…å®¹ ifï¼šæ¡ä»¶åˆ¤æ–­ forï¼šå¾ªç¯ç»“æ„ sumï¼šè®¡ç®—æŒ‡å®š  ä¸‹é¢æ˜¯ä¸€äº›awkå‘½ä»¤çš„å®ä¾‹ï¼š
æ‰“å°æ–‡ä»¶ä¸­çš„æ‰€æœ‰è¡Œ awk &#39;{print}&#39; file.txt æ‰“å°æ–‡ä»¶ä¸­ç¬¬äºŒåˆ—çš„å†…å®¹ awk &#39;{print $2}&#39; file.txt è®¡ç®—æ–‡ä»¶ä¸­æ‰€æœ‰æ•°å­—çš„æ€»å’Œ awk &#39;{sum += $1} END {print sum}&#39; file.txt æ‰“å°æ–‡ä»¶ä¸­åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²çš„è¡Œ awk &#39;/hello/ {print}&#39; file.txt åœ¨æ–‡ä»¶ä¸­æŒ‡å®šåˆ—åé¢æ·»åŠ æŒ‡å®šå­—ç¬¦ä¸² awk &#39;{$3 = $3 &#34;hello&#34;} {print}&#39; file.txt ä»¥ä¸Šæ˜¯grepã€sedã€awkå‘½ä»¤çš„åŸºæœ¬è¯­æ³•å’Œç¤ºä¾‹ã€‚è¿™äº›å‘½ä»¤å¯ä»¥é€šè¿‡é€‰é¡¹å’Œå‚æ•°è¿›è¡Œè¿›ä¸€æ­¥å®šåˆ¶å’Œæ‰©å±•ã€‚ä¾‹å¦‚ï¼Œgrepå‘½ä»¤å¯ä»¥é€šè¿‡-ié€‰é¡¹å¿½ç•¥å¤§å°å†™ï¼Œ-ré€‰é¡¹é€’å½’æœç´¢å­ç›®å½•ï¼Œ-né€‰é¡¹æ˜¾ç¤ºè¡Œå·ç­‰ã€‚
åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™äº›å‘½ä»¤é€šå¸¸ä¼šè¢«ç»“åˆä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨grepå‘½ä»¤æœç´¢æŒ‡å®šå­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨sedå‘½ä»¤è¿›è¡Œæ›¿æ¢ï¼Œæœ€åä½¿ç”¨awkå‘½ä»¤è¿›è¡Œè®¡ç®—å’Œæ ¼å¼åŒ–ã€‚
æ­¤å¤–ï¼Œè¿™äº›å‘½ä»¤ä¹Ÿå¯ä»¥é€šè¿‡ç®¡é“ç¬¦å·ï¼ˆ|ï¼‰è¿›è¡Œè¿æ¥ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨grepå‘½ä»¤æœç´¢æŒ‡å®šå­—ç¬¦ä¸²ï¼Œç„¶åå°†ç»“æœé€šè¿‡ç®¡é“ç¬¦å·ä¼ é€’ç»™sedå‘½ä»¤è¿›è¡Œæ›¿æ¢ï¼Œæœ€åå°†ç»“æœå†æ¬¡é€šè¿‡ç®¡é“ç¬¦å·ä¼ é€’ç»™awkå‘½ä»¤è¿›è¡Œè®¡ç®—å’Œæ ¼å¼åŒ–ã€‚
æ€»ä¹‹ï¼Œgrepã€sedã€awkç­‰å‘½ä»¤æ˜¯Linuxç³»ç»Ÿä¸­éå¸¸é‡è¦å’Œå¸¸ç”¨çš„æ–‡æœ¬å¤„ç†å·¥å…·ã€‚ç†Ÿç»ƒæŒæ¡å®ƒä»¬çš„åŸºæœ¬è¯­æ³•å’Œç”¨æ³•ï¼Œå¯ä»¥å¤§å¤§æé«˜æ–‡æœ¬å¤„ç†çš„æ•ˆç‡å’Œè´¨é‡ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>å¦‚ä½•åœ¨ Linux ä¸­é…ç½® IPv4 å’Œ IPv6 åœ°å€</title>
    <url>/post/linux/how-to-configure-ipv4-and-ipv6.html</url>
    <categories><category>Linux</category>
    </categories>
    <tags>
      <tag>IPv4, IPv6</tag>
    </tags>
    <content type="html"><![CDATA[IPv4å’ŒIPv6æ˜¯Internetä¸Šå¸¸ç”¨çš„ä¸¤ç§IPåœ°å€åè®®ã€‚åœ¨Linuxç³»ç»Ÿä¸­ï¼Œæ‚¨å¯ä»¥é€šè¿‡é…ç½®ç½‘ç»œæ¥å£æ¥è®¾ç½®IPv4å’ŒIPv6åœ°å€ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨Linuxä¸­é…ç½®IPv4å’ŒIPv6åœ°å€ã€‚
æ­¥éª¤ 1ï¼šç¡®å®šç½‘ç»œæ¥å£ åœ¨å¼€å§‹é…ç½®IPåœ°å€ä¹‹å‰ï¼Œæ‚¨éœ€è¦ç¡®å®šè¦é…ç½®çš„ç½‘ç»œæ¥å£ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥åˆ—å‡ºå½“å‰ç³»ç»Ÿä¸Šçš„ç½‘ç»œæ¥å£ï¼š
ifconfig -a è¯¥å‘½ä»¤å°†æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨çš„ç½‘ç»œæ¥å£åŠå…¶ç›¸å…³ä¿¡æ¯ã€‚ç¡®å®šè¦é…ç½®çš„ç½‘ç»œæ¥å£çš„åç§°ï¼Œä¾‹å¦‚eth0æˆ–enp0s3ã€‚
æ­¥éª¤ 2ï¼šé…ç½® IPv4 åœ°å€ ###ä¸´æ—¶é…ç½®
è¦ä¸´æ—¶é…ç½®IPv4åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨ifconfigå‘½ä»¤ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½®IPv4åœ°å€ï¼š
sudo ifconfig &lt;interface&gt; &lt;ipv4_address&gt; netmask &lt;netmask&gt; å°†æ›¿æ¢ä¸ºè¦é…ç½®çš„ç½‘ç»œæ¥å£çš„åç§°ï¼Œ&lt;ipv4_address&gt;æ›¿æ¢ä¸ºæ‚¨è¦åˆ†é…çš„IPv4åœ°å€ï¼Œæ›¿æ¢ä¸ºå­ç½‘æ©ç ã€‚
ä¾‹å¦‚ï¼Œè¦å°†IPåœ°å€ä¸º192.168.1.10ï¼Œå­ç½‘æ©ç ä¸º255.255.255.0çš„IPv4åœ°å€åˆ†é…ç»™eth0æ¥å£ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
sudo ifconfig eth0 192.168.1.10 netmask 255.255.255.0 æ°¸ä¹…é…ç½® è¦æ°¸ä¹…é…ç½®IPv4åœ°å€ï¼Œæ‚¨éœ€è¦ç¼–è¾‘ç½‘ç»œæ¥å£çš„é…ç½®æ–‡ä»¶ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ‰“å¼€é…ç½®æ–‡ä»¶ï¼š
sudo nano /etc/network/interfaces åœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°è¦é…ç½®çš„æ¥å£éƒ¨åˆ†ï¼Œæ·»åŠ ä»¥ä¸‹è¡Œï¼š
auto &lt;interface&gt; iface &lt;interface&gt; inet static address &lt;ipv4_address&gt; netmask &lt;netmask&gt; gateway &lt;gateway_address&gt; å°†æ›¿æ¢ä¸ºè¦é…ç½®çš„ç½‘ç»œæ¥å£çš„åç§°ï¼Œ&lt;ipv4_address&gt;æ›¿æ¢ä¸ºæ‚¨è¦åˆ†é…çš„IPv4åœ°å€ï¼Œæ›¿æ¢ä¸ºå­ç½‘æ©ç ï¼Œ&lt;gateway_address&gt;æ›¿æ¢ä¸ºç½‘å…³åœ°å€ã€‚
ä¿å­˜æ–‡ä»¶å¹¶å…³é—­æ–‡æœ¬ç¼–è¾‘å™¨ã€‚ç„¶åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š
sudo systemctl restart networking ç°åœ¨ï¼Œæ‚¨çš„Linuxç³»ç»Ÿå°†ä½¿ç”¨é…ç½®çš„IPv4åœ°å€ã€‚
æ­¥éª¤ 3ï¼šé…ç½® IPv6 åœ°å€ ä¸´æ—¶é…ç½® è¦ä¸´æ—¶é…ç½®IPv6åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨ifconfigå‘½ä»¤ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½®IPv6åœ°å€ï¼š
sudo ifconfig &lt;interface&gt; inet6 add &lt;ipv6_address&gt;/&lt;prefix_length&gt; å°†æ›¿æ¢ä¸ºè¦é…ç½®çš„ç½‘ç»œæ¥å£çš„åç§°ï¼Œ&lt;ipv6_address&gt;æ›¿æ¢ä¸ºæ‚¨è¦åˆ†é…çš„IPv6åœ°å€ï¼Œ&lt;prefix_length&gt;æ›¿æ¢ä¸ºå‰ç¼€é•¿åº¦ã€‚
ä¾‹å¦‚ï¼Œè¦å°†IPv6åœ°å€ä¸º2001:0db8:85a3:0000:0000:8a2e:0370:7334ï¼Œå‰ç¼€é•¿åº¦ä¸º64çš„IPv6åœ°å€åˆ†é…ç»™eth0æ¥å£ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
sudo ifconfig eth0 inet6 add 2001:0db8:85a3:0000:0000:8a2e:0370:7334/64 æ°¸ä¹…é…ç½® è¦æ°¸ä¹…é…ç½®IPv6åœ°å€ï¼Œæ‚¨éœ€è¦ç¼–è¾‘ç½‘ç»œæ¥å£çš„é…ç½®æ–‡ä»¶ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ‰“å¼€é…ç½®æ–‡ä»¶ï¼š
sudo nano /etc/network/interfaces åœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°è¦é…ç½®çš„æ¥å£éƒ¨åˆ†ï¼Œæ·»åŠ ä»¥ä¸‹è¡Œï¼š
iface &lt;interface&gt; inet6 static address &lt;ipv6_address&gt;/&lt;prefix_length&gt; å°†æ›¿æ¢ä¸ºè¦é…ç½®çš„ç½‘ç»œæ¥å£çš„åç§°ï¼Œ&lt;ipv6_address&gt;æ›¿æ¢ä¸ºæ‚¨è¦åˆ†é…çš„IPv6åœ°å€ï¼Œ&lt;prefix_length&gt;æ›¿æ¢ä¸ºå‰ç¼€é•¿åº¦ã€‚
ä¿å­˜æ–‡ä»¶å¹¶å…³é—­æ–‡æœ¬ç¼–è¾‘å™¨ã€‚ç„¶åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š
sudo systemctl restart networking ç°åœ¨ï¼Œæ‚¨çš„Linuxç³»ç»Ÿå°†ä½¿ç”¨é…ç½®çš„IPv6åœ°å€ã€‚
æ­¥éª¤ 4ï¼šéªŒè¯é…ç½® è¦éªŒè¯IPv4å’ŒIPv6åœ°å€çš„é…ç½®æ˜¯å¦æˆåŠŸï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹ç½‘ç»œæ¥å£çš„IPåœ°å€ä¿¡æ¯ï¼š
ifconfig &lt;interface&gt; å°†&lt;interface&gt;æ›¿æ¢ä¸ºæ‚¨é…ç½®çš„ç½‘ç»œæ¥å£çš„åç§°ã€‚è¯¥å‘½ä»¤å°†æ˜¾ç¤ºæŒ‡å®šæ¥å£çš„IPåœ°å€ä¿¡æ¯ï¼ŒåŒ…æ‹¬IPv4å’ŒIPv6åœ°å€ã€‚ ç»“è®º é€šè¿‡æœ¬æ–‡çš„æŒ‡å¯¼ï¼Œæ‚¨å·²ç»å­¦ä¼šäº†åœ¨Linuxä¸­é…ç½®IPv4å’ŒIPv6åœ°å€çš„è¯¦ç»†æ­¥éª¤ã€‚æ ¹æ®æ‚¨çš„ç½‘ç»œéœ€æ±‚ï¼Œæ‚¨å¯ä»¥ä¸´æ—¶æˆ–æ°¸ä¹…åœ°é…ç½®è¿™äº›åœ°å€ã€‚
å…·ä½“çš„é…ç½®æ–¹å¼å¯èƒ½å› Linuxå‘è¡Œç‰ˆå’Œç‰ˆæœ¬è€Œæœ‰æ‰€ä¸åŒã€‚æœ¬æ–‡æä¾›äº†ä¸€èˆ¬çš„é…ç½®æ–¹æ³•ï¼Œä½†å¦‚æœæ‚¨çš„ç³»ç»Ÿæœ‰ç‰¹å®šçš„è¦æ±‚æˆ–ç½‘ç»œç¯å¢ƒï¼Œè¯·å‚è€ƒç›¸å…³æ–‡æ¡£æˆ–å’¨è¯¢ç³»ç»Ÿç®¡ç†å‘˜ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>é£æ²³æºæ‰‹ä¸‰æ˜Ÿæ¨è¿›è½¯ä»¶å®šä¹‰æ±½è½¦æ¼”è¿›</title>
    <url>/post/news/wind-river-and-samsung-drive-the-evolution-of-software-defined-vehicles.html</url>
    <categories><category>News</category>
    </categories>
    <tags>
      <tag>Wind River</tag>
      <tag>Samsung</tag>
      <tag>SNV</tag>
    </tags>
    <content type="html"><![CDATA[é¢†å…ˆçš„å…³é”®ä»»åŠ¡æ™ºèƒ½ç³»ç»Ÿè½¯ä»¶æä¾›å•†é£æ²³å…¬å¸å®£å¸ƒä¸ä¸‰æ˜Ÿç”µå­ç³»ç»ŸLSIä¸šåŠ¡éƒ¨å»ºç«‹æ–°çš„åˆä½œå…³ç³»ã€‚åŒæ–¹å°†è‡´åŠ›äºåŠ é€Ÿè½¯ä»¶å®šä¹‰æ±½è½¦çš„å‘å±•ï¼Œå¼€å‘é«˜è´¨é‡è½¦è½½ä¿¡æ¯å¨±ä¹è§£å†³æ–¹æ¡ˆï¼ˆIVIï¼‰ã€åº§èˆ±ç›‘æ§å’Œé«˜çº§é©¾é©¶è¾…åŠ©ç³»ç»Ÿã€‚
æ±½è½¦å·¥ä¸šæ­£åœ¨å‘è½¯ä»¶å®šä¹‰æ±½è½¦æ¼”è¿›ï¼Œè¶Šæ¥è¶Šå¤šçš„åŠŸèƒ½å’Œç‰¹æ€§éƒ½å°†ç”±è½¯ä»¶æ¥é©±åŠ¨ï¼Œå¹¶èƒ½å¿«é€Ÿç®€ä¾¿åœ°è¿›è¡Œæ›´æ–°ã€‚ç¡®ä¿å¼€å‘äººå‘˜æ‹¥æœ‰å“è¶Šçš„å·¥å…·ã€æµç¨‹å’Œç»“æ„ï¼Œæœ‰æ•ˆå®ç°è½¯ä»¶çš„åˆ›å»ºã€æµ‹è¯•ä¸æ›´æ–°ï¼Œè¿™å¯¹æ•´ä¸ªè¡Œä¸šæ¥è¯´çš†å±æœ€é«˜ä¼˜å…ˆäº‹é¡¹ã€‚
ä¸ºäº†åŠ é€Ÿè¿­ä»£æ¼”è¿›ï¼Œé£æ²³å°†åŸºäºä¸‰æ˜ŸExynos Auto V920èŠ¯ç‰‡ç»„å‘å®¢æˆ·æä¾›è‡ªå·±çš„è½¯ä»¶æŠ€æœ¯ï¼Œåˆ›å»ºä¸€æ•´å¥—å®Œå…¨é›†æˆåŒ–çš„æ±½è½¦è½¯ä»¶ä¸ç¡¬ä»¶è§£å†³æ–¹æ¡ˆï¼Œå…¶ä¸­çš„æ ¸å¿ƒæ˜¯Wind River Helixâ„¢ Virtualization Platformï¼ˆè™šæ‹ŸåŒ–å¹³å°ï¼‰ã€‚è¿™æ˜¯ä¸€å¥—è·å¾—å®‰å…¨è®¤è¯çš„å¤šæ ¸ã€å¤šæ“ä½œç³»ç»Ÿå¹³å°ï¼Œæ”¯æŒæœ€ç»ˆç”¨æˆ·èåˆä¸åŒå®‰å…¨æ€§è¦æ±‚çš„è¿è¡Œæ—¶ç¯å¢ƒï¼ŒåŒ…æ‹¬VxWorksÂ®å®æ—¶æ“ä½œç³»ç»Ÿ(RTOS)ã€Linuxå’ŒAndroidã€‚
è¦è®¾è®¡å’Œå¼€å‘äº’è”è‡ªåŠ¨é©¾é©¶ç”µåŠ¨æ±½è½¦ï¼Œå¿…é¡»é‡‡ç”¨æ–°çš„è½¯ä»¶å®šä¹‰æ–¹æ³•ï¼Œä»¥åŠé«˜æ€§èƒ½è®¡ç®—ç³»ç»Ÿã€‚æˆ‘ä»¬ä¸ä¸‰æ˜Ÿæºæ‰‹åˆä½œï¼Œæ”¯æŒOEMå‚å•†å’ŒTier 1ä¾›åº”å•†ç»§æ‰¿å’Œå‘å±•è¿‡å»ä¸‰åå¤šå¹´æ¥åœ¨èˆªç©ºèˆªå¤©ä¸å›½é˜²ã€å·¥ä¸šã€åŒ»ç–—å’Œç”µä¿¡ç­‰è¯¸å¤šé¢†åŸŸæ‰€ç§¯ç´¯çš„æŠ€æœ¯å’Œç»éªŒï¼Œæ„å»ºå¯¹æœªæ¥è½¯ä»¶å®šä¹‰è½¦è¾†è‡³å…³é‡è¦çš„è½¯ä»¶ç³»ç»Ÿï¼Œæ»¡è¶³å¤šç§ä¸åŒå±‚æ¬¡çš„å…³é”®æ€§è®¤è¯è¦æ±‚ã€‚
Exynos Auto V920æ˜¯æˆ‘ä»¬æœ€æ–°çš„5nmæ±½ç”¨å¤„ç†å™¨ï¼Œæä¾›å¼ºå¤§çš„æ™ºèƒ½åŒ–æ€§èƒ½å’Œæ›´é«˜æ°´å¹³çš„è½¦å†…ä½“éªŒï¼Œè®©æ±½è½¦æ‹¥æœ‰æ›´é«˜çš„å®‰å…¨æ€§ã€‚è¿™å¥—ç³»ç»Ÿèƒ½å¤Ÿä»¥é«˜æ•ˆèŠ‚èƒ½çš„æ–¹å¼åœ¨å¤šä¸ªè™šæ‹Ÿæœºä¸ŠåŒæ—¶è¿è¡Œå¤šä¸ªåº”ç”¨ï¼Œä»è€Œæ»¡è¶³äº†è¡Œä¸šçš„ä½åŠŸè€—éœ€æ±‚ã€‚é€šè¿‡ä¸é£æ²³å…¬å¸çš„å¯†åˆ‡åˆä½œï¼Œæˆ‘ä»¬èƒ½å¤ŸåŠ å¼ºä¸šç•Œé¢†å…ˆçš„IVIå¼€å‘å·¥ä½œï¼Œå¹¶é€šè¿‡é£æ²³é¢†å…ˆçš„è¿è¡Œæ—¶ç¯å¢ƒè¿›ä¸€æ­¥æ‰©å±•åˆ°å¤šä¸ªå®‰å…¨å…³é”®é¢†åŸŸã€‚
]]></content>
  </entry>
  
  <entry>
    <title>è‹±ç‰¹å°”å®£å¸ƒï¼Œå‡ºå”®è®¾å¤‡å…¬å¸è‚¡ä»½</title>
    <url>/post/news/intel-announces-sale-of-stake-IMS.html</url>
    <categories><category>News</category>
    </categories>
    <tags>
      <tag>Intel</tag>
      <tag>IMS</tag>
      <tag>Bain Capital</tag>
    </tags>
    <content type="html"><![CDATA[è‹±ç‰¹å°”å…¬å¸ä»Šå¤©å®£å¸ƒï¼Œå·²åŒæ„å°†å…¶ IMS Nanofabrication GmbH (â€œIMSâ€) ä¸šåŠ¡çº¦ 20% çš„è‚¡ä»½å‡ºå”®ç»™ Bain Capital Special Situationsï¼ˆâ€œè´æ©èµ„æœ¬â€ï¼‰å¤„ç†çš„ä¸€é¡¹äº¤æ˜“ä¸­ï¼ŒIMS çš„ä¼°å€¼çº¦ä¸º 43 äº¿ç¾å…ƒã€‚
è¯¥äº¤æ˜“é¢„è®¡å°†äº 2023 å¹´ç¬¬ä¸‰å­£åº¦å®Œæˆã€‚IMS å°†ä½œä¸ºç‹¬ç«‹å­å…¬å¸è¿è¥ï¼Œå¹¶ç»§ç»­ç”±é¦–å¸­æ‰§è¡Œå®˜ Elmar Platzgummer åšå£«é¢†å¯¼ã€‚
è‹±ç‰¹å°”æ–¹é¢é€éœ²ï¼šâ€œè€ƒè™‘åˆ°ä¼°å€¼æ°´å¹³å’ŒæŠ•èµ„æ°´å¹³ï¼Œè¿™å°†æˆä¸ºæˆ‘ä»¬æœ‰å²ä»¥æ¥æœ€å¥½çš„æ”¶è´­ä¹‹ä¸€ã€‚â€
è‡ª 2015 å¹´å‘æ˜å¤šç”µå­æŸæŠ€æœ¯å¹¶æ¨å‡ºé¦–æ¬¾å•†ç”¨å¤šå…‰æŸæ©æ¨¡å†™å…¥å™¨ä»¥æ¥ï¼Œæ€»éƒ¨ä½äºå¥¥åœ°åˆ©ç»´ä¹Ÿçº³çš„ IMS ä¸€ç›´æ˜¯å…ˆè¿›æŠ€æœ¯èŠ‚ç‚¹å¤šå…‰æŸæ©æ¨¡å†™å…¥é¢†åŸŸçš„è¡Œä¸šé¢†å¯¼è€…ã€‚è‹±ç‰¹å°”æœ€åˆäº 2009 å¹´æŠ•èµ„ IMSï¼Œå¹¶æœ€ç»ˆäº 2015 å¹´æ”¶è´­äº†è¯¥ä¸šåŠ¡ã€‚è‡ªæ”¶è´­ä»¥æ¥ï¼ŒIMS ä¸ºè‹±ç‰¹å°”å¸¦æ¥äº†æ˜¾è‘—çš„æŠ•èµ„å›æŠ¥ï¼ŒåŒæ—¶å°†å…¶å‘˜å·¥å’Œç”Ÿäº§èƒ½åŠ›å¢é•¿äº†å››å€ï¼Œå¹¶äº¤ä»˜äº†å¦å¤–ä¸‰ä»£äº§å“ã€‚
å¦‚ä»Šï¼Œéšç€ EUV æŠ€æœ¯åœ¨å‰æ²¿æŠ€æœ¯ä¸­å¾—åˆ°å¹¿æ³›é‡‡ç”¨ï¼Œåˆ›å»ºé«˜çº§ EUVï¼ˆæç´«å¤–å…‰åˆ»ï¼‰æ©æ¨¡æ‰€éœ€çš„å¤šå…‰æŸæ©æ¨¡å†™å…¥å·¥å…·å·²æˆä¸ºåŠå¯¼ä½“åˆ¶é€ ç”Ÿæ€ç³»ç»Ÿä¸­è¶Šæ¥è¶Šé‡è¦çš„ç»„æˆéƒ¨åˆ†ã€‚è¿™é¡¹æŠ•èµ„å°†ä½¿ IMS èƒ½å¤Ÿé€šè¿‡åŠ é€Ÿåˆ›æ–°å’Œå®ç°æ›´æ·±å…¥çš„è·¨è¡Œä¸šåˆä½œæ¥æŠ“ä½å¤šå…‰æŸæ©æ¨¡å†™å…¥å·¥å…·çš„é‡è¦å¸‚åœºæœºä¼šã€‚
ä¼ä¸šå‘å±•é«˜çº§å‰¯æ€»è£ Matt Poirier è¡¨ç¤ºï¼šâ€œå…‰åˆ»æŠ€æœ¯çš„è¿›æ­¥å¯¹äºæ¨åŠ¨åŠå¯¼ä½“è¡Œä¸šçš„æŒç»­è¿›æ­¥è‡³å…³é‡è¦ï¼Œè€Œæ©æ¨¡å†™å…¥åœ¨è¡Œä¸šå‘æ–°å›¾æ¡ˆæŠ€æœ¯ï¼ˆä¾‹å¦‚é«˜æ•°å€¼å­”å¾„ EUVï¼‰è¿‡æ¸¡ä¸­å‘æŒ¥ç€æ ¸å¿ƒä½œç”¨ã€‚â€åœ¨è‹±ç‰¹å°”ã€‚â€œè´æ©èµ„æœ¬çš„æŠ•èµ„å’Œåˆä½œå°†ä¸º IMS æä¾›æ›´å¤§çš„ç‹¬ç«‹æ€§ï¼Œå¹¶å¸¦æ¥æˆ˜ç•¥è§†è§’ï¼Œå¸®åŠ©åŠ é€Ÿä¸‹ä¸€é˜¶æ®µçš„å…‰åˆ»æŠ€æœ¯åˆ›æ–°ï¼Œæœ€ç»ˆä½¿æ•´ä¸ªç”Ÿæ€ç³»ç»Ÿå—ç›Šã€‚â€
Platzgummer è¡¨ç¤ºï¼šâ€œæˆ‘ä»¬å¾ˆé«˜å…´èƒ½è·å¾—è´æ©èµ„æœ¬è¿™ä¸€å®è´µçš„åˆä½œä¼™ä¼´ï¼Œè´æ©èµ„æœ¬åœ¨ä¸ä¼ä¸šåˆä½œæ¨åŠ¨å¢é•¿å’Œä»·å€¼åˆ›é€ æ–¹é¢æ‹¥æœ‰æ‚ ä¹…çš„å†å²ã€‚éšç€ EUV å˜å¾—æ›´åŠ æ™®éå’Œé«˜æ•ˆï¼Œä»–ä»¬ä¸æˆ‘ä»¬ä¸€æ ·åšä¿¡ IMS é¢ä¸´ç€æœ‰æ„ä¹‰çš„æœºé‡ã€‚High-NA EUV åœ¨æœ¬ä¸–çºªä¸‹åŠå¶ä»å¼€å‘è½¬å‘å¤§æ‰¹é‡åˆ¶é€ ã€‚æˆ‘ä»¬æœŸå¾…æ‰©å¤§æˆ‘ä»¬çš„èƒ½åŠ›ï¼Œä¸ºä¸–ç•Œä¸Šæœ€å¤§çš„èŠ¯ç‰‡ç”Ÿäº§å•†æä¾›æ”¯æŒï¼Œä»–ä»¬ä¾é æˆ‘ä»¬çš„æŠ€æœ¯æ¥ç”Ÿäº§å½“å‰å’Œä¸‹ä¸€ä»£åŠå¯¼ä½“äº§å“ã€‚
è´æ©èµ„æœ¬ (Bain Capital) åˆä¼™äºº Marvin Larbi-Yeboa è¡¨ç¤ºï¼šâ€œä½œä¸ºåŠå¯¼ä½“åˆ¶é€ å’Œçº³ç±³æŠ€æœ¯è¡Œä¸šæ–°å…´æŠ€æœ¯çš„å…¨çƒé¢†å¯¼è€…å’Œåˆ›æ–°è€…ï¼Œæˆ‘ä»¬ç›¸ä¿¡ IMS å¤„äºæœ‰åˆ©åœ°ä½ï¼Œèƒ½å¤Ÿåˆ©ç”¨éšç€èŠ¯ç‰‡äº§èƒ½å¢åŠ è€Œå¸¦æ¥çš„æœ‰å¸å¼•åŠ›çš„é•¿æœŸæœ‰åˆ©å› ç´ åœ¨çº¿å¹¶å»ºç«‹å…¶é¢†å…ˆçš„ç«äº‰åœ°ä½ã€æŠ€æœ¯å·®å¼‚åŒ–å’Œå°–ç«¯çš„äº§å“èƒ½åŠ›ã€‚â€
è´æ©èµ„æœ¬è‘£äº‹æ€»ç»ç† Will Tetler è¡¥å……é“ï¼šâ€œæˆ‘ä»¬æœŸå¾…ä¸ IMS å“è¶Šçš„ç®¡ç†å›¢é˜Ÿå’Œè‹±ç‰¹å°”åˆä½œï¼Œåˆ©ç”¨æˆ‘ä»¬æ·±åšçš„è¡Œä¸šç»éªŒå’Œä»·å€¼åˆ›é€ èƒ½åŠ›ï¼Œé€šè¿‡è¿›ä¸€æ­¥æŠ•èµ„æ”¯æŒä¸šåŠ¡çš„é•¿æœŸå¢é•¿æˆ˜ç•¥å…¶é¢†å…ˆçš„æŠ€æœ¯å’Œäº§å“ç»„åˆä½¿ IMS èƒ½å¤Ÿæ‰©å¤§å…¶ç«äº‰å¸‚åœºåœ°ä½ã€‚â€
]]></content>
  </entry>
  
  <entry>
    <title>STM32çš„å®Œæ•´å¯åŠ¨æµç¨‹åˆ†æ</title>
    <url>/post/mcu/STM32-whole-boot-up-process-analysis.html</url>
    <categories><category>MCU</category>
    </categories>
    <tags>
      <tag>STM32</tag>
      <tag>boot up</tag>
      <tag>process</tag>
    </tags>
    <content type="html"><![CDATA[å…³äºSTM32çš„å¯åŠ¨æµç¨‹ï¼Œç½‘ä¸Šæœ‰çš„èµ„æ–™åœ¨è®¨è®ºå‡ ç§bootæ¨¡å¼ï¼Œæœ‰çš„åœ¨å›ç­”å¯åŠ¨æ–‡ä»¶çš„å†…å®¹ï¼Œåœ¨æŸ¥é˜…äº†å¾ˆå¤šèµ„æ–™åï¼Œæœ¬æ–‡ç»™å‡ºä¸€ä¸ªæ¯”è¾ƒå…¨é¢çš„æ€»ç»“å’Œå›ç­”ã€‚
æ ¹æ®bootå¼•è„šå†³å®šä¸‰ç§å¯åŠ¨æ¨¡å¼ å¤ä½åï¼Œåœ¨ SYSCLK çš„ç¬¬å››ä¸ªä¸Šå‡æ²¿é”å­˜ BOOT å¼•è„šçš„å€¼ã€‚BOOT0 ä¸ºä¸“ç”¨å¼•è„šï¼Œè€Œ BOOT1 åˆ™ä¸ GPIO å¼•è„šå…±ç”¨ã€‚ä¸€æ—¦å®Œæˆå¯¹ BOOT1 çš„é‡‡æ ·ï¼Œç›¸åº” GPIO å¼•è„šå³è¿›å…¥ç©ºé—²çŠ¶æ€ï¼Œå¯ç”¨äºå…¶å®ƒç”¨é€”ã€‚BOOT0ä¸BOOT1å¼•è„šçš„ä¸åŒå€¼æŒ‡å‘äº†ä¸‰ç§å¯åŠ¨æ–¹å¼ï¼š
  ä»ä¸»Flashå¯åŠ¨ã€‚ä¸»FlashæŒ‡çš„æ˜¯STM32çš„å†…ç½®Flashã€‚é€‰æ‹©è¯¥å¯åŠ¨æ¨¡å¼åï¼Œå†…ç½®Flashçš„èµ·å§‹åœ°å€å°†è¢«é‡æ˜ å°„åˆ°0x00000000åœ°å€ï¼Œä»£ç å°†åœ¨è¯¥å¤„å¼€å§‹æ‰§è¡Œã€‚ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨JTAGæˆ–è€…SWDæ¨¡å¼ä¸‹è½½è°ƒè¯•ç¨‹åºæ—¶ï¼Œå°±æ˜¯ä¸‹è½½åˆ°è¿™é‡Œé¢ï¼Œé‡å¯åä¹Ÿç›´æ¥ä»è¿™å¯åŠ¨ã€‚
  ä»ç³»ç»Ÿå­˜å‚¨å™¨å¯åŠ¨ã€‚ç³»ç»Ÿå‚¨å­˜å™¨æŒ‡çš„æ˜¯STM32çš„å†…ç½®ROMï¼Œé€‰æ‹©è¯¥å¯åŠ¨æ¨¡å¼åï¼Œå†…ç½®ROMçš„èµ·å§‹åœ°å€å°†è¢«é‡æ˜ å°„åˆ°0x00000000åœ°å€ï¼Œä»£ç åœ¨æ­¤å¤„å¼€å§‹è¿è¡Œã€‚ROMä¸­æœ‰ä¸€æ®µå‡ºå‚é¢„ç½®çš„ä»£ç ï¼Œè¿™æ®µä»£ç èµ·åˆ°ä¸€ä¸ªæ¡¥çš„ä½œç”¨ï¼Œå…è®¸å¤–éƒ¨é€šè¿‡UART/CANæˆ–USBç­‰å°†ä»£ç å†™å…¥STM32çš„å†…ç½®Flashä¸­ã€‚è¿™æ®µä»£ç ä¹Ÿè¢«ç§°ä¸ºISP(In System Programing)ä»£ç ï¼Œè¿™ç§çƒ§å½•ä»£ç çš„æ–¹å¼ä¹Ÿè¢«ç§°ä¸ºISPçƒ§å½•ã€‚å…³äºISPã€ICPå’ŒIAPä¹‹é—´çš„åŒºåˆ«å°†åœ¨åç»­ç« èŠ‚ä¸­ä»‹ç»ã€‚
  ä»åµŒå…¥å¼SRAMä¸­å¯åŠ¨ã€‚æ˜¾ç„¶ï¼Œè¯¥æ–¹æ³•æ˜¯åœ¨STM32çš„å†…ç½®SRAMä¸­å¯åŠ¨ï¼Œé€‰æ‹©è¯¥å¯åŠ¨æ¨¡å¼åï¼Œå†…ç½®SRAMçš„èµ·å§‹åœ°å€å°†è¢«é‡æ˜ å°„åˆ°0x00000000åœ°å€ï¼Œä»£ç åœ¨æ­¤å¤„å¼€å§‹è¿è¡Œã€‚è¿™ç§æ¨¡å¼ç”±äºçƒ§å½•ç¨‹åºè¿‡ç¨‹ä¸­ä¸éœ€è¦æ“¦å†™Flashï¼Œå› æ­¤é€Ÿåº¦è¾ƒå¿«ï¼Œé€‚åˆè°ƒè¯•ï¼Œä½†æ˜¯æ‰ç”µä¸¢å¤±ã€‚
  æ€»ç»“ï¼šä¸Šé¢çš„æ¯ä¸€ç§å¯åŠ¨æ–¹å¼æˆ‘éƒ½æè¿°äº†â€œxxxçš„èµ·å§‹åœ°å€è¢«é‡æ˜ å°„åˆ°äº†0x00000000åœ°å€ï¼Œä»è€Œä»£ç ä»xxxå¼€å§‹å¯åŠ¨â€ï¼Œå¦‚ä¸‹å›¾æ˜¯STM32F4xxä¸­æ–‡å‚è€ƒæ‰‹å†Œä¸­çš„å›¾ï¼Œå¯ä»¥çœ‹åˆ°ç±»ä¼¼çš„è¡¨è¿°ã€‚åŒæ—¶ï¼Œåœ¨ä¸‹å›¾ä¸­ä¹Ÿå±•ç¤ºäº†STM32F4xxä¸­ç»Ÿä¸€ç¼–å€ä¸‹ï¼Œå„å†…å­˜çš„åœ°å€åˆ†é…ï¼Œæ³¨æ„ä¸€ç‚¹ï¼Œå³ä½¿ç›¸åº”çš„å†…å­˜è¢«æ˜ å°„åˆ°äº†0x00000000èµ·å§‹çš„åœ°å€ï¼Œé€šè¿‡å…¶åŸæ¥åœ°å€ä¾ç„¶æ˜¯å¯ä»¥è®¿é—®çš„ã€‚
å¯åŠ¨åbootloaderåšäº†ä»€ä¹ˆï¼Ÿ æ ¹æ®BOOTå¼•è„šç¡®å®šäº†å¯åŠ¨æ–¹å¼åï¼Œå¤„ç†å™¨è¿›è¡Œçš„ç¬¬äºŒå¤§æ­¥å°±æ˜¯å¼€å§‹ä»0x00000000åœ°å€å¤„å¼€å§‹æ‰§è¡Œä»£ç ï¼Œè€Œè¯¥å¤„å­˜æ”¾çš„ä»£ç æ­£æ˜¯bootloaderã€‚
bootloaderï¼Œä¹Ÿå¯ä»¥å«å¯åŠ¨æ–‡ä»¶ï¼Œæ— è®ºæ€§èƒ½é«˜ä¸‹ï¼Œç»“æ„ç®€ç¹ï¼Œä»·æ ¼è´µè´±ï¼Œæ¯ä¸€ç§å¾®æ§åˆ¶å™¨(å¤„ç†å™¨)éƒ½å¿…é¡»æœ‰å¯åŠ¨æ–‡ä»¶ï¼Œå¯åŠ¨æ–‡ä»¶çš„ä½œç”¨ä¾¿æ˜¯è´Ÿè´£æ‰§è¡Œå¾®æ§åˆ¶å™¨ä»â€œå¤ä½â€åˆ°â€œå¼€å§‹æ‰§è¡Œmainå‡½æ•°â€ä¸­é—´è¿™æ®µæ—¶é—´(ç§°ä¸ºå¯åŠ¨è¿‡ç¨‹)æ‰€å¿…é¡»è¿›è¡Œçš„å·¥ä½œã€‚æœ€ä¸ºå¸¸è§çš„51ï¼ŒAVRæˆ–MSP430ç­‰å¾®æ§åˆ¶å™¨å½“ç„¶ä¹Ÿæœ‰å¯¹åº”å¯åŠ¨æ–‡ä»¶ï¼Œä½†å¼€å‘ç¯å¢ƒå¾€å¾€è‡ªåŠ¨å®Œæ•´åœ°æä¾›äº†è¿™ä¸ªå¯åŠ¨æ–‡ä»¶ï¼Œä¸éœ€è¦å¼€å‘äººå‘˜å†è¡Œå¹²é¢„å¯åŠ¨è¿‡ç¨‹ï¼Œåªéœ€è¦ä»mainå‡½æ•°å¼€å§‹è¿›è¡Œåº”ç”¨ç¨‹åºçš„è®¾è®¡å³å¯ã€‚åŒæ ·ï¼ŒSTM32å¾®æ§åˆ¶å™¨ï¼Œæ— è®ºæ˜¯keiluvision4è¿˜æ˜¯IAR EWARMå¼€å‘ç¯å¢ƒï¼ŒSTå…¬å¸éƒ½æä¾›äº†ç°æˆçš„ç›´æ¥å¯ç”¨çš„å¯åŠ¨æ–‡ä»¶ã€‚
ç½‘ä¸Šæœ‰å¾ˆå¤šèµ„æ–™åˆ†æäº†STM32çš„å¯åŠ¨æ–‡ä»¶çš„å†…å®¹ï¼Œåœ¨æ­¤æˆ‘åªè¿›è¡Œç®€å•çš„è¡¨è¿°ã€‚å¯åŠ¨æ–‡ä»¶ä¸­é¦–å…ˆä¼šå®šä¹‰å †æ ˆï¼Œå®šä¹‰ä¸­æ–­/å¼‚å¸¸å‘é‡è¡¨ï¼Œè€Œå…¶ä¸­åªå®ç°äº†å¤ä½çš„å¼‚å¸¸å¤„ç†å‡½æ•°Reset_Handlerï¼Œè¯¥å‡½æ•°å†…å®¹å¦‚ä¸‹(STM32F4XXï¼ŒIARç¼–è¯‘å™¨)ï¼Œå¯ä»¥çœ‹åˆ°å…¶ä¸»è¦æ‰§è¡Œäº†SystemInitå’Œ__iar_program_startä¸¤ä¸ªå‡½æ•°ï¼Œå…¶ä¸»è¦åŠŸèƒ½é™¤äº†åˆå§‹åŒ–æ—¶é’Ÿï¼ŒFPUç­‰ï¼Œè¿˜ä¼šæ‰§è¡Œä¸€ä¸ªé‡è¦åŠŸèƒ½ï¼Œé‚£å°±æ˜¯å†…å­˜çš„æ¬ç§»ã€åˆå§‹åŒ–æ“ä½œã€‚ è¿™æ˜¯æˆ‘æƒ³é‡ç‚¹ä»‹ç»çš„å†…å®¹ï¼ŒåŒæ—¶ä¹Ÿä¼šå›ç­”ä¸€ä¸ªç–‘é—®ï¼Œå°±æ˜¯å¦‚æœä»Flashå¯åŠ¨çš„è¯ï¼Œä»£ç ç©¶ç«Ÿæ˜¯è¿è¡Œåœ¨å“ªå„¿çš„ï¼Ÿåœ¨æˆ‘ä¹‹å‰æ¥è§¦ARM9ã€CortexAç³»åˆ—çš„æ—¶å€™ï¼Œä¸€èˆ¬éƒ½æ˜¯æŠŠä»£ç æ¬åˆ°å†…éƒ¨çš„SRAMæˆ–è€…å¤–éƒ¨DDRä¸­æ‰§è¡Œçš„ï¼ŒSTM32æ˜¯å¦‚ä½•å‘¢ï¼Ÿç­”æ¡ˆä¸‹ä¸€å°èŠ‚æ­æ™“ã€‚
bootloaderä¸­å¯¹å†…å­˜çš„æ¬ç§»å’Œåˆå§‹åŒ– æœ¬èŠ‚é’ˆå¯¹ç¨‹åºåœ¨å†…ç½®Flashä¸­å¯åŠ¨çš„æƒ…å†µè¿›è¡Œåˆ†æã€‚
æˆ‘ä»¬çŸ¥é“çƒ§å½•çš„é•œåƒæ–‡ä»¶ä¸­åŒ…å«åªè¯»ä»£ç æ®µ.textï¼Œå·²åˆå§‹åŒ–æ•°æ®æ®µ.dataå’Œæœªåˆå§‹åŒ–çš„æˆ–è€…åˆå§‹åŒ–ä¸º0çš„æ•°æ®æ®µ.bssã€‚ä»£ç æ®µç”±äºæ˜¯åªè¯»çš„ï¼Œæ‰€ä»¥æ˜¯å¯ä»¥ä¸€ç›´æ”¾åœ¨Flashä¸­ï¼ŒCPUé€šè¿‡æ€»çº¿å»è¯»å–ä»£ç æ‰§è¡Œå°±OKï¼Œä½†æ˜¯.dataæ®µå’Œ.bssæ®µç”±äºä¼šæ¶‰åŠè¯»å†™ä¸ºäº†ï¼Œä¸ºäº†æ›´é«˜çš„è¯»å†™æ•ˆç‡æ˜¯è¦ä¸€å®šæ¬åˆ°RAMä¸­æ‰§è¡Œçš„ï¼Œå› æ­¤bootloaderä¼šæ‰§è¡Œå¾ˆé‡è¦çš„ä¸€æ­¥ï¼Œå°±æ˜¯ä¼šåœ¨RAMä¸­åˆå§‹åŒ–.dataå’Œ.bssæ®µï¼Œæ¬ç§»æˆ–æ¸…ç©ºç›¸åº”å†…å­˜åŒºåŸŸã€‚
å› æ­¤æˆ‘ä»¬çŸ¥é“ï¼Œå½“å¯åŠ¨æ–¹å¼é€‰æ‹©çš„æ˜¯ä»å†…ç½®Flashå¯åŠ¨çš„æ—¶å€™ï¼Œä»£ç ä¾æ—§æ˜¯åœ¨Flashä¸­æ‰§è¡Œï¼Œè€Œæ•°æ®åˆ™ä¼šè¢«æ‹·è´åˆ°å†…éƒ¨SRAMä¸­ï¼Œè¯¥è¿‡ç¨‹æ˜¯ç”±bootloaderå®Œæˆçš„ã€‚bootloaderåœ¨å®Œæˆè¿™äº›æµç¨‹ä¹‹åï¼Œå°±ä¼šå°†ä»£ç äº¤ç»™mainå‡½æ•°å¼€å§‹æ‰§è¡Œç”¨æˆ·ä»£ç ã€‚
  ç°åœ¨è®©æˆ‘ä»¬æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼ŒPCæœºåœ¨è¿è¡Œç¨‹åºçš„æ—¶å€™å°†ç¨‹åºä»å¤–å­˜ï¼ˆç¡¬ç›˜ï¼‰ä¸­ï¼Œè°ƒå…¥åˆ°RAMä¸­è¿è¡Œï¼ŒCPUä»RAMä¸­è¯»å–ç¨‹åºå’Œæ•°æ®ï¼›è€Œå•ç‰‡æœºçš„ç¨‹åºåˆ™æ˜¯å›ºåŒ–åœ¨Flashä¸­ï¼ŒCPUè¿è¡Œæ—¶ç›´æ¥ä»Flashä¸­è¯»å–ç¨‹åºï¼Œä»RAMä¸­è¯»å–æ•°æ®ï¼Œé‚£ä¹ˆPCæœºèƒ½ä»Flashä¹‹ç±»çš„å­˜å‚¨ä»‹è´¨ä¸­ç›´æ¥è¯»ä»£ç æ‰§è¡Œå—ï¼Ÿ
  ç­”æ¡ˆæ˜¯ä¸è¡Œã€‚å› ä¸ºx86æ„æ¶çš„CPUæ˜¯åŸºäºå†¯.è¯ºä¾æ›¼ä½“ç³»çš„ï¼Œå³æ•°æ®å’Œç¨‹åºå­˜å‚¨åœ¨ä¸€èµ·ï¼Œè€Œä¸”PCæœºçš„RAMèµ„æºç›¸å½“ä¸°å¯Œï¼Œä»å‡ åMåˆ°å‡ ç™¾Mç”šè‡³æ˜¯å‡ ä¸ªGï¼Œå®¢è§‚ä¸Šèƒ½å¤Ÿæ‰¿å—å¤§é‡çš„ç¨‹åºæ•°æ®ã€‚ä½†æ˜¯å•ç‰‡æœºçš„æ„æ¶å¤§å¤šæ˜¯å“ˆå¼—ä½“ç³»çš„ï¼Œå³ç¨‹åºå’Œæ•°æ®åˆ†å¼€å­˜å‚¨ï¼Œè€Œä¸”å•ç‰‡çš„ç‰‡å†…RAMèµ„æºæ˜¯ç›¸å½“æœ‰é™çš„ï¼Œå†…éƒ¨çš„RAMè¿‡å¤§ä¼šå¸¦æ¥æˆæœ¬çš„å¤§å¹…åº¦æé«˜ã€‚
  ISPã€IAPã€ICPä¸‰ç§çƒ§å½•æ–¹å¼ è™½ç„¶è¿™ä¸ªå°èŠ‚ç¨ç¨åé¢˜ï¼Œä½†æ˜¯ç”±äºä¸Šé¢åœ¨3ä¸­å¯åŠ¨æ–¹å¼ä¸­ä»‹ç»è¿‡äº†ISPçƒ§å½•ï¼Œå› æ­¤ä¸€å¹¶åœ¨æ­¤ä»‹ç»å‰©ä¸‹çš„ä¸¤ç§çƒ§å½•æ–¹å¼ã€‚
  ICP(In Circuit Programing)ã€‚åœ¨ç”µè·¯ç¼–ç¨‹ï¼Œå¯é€šè¿‡CPUçš„Debug Access Port çƒ§å½•ä»£ç ï¼Œæ¯”å¦‚ARM Cortexçš„Debug Interfaceä¸»è¦æ˜¯SWD(Serial Wire Debug)æˆ–JTAG(Joint Test Action Group)ï¼›
  ISP(In System Programing)ã€‚åœ¨ç³»ç»Ÿç¼–ç¨‹ï¼Œå¯å€ŸåŠ©MCUå‚å•†é¢„ç½®çš„Bootloader å®ç°é€šè¿‡æ¿è½½UARTæˆ–USBæ¥å£çƒ§å½•ä»£ç ã€‚
  IAP(In Applicating Programing)ã€‚åœ¨åº”ç”¨ç¼–ç¨‹ï¼Œç”±å¼€å‘è€…å®ç°BootloaderåŠŸèƒ½ï¼Œæ¯”å¦‚STM32å­˜å‚¨æ˜ å°„Codeåˆ†åŒºä¸­çš„Flashæœ¬æ˜¯å­˜å‚¨ç”¨æˆ·åº”ç”¨ç¨‹åºçš„åŒºé—´ï¼ˆä¸Šç”µä»æ­¤å¤„æ‰§è¡Œç”¨æˆ·ä»£ç ï¼‰ï¼Œå¼€å‘è€…å¯ä»¥å°†è‡ªå·±å®ç°çš„Bootloaderå­˜æ”¾åˆ°FlashåŒºé—´ï¼ŒMCUä¸Šç”µå¯åŠ¨å…ˆæ‰§è¡Œç”¨æˆ·çš„Bootloaderä»£ç ï¼Œè¯¥ä»£ç å¯ä¸ºç”¨æˆ·åº”ç”¨ç¨‹åºçš„ä¸‹è½½ã€æ ¡éªŒã€å¢é‡/è¡¥ä¸æ›´æ–°ã€å‡çº§ã€æ¢å¤ç­‰æä¾›æ”¯æŒï¼Œå¦‚æœç”¨æˆ·ä»£ç æä¾›äº†ç½‘ç»œè®¿é—®åŠŸèƒ½ï¼ŒIAP è¿˜èƒ½é€šè¿‡æ— çº¿ç½‘ç»œä¸‹è½½æ›´æ–°ä»£ç ï¼Œå®ç°OTAç©ºä¸­å‡çº§åŠŸèƒ½ã€‚
  IAPå’ŒISP çš„åŒºåˆ«ã€‚
   ISPç¨‹åºä¸€èˆ¬æ˜¯èŠ¯ç‰‡å‚å®¶æä¾›çš„ã€‚IAPä¸€èˆ¬æ˜¯ç”¨æˆ·è‡ªå·±ç¼–å†™çš„ ISPä¸€èˆ¬æ”¯æŒçš„çƒ§å½•æ–¹å¼æœ‰é™ï¼Œåªæœ‰ä¸²å£ç­‰ã€‚IAPå°±æ¯”è¾ƒçµæ´»ï¼Œå¯ä»¥çµæ´»çš„ä½¿ç”¨å„ç§é€šä¿¡åè®®çƒ§å½• ispä¸€èˆ¬éœ€è¦èŠ¯ç‰‡è¿›è¡Œä¸€äº›ç¡¬ä»¶ä¸Šçš„æ“ä½œæ‰è¡Œï¼ŒIAPå…¨éƒ¨å·¥ä½œç”±ç¨‹åºå®Œæˆï¼Œä¸éœ€è¦å»ç°åœº ispä¸€èˆ¬åªéœ€è¦æŒ‰æ ¼å¼å°†å‡çº§æ–‡ä»¶é€šè¿‡ä¸²å£å‘é€å°±å¯ä»¥ã€‚IAPçš„è¯æ§åˆ¶ç›¸å¯¹éº»çƒ¦ï¼Œå¦‚æœæ˜¯OTAçš„è¯è¿˜éœ€è¦ç¼–å†™åå°çš„ã€‚ æ³¨æ„ï¼Œè¿™é‡Œä»‹ç»çš„bootloaderåŠŸèƒ½æ˜¾ç„¶è·Ÿä¹‹å‰ä»‹ç»çš„å¯åŠ¨æ–‡ä»¶bootloaderæœ‰æ‰€åŒºåˆ«ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†èƒ½æ¥å—å¤–éƒ¨é•œåƒè¿›è¡Œçƒ§å½•ï¼Œè€Œä¸æ˜¯ä¸ºäº†è¿è¡Œæ™®é€šç”¨æˆ·ç¨‹åºã€‚ ]]></content>
  </entry>
  
  <entry>
    <title>ä»€ä¹ˆæ˜¯å¤§æ•°æ®æ—¶ä»£</title>
    <url>/post/news/what-is-the-era-of-big-data.html</url>
    <categories><category>News</category>
    </categories>
    <tags>
      <tag>Big Data</tag>
    </tags>
    <content type="html"><![CDATA[æœ€æ—©æå‡º&quot;å¤§æ•°æ®&quot;æ—¶ä»£åˆ°æ¥çš„æ˜¯å…¨çƒçŸ¥åå’¨è¯¢å…¬å¸éº¦è‚¯é”¡ï¼Œéº¦è‚¯é”¡ç§°:&ldquo;æ•°æ®ï¼Œå·²ç»æ¸—é€åˆ°å½“ä»Šæ¯ä¸€ä¸ªè¡Œä¸šå’Œä¸šåŠ¡èŒèƒ½é¢†åŸŸï¼Œæˆä¸ºé‡è¦çš„ç”Ÿäº§å› ç´ ã€‚
äººä»¬å¯¹äºæµ·é‡æ•°æ®çš„æŒ–æ˜å’Œè¿ç”¨ï¼Œé¢„ç¤ºç€æ–°ä¸€æ³¢ç”Ÿäº§ç‡å¢é•¿å’Œæ¶ˆè´¹è€…ç›ˆä½™æµªæ½®çš„åˆ°æ¥ã€‚&rdquo; &ldquo;å¤§æ•°æ®&quot;åœ¨ç‰©ç†å­¦ã€ç”Ÿç‰©å­¦ã€ç¯å¢ƒç”Ÿæ€å­¦ç­‰é¢†åŸŸä»¥åŠå†›äº‹ã€é‡‘èã€é€šè®¯ç­‰è¡Œä¸šå­˜åœ¨å·²æœ‰æ—¶æ—¥ï¼Œå´å› ä¸ºè¿‘å¹´æ¥äº’è”ç½‘å’Œä¿¡æ¯è¡Œä¸šçš„å‘å±•è€Œå¼•èµ·äººä»¬å…³æ³¨ã€‚ç®€å•æ¥è¯´ï¼šå¤§é‡æ•°æ® + äº‘è®¡ç®— = å¤§æ•°æ®æ—¶ä»£
å¤§æ•°æ®ç‰¹å¾ ###æ•°æ®é‡å¤§(Volume)
ç¬¬ä¸€ä¸ªç‰¹å¾æ˜¯æ•°æ®é‡å¤§ã€‚å¤§æ•°æ®çš„èµ·å§‹è®¡é‡å•ä½è‡³å°‘æ˜¯P(1000ä¸ªT)ã€E(100ä¸‡ä¸ªT)æˆ–Z(10äº¿ä¸ªT)ã€‚
ç±»å‹ç¹å¤š(Variety) ç¬¬äºŒä¸ªç‰¹å¾æ˜¯æ•°æ®ç±»å‹ç¹å¤šã€‚åŒ…æ‹¬ç½‘ç»œæ—¥å¿—ã€éŸ³é¢‘ã€è§†é¢‘ã€å›¾ç‰‡ã€åœ°ç†ä½ç½®ä¿¡æ¯ç­‰ç­‰ï¼Œå¤šç±»å‹çš„æ•°æ®å¯¹æ•°æ®çš„å¤„ç†èƒ½åŠ›æå‡ºäº†æ›´é«˜çš„è¦æ±‚ã€‚
ä»·å€¼å¯†åº¦ä½(Value) ç¬¬ä¸‰ä¸ªç‰¹å¾æ˜¯æ•°æ®ä»·å€¼å¯†åº¦ç›¸å¯¹è¾ƒä½ã€‚å¦‚éšç€ç‰©è”ç½‘çš„å¹¿æ³›åº”ç”¨ï¼Œä¿¡æ¯æ„ŸçŸ¥æ— å¤„ä¸åœ¨ï¼Œä¿¡æ¯æµ·é‡ï¼Œä½†ä»·å€¼å¯†åº¦è¾ƒä½ï¼Œå¦‚ä½•é€šè¿‡å¼ºå¤§çš„æœºå™¨ç®—æ³•æ›´è¿…é€Ÿåœ°å®Œæˆæ•°æ®çš„ä»·å€¼&quot;æçº¯&rdquo;ï¼Œæ˜¯å¤§æ•°æ®æ—¶ä»£äºŸå¾…è§£å†³çš„éš¾é¢˜ã€‚
é€Ÿåº¦å¿«ã€æ—¶æ•ˆé«˜(Velocity) ç¬¬å››ä¸ªç‰¹å¾æ˜¯å¤„ç†é€Ÿåº¦å¿«ï¼Œæ—¶æ•ˆæ€§è¦æ±‚é«˜ã€‚è¿™æ˜¯å¤§æ•°æ®åŒºåˆ†äºä¼ ç»Ÿæ•°æ®æŒ–æ˜æœ€æ˜¾è‘—çš„ç‰¹å¾ã€‚
æ—¢æœ‰çš„æŠ€æœ¯æ¶æ„å’Œè·¯çº¿ï¼Œå·²ç»æ— æ³•é«˜æ•ˆå¤„ç†å¦‚æ­¤æµ·é‡çš„æ•°æ®ï¼Œè€Œå¯¹äºç›¸å…³ç»„ç»‡æ¥è¯´ï¼Œå¦‚æœæŠ•å…¥å·¨å¤§é‡‡é›†çš„ä¿¡æ¯æ— æ³•é€šè¿‡åŠæ—¶å¤„ç†åé¦ˆæœ‰æ•ˆä¿¡æ¯ï¼Œé‚£å°†æ˜¯å¾—ä¸å¿å¤±çš„ã€‚å¯ä»¥è¯´ï¼Œå¤§æ•°æ®æ—¶ä»£å¯¹äººç±»çš„æ•°æ®é©¾é©­èƒ½åŠ›æå‡ºäº†æ–°çš„æŒ‘æˆ˜ï¼Œä¹Ÿä¸ºäººä»¬è·å¾—æ›´ä¸ºæ·±åˆ»ã€å…¨é¢çš„æ´å¯Ÿèƒ½åŠ›æä¾›äº†å‰æ‰€æœªæœ‰çš„ç©ºé—´ä¸æ½œåŠ›ã€‚
é‚£ä¹ˆæ•°æ®ç”Ÿæ´»è·ç¦»æˆ‘ä»¬é¥è¿œå—ï¼Ÿ æ­£ç›¸åï¼Œæ•°æ®ä¸æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»çš„è”ç³»ä»æœªå¦‚æ­¤ç´§å¯†è¿‡ï¼Œä»æ²¡æœ‰åƒä»Šå¤©å¦‚æ­¤æ´»è·ƒï¼Œå…·ä½“çš„è®°å½•ç€äººç±»ä¸ä¸–ç•Œã€‚ä»æœ€åˆçš„è®¡ç®—æœºï¼Œæ‘„åƒå¤´åˆ°å®¶ç”¨è®¡ç®—æœºï¼Œæ™ºèƒ½æ‰‹æœºï¼Œå†åˆ°å¤§æ•°æ®å’Œäººå·¥æ™ºèƒ½ï¼Œæˆ‘ä»¬ä¸æ–­å‡çº§é‡‡é›†å’Œåˆ©ç”¨æ•°æ®çš„æ–¹å¼ã€‚è€Œç°åœ¨ï¼Œä»ä¸€è¾†è½¦çš„æ¯æ—¥ç¢³æ’æ”¾é‡ç»Ÿè®¡åˆ°å…¨çƒæ°”æ¸©çš„æ£€æµ‹ï¼Œä»é¢„æµ‹ä¸ªäººåœ¨ç½‘ä¸Šå–œå¥½åˆ†æåˆ°æ€»ç»Ÿé€‰ä¸¾æ—¶æŠ•ç¥¨è¶‹åŠ¿çš„é¢„æµ‹ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥åšåˆ°ã€‚
æ•°æ®å°†äººä¸äººï¼Œäººä¸ä¸–ç•Œè¿æ¥èµ·æ¥ï¼Œæ„æˆä¸€å¼ ç¹å¯†çš„ç½‘ç»œï¼Œæ¯ä¸ªäººéƒ½åœ¨å½±å“ä¸–ç•Œï¼Œåˆåœ¨è¢«ä»–äººå½±å“ç€ã€‚ä¼ ç»Ÿçš„ç»Ÿè®¡æ–¹æ³•å·²ç»æ— æ³•å¤„ç†è¿™ç§ç›¸äº’å½±å“çš„æ•°æ®ï¼Œè¿™ä¹ˆåŠï¼Ÿç­”æ¡ˆæ˜¯è®©æœºå™¨è‡ªå·±æ¥å¤„ç†æ•°æ®ï¼Œä»æ•°æ®ä¸­ä¹ å¾—çŸ¥è¯†ã€‚
è¿™ä¾¿æ˜¯å½“ä»£äººå·¥æ™ºèƒ½çš„æœ¬è´¨ã€‚ä¸ä¼ ç»Ÿçš„æ•°æ®è®°å½•å®šä¹‰ä¸åŒï¼Œè¿™ç§æ•°æ®æ˜¯æœ‰â€œç”Ÿå‘½â€çš„ã€‚å®ƒæ›´åƒæ˜¯æˆ‘ä»¬èº«ä½“çš„ä¸€ç§è‡ªç„¶å»¶ä¼¸ï¼šè†å¬æˆ‘ä»¬çš„å£°éŸ³ï¼Œæ‹“å®½æˆ‘ä»¬çš„è§†é‡ï¼ŒåŠ æ·±æˆ‘ä»¬çš„è®°å¿†ï¼Œç”šè‡³ç»„æˆä¸€ä¸ªä»¥æ•°æ®å½¢å¼å­˜åœ¨çš„â€œæˆ‘â€ã€‚
ç”Ÿæ´»ä¸­çš„å¤§æ•°æ®å¾ˆå¤šï¼Œä»¥ä¸‹æ˜¯å‡ ä¸ªä¾‹å­ï¼š  äº’è”ç½‘æœç´¢ï¼šæ¯å¤©æœ‰æ•°ç™¾ä¸‡çš„æœç´¢è¯·æ±‚ï¼ŒåŒ…å«äº†å¤§é‡çš„å…³é”®å­—å’ŒæŸ¥è¯¢ä¿¡æ¯ã€‚é€šè¿‡åˆ†æè¿™äº›æ•°æ®ï¼Œæœç´¢å¼•æ“å¯ä»¥ä¼˜åŒ–æœç´¢ç®—æ³•ï¼Œæé«˜æœç´¢ç»“æœçš„å‡†ç¡®æ€§ã€‚ ç”µå­å•†åŠ¡ï¼šåœ¨çº¿è´­ç‰©ç½‘ç«™äº§ç”Ÿäº†å¤§é‡çš„æ•°æ®ï¼ŒåŒ…æ‹¬ç”¨æˆ·æµè§ˆã€è´­ä¹°ã€è¯„è®ºã€è¯„åˆ†ç­‰ä¿¡æ¯ã€‚é€šè¿‡åˆ†æè¿™äº›æ•°æ®ï¼Œå•†å®¶å¯ä»¥æ›´å¥½åœ°äº†è§£æ¶ˆè´¹è€…éœ€æ±‚ï¼Œä¼˜åŒ–äº§å“å’ŒæœåŠ¡ã€‚ ç¤¾äº¤åª’ä½“ï¼šç¤¾äº¤åª’ä½“å¦‚Facebookã€Twitterã€å¾®ä¿¡ç­‰äº§ç”Ÿäº†æµ·é‡çš„æ•°æ®ï¼ŒåŒ…æ‹¬ç”¨æˆ·å…³ç³»ã€å…´è¶£çˆ±å¥½ã€ç¤¾äº¤ç½‘ç»œç­‰ã€‚é€šè¿‡åˆ†æè¿™äº›æ•°æ®ï¼Œä¼ä¸šå¯ä»¥äº†è§£æ¶ˆè´¹è€…çš„è¡Œä¸ºå’Œéœ€æ±‚ï¼Œä¼˜åŒ–å®£ä¼ å’Œè¥é”€ç­–ç•¥ã€‚ åŒ»ç–—å¥åº·ï¼šåŒ»ç–—é¢†åŸŸçš„å¤§æ•°æ®å¯ä»¥å¸®åŠ©åŒ»ç”Ÿæ›´å¥½åœ°è¯Šæ–­ç–¾ç—…ã€é¢„æµ‹ç–¾ç—…é£é™©ã€ä¼˜åŒ–æ²»ç–—æ–¹æ¡ˆç­‰ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡åˆ†ææ‚£è€…çš„åŸºå› ç»„æ•°æ®ï¼Œå¯ä»¥æå‰é¢„æµ‹æŸäº›ç–¾ç—…çš„å‘ä½œå¯èƒ½æ€§ï¼ŒåŠæ—¶é‡‡å–å¹²é¢„æªæ–½ã€‚ äº¤é€šè¿è¾“ï¼šç°ä»£äº¤é€šç³»ç»Ÿä¸­äº§ç”Ÿäº†å¤§é‡çš„æ•°æ®ï¼ŒåŒ…æ‹¬è½¦è¾†ä½ç½®ã€é€Ÿåº¦ã€è·¯å†µã€äº¤é€šæµé‡ç­‰ã€‚é€šè¿‡åˆ†æè¿™äº›æ•°æ®ï¼Œäº¤é€šè¿è¾“ç®¡ç†è€…å¯ä»¥æ›´å¥½åœ°è§„åˆ’äº¤é€šã€æé«˜äº¤é€šæ•ˆç‡ï¼Œä¼˜åŒ–åŸå¸‚äº¤é€šç®¡ç†ã€‚  å¤§æ•°æ®çš„åˆ©ä¸å¼Šå¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š åˆ©ï¼š   æä¾›æ›´å‡†ç¡®çš„ä¿¡æ¯ï¼šå¤§æ•°æ®å¯ä»¥æä¾›æµ·é‡ã€å¤šæ ·åŒ–ã€å®æ—¶çš„æ•°æ®ï¼Œå¸®åŠ©ä¼ä¸šå’Œæ”¿åºœæ›´å¥½åœ°äº†è§£å¸‚åœºã€ç”¨æˆ·éœ€æ±‚ã€ç¤¾ä¼šè¶‹åŠ¿ç­‰ï¼Œä»è€Œåšå‡ºæ›´å‡†ç¡®çš„å†³ç­–ã€‚
  ä¼˜åŒ–äº§å“å’ŒæœåŠ¡ï¼šé€šè¿‡åˆ†æå¤§æ•°æ®ï¼Œä¼ä¸šå¯ä»¥äº†è§£æ¶ˆè´¹è€…çš„éœ€æ±‚å’Œä¹ æƒ¯ï¼Œä¼˜åŒ–äº§å“å’ŒæœåŠ¡ï¼Œæé«˜ç”¨æˆ·æ»¡æ„åº¦å’Œå¿ è¯šåº¦ã€‚
  æé«˜æ•ˆç‡å’Œç”Ÿäº§åŠ›ï¼šå¤§æ•°æ®å¯ä»¥ä¼˜åŒ–ç”Ÿäº§æµç¨‹ã€æé«˜ç”Ÿäº§æ•ˆç‡ï¼Œè®©ä¼ä¸šæ›´å¿«åœ°å“åº”å¸‚åœºå˜åŒ–ï¼Œæé«˜ç”Ÿäº§åŠ›ã€‚
  å¼Šï¼š   éšç§é—®é¢˜ï¼šå¤§æ•°æ®æ¶µç›–äº†å¤§é‡çš„ä¸ªäººä¿¡æ¯å’Œæ•°æ®ï¼Œå¦‚æœè¿™äº›æ•°æ®è¢«ä¸æ³•åˆ†å­è·å–ï¼Œå°±ä¼šé€ æˆæå¤§çš„éšç§æ³„éœ²é£é™©ã€‚
  è¯¯å¯¼æ€§ï¼šå¤§æ•°æ®ä¸­æœ‰æ—¶ä¼šå‡ºç°ä¼ªç›¸å…³å…³ç³»ï¼Œéœ€è¦è¿›è¡Œæ·±å…¥çš„æ•°æ®åˆ†æå’ŒæŒ–æ˜ï¼Œå¦åˆ™å¯èƒ½ä¼šå¼•èµ·è¯¯å¯¼ã€‚
  è´¨é‡é—®é¢˜ï¼šå¤§æ•°æ®ä¸­å¯èƒ½åŒ…å«æœ‰è¯¯çš„ã€ä¸å‡†ç¡®çš„æ•°æ®ï¼Œè¿™ä¼šå½±å“åˆ°å¯¹æ•°æ®çš„åˆ†æå’Œåº”ç”¨ã€‚
  æŠ€æœ¯é—¨æ§›é«˜ï¼šå¤§æ•°æ®çš„å¤„ç†éœ€è¦é«˜çº§çš„æŠ€æœ¯å’Œå·¥å…·ï¼Œè¿™ä¼šå¯¼è‡´æŠ€æœ¯é—¨æ§›è¾ƒé«˜ï¼Œå¯¹äºä¸€äº›å°å‹ä¼ä¸šå’Œæ™®é€šç”¨æˆ·æ¥è¯´æ¯”è¾ƒå›°éš¾ã€‚
  æ€»ä¹‹ï¼Œå¤§æ•°æ®è™½ç„¶å¸¦æ¥äº†å¾ˆå¤šçš„æœºé‡å’Œä¼˜åŠ¿ï¼Œä½†ä¹Ÿé¢ä¸´ç€ä¸€äº›æŒ‘æˆ˜å’Œé£é™©ï¼Œéœ€è¦æˆ‘ä»¬åœ¨ä½¿ç”¨å¤§æ•°æ®æ—¶ä¿æŒè­¦æƒ•å’Œè°¨æ…ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>Linuxå†…æ ¸ä¸­ä½¿ç”¨çš„Cè¯­è¨€æŠ€å·§</title>
    <url>/post/programming/c-language-tricks-used-in-the-linux-kernel.html</url>
    <categories><category>Programming</category>
    </categories>
    <tags>
      <tag>C</tag>
      <tag>Embedded</tag>
      <tag>Struct</tag>
    </tags>
    <content type="html"><![CDATA[ä¸‹é¢æ˜¯Linuxå†…æ ¸ä¸­å¸¸å¸¸ä½¿ç”¨åˆ°çš„Cè¯­è¨€æŠ€å·§ï¼Œæ¯”è¾ƒå®ç”¨ï¼Œå°ä¼™ä¼´ä»¬å­¦èµ·æ¥ï¼æ³¨æ„éœ€è¦GCCç¼–è¯‘å™¨æ‰æ”¯æŒè¿™äº›ç‰¹æ€§ã€‚
typeofçš„ä½¿ç”¨ ä¸‹é¢æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„è¿”å›æœ€å¤§å€¼å®å®šä¹‰ï¼Œè¿™ä¸ªå†™æ³•å­˜åœ¨ä¸€äº›é—®é¢˜ã€‚
#define max(a,b) ((a) &gt; (b) ? (a) : (b)) å¦‚æœaä¼ å…¥i++ï¼Œbä¼ å…¥j++ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¯”è¾ƒå¤§å°å°±ä¼šå‡ºé”™ã€‚ä¾‹å¦‚ï¼š
#define max(a,b) ((a)&gt;(b)?(a):(b))  int x = 1, y = 2; printf(&#34;max=%d\n&#34;, max(x++, y++)); printf(&#34;x = %d, y = %d\n&#34;, x, y); ä¸Šé¢ä»£ç è¾“å‡ºï¼šmax=2ï¼Œx=2ï¼Œy=4ï¼Œç»“æœæ˜¯é”™è¯¯ã€‚ä¸ºä¿®æ”¹æ­¤å®ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªå˜é‡å°†aå’Œbçš„å€¼åˆ†åˆ«èµ‹ç»™è¯¥å˜é‡ï¼Œå¹¶å°†è¯¥å˜é‡ä½œä¸ºå‚æ•°ä¼ é€’ç»™maxå®è¿›è¡Œæ¯”è¾ƒã€‚åœ¨GNU Cè¯­è¨€ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç å®ç°ï¼š
#define max(a,b) ({ \ int _a = (a); \  int _b = (b); \ _a &gt; _b ? _a : _b; }) å¦‚æœä¸çŸ¥é“å…·ä½“çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨typeofç±»è½¬æ¢å®ï¼ŒLinuxå†…æ ¸ä¸­çš„ä¾‹å­ï¼š
#define max(a, b) ({ \ typeof(a) _a = (a); \ typeof(b) _b = (b); \ (void) (&amp;_a == &amp;_b); \ _a &gt; _b ? _a : _b; })  typeof(a) _a = (a):å®šä¹‰ä¸€ä¸ªaç±»å‹çš„å˜é‡_aï¼Œå°†aèµ‹å€¼ç»™_a typeof(b) _b = (b):å®šä¹‰ä¸€ä¸ªbç±»å‹çš„å˜é‡_bï¼Œå°†bèµ‹å€¼ç»™_b (void) (&amp;_a == &amp;_b):åˆ¤æ–­ä¸¤ä¸ªæ•°çš„ç±»å‹æ˜¯å¦ç›¸åŒï¼Œå¦‚æœä¸ç›¸åŒï¼Œä¼šæŠ›å‡ºä¸€ä¸ªè­¦å‘Šã€‚å› ä¸ºaå’Œbçš„ç±»å‹ä¸ä¸€æ ·ï¼Œå…¶æŒ‡é’ˆç±»å‹ä¹Ÿä¼šä¸ä¸€æ ·ï¼Œä¸¤ä¸ªä¸ä¸€æ ·çš„æŒ‡é’ˆç±»å‹è¿›è¡Œæ¯”è¾ƒæ“ä½œï¼Œä¼šæŠ›å‡ºè­¦å‘Šã€‚  typeofç”¨æ³•ä¸¾ä¾‹ï¼š
//typeofçš„å‚æ•°å¯ä»¥æ˜¯è¡¨è¾¾å¼æˆ–ç±»å‹  //å‚æ•°æ˜¯ç±»å‹ typeof(int *) a,b;//ç­‰ä»·äºï¼šint *a,*b;  //å‚æ•°æ˜¯è¡¨è¾¾å¼ int foo(); typeof(foo()) var;//å£°æ˜äº†intç±»å‹çš„varå˜é‡ï¼Œå› ä¸ºè¡¨è¾¾å¼foo()æ˜¯intç±»å‹çš„ã€‚ç”±äºè¡¨è¾¾å¼ä¸ä¼šè¢«æ‰§è¡Œï¼Œæ‰€ä»¥ä¸ä¼šè°ƒç”¨fooå‡½æ•°ã€‚ æŸ”æ€§æ•°ç»„ æŸ”æ€§æ•°ç»„ï¼Œä¹Ÿç§°ä¸ºé›¶é•¿æ•°ç»„ï¼Œä¸»è¦ç”¨äºå˜é•¿ç»“æ„ä½“ã€‚å› æ­¤ï¼Œå®ƒæœ‰æ—¶è¢«ç§°ä¸ºå˜é•¿æ•°ç»„ã€‚ä½¿ç”¨æ–¹æ³•æ˜¯åœ¨ç»“æ„ä½“çš„æœ«å°¾å£°æ˜ä¸€ä¸ªé•¿åº¦ä¸º0çš„æ•°ç»„ï¼Œä»è€Œä½¿è¯¥ç»“æ„ä½“å…·æœ‰å¯å˜é•¿åº¦ã€‚å¯¹äºç¼–è¯‘å™¨æ¥è¯´ï¼Œé•¿åº¦ä¸º0çš„æ•°ç»„ä¸å ç”¨ç©ºé—´ï¼Œå› ä¸ºæ•°ç»„åæœ¬èº«åªæ˜¯ä¸€ä¸ªåç§»é‡ï¼Œä»£è¡¨äº†ä¸€ä¸ªä¸å¯ä¿®æ”¹çš„åœ°å€å¸¸é‡ç¬¦å·ã€‚
ç»“æ„ä½“ä¸­å®šä¹‰é›¶é•¿æ•°ç»„ï¼š
&lt;mm/percpu.c&gt; struct pcpu_chunk { struct list_head list; unsigned long populated[]; /* å˜é•¿æ•°ç»„ */ }; æ•°æ®ç»“æ„æœ€åä¸€ä¸ªå…ƒç´ è¢«å®šä¹‰ä¸ºé›¶é•¿åº¦æ•°ç»„ï¼Œä¸å ç»“æ„ä½“ç©ºé—´ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å¯¹è±¡å¤§å°åŠ¨æ€åœ°åˆ†é…ç»“æ„çš„å¤§å°ã€‚
struct line { int length; char contents[0]; }; struct line *thisline = malloc(sizeof(struct line) + this_length); thisline-&gt;length = this_length; å¦‚ä¸Šä¾‹æ‰€ç¤ºï¼Œstruct lineæ•°æ®ç»“æ„å®šä¹‰äº†ä¸€ä¸ªint lengthå˜é‡å’Œä¸€ä¸ªå˜é•¿æ•°ç»„contents[0]ï¼Œè¿™ä¸ªstruct lineæ•°æ®ç»“æ„çš„å¤§å°åªåŒ…å«intç±»å‹çš„å¤§å°ï¼Œä¸åŒ…å«contentsçš„å¤§å°ï¼Œä¹Ÿå°±æ˜¯sizeof (struct line) = sizeof (int)ã€‚
åˆ›å»ºç»“æ„ä½“å¯¹è±¡æ—¶ï¼Œå¯æ ¹æ®å®é™…çš„éœ€è¦æŒ‡å®šè¿™ä¸ªå¯å˜é•¿æ•°ç»„çš„é•¿åº¦ï¼Œå¹¶åˆ†é…ç›¸åº”çš„ç©ºé—´ï¼Œå¦‚ä¸Šè¿°å®ä¾‹ä»£ç åˆ†é…äº†this_length å­—èŠ‚çš„å†…å­˜ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡contents[index]æ¥è®¿é—®ç¬¬indexä¸ªåœ°å€çš„æ•°æ®ã€‚
caseèŒƒå›´ GNU Cè¯­è¨€æ”¯æŒæŒ‡å®šä¸€ä¸ªcaseçš„èŒƒå›´ä½œä¸ºä¸€ä¸ªæ ‡ç­¾ï¼Œå¦‚ï¼š
case low ...high: case &#39;A&#39; ...&#39;Z&#39;: è¿™é‡Œlowåˆ°highè¡¨ç¤ºä¸€ä¸ªåŒºé—´èŒƒå›´ï¼Œåœ¨ASCIIå­—ç¬¦ä»£ç ä¸­ä¹Ÿéå¸¸æœ‰ç”¨ã€‚ä¸‹é¢æ˜¯Linuxå†…æ ¸ä¸­çš„ä»£ç ä¾‹å­ã€‚
&lt;arch/x86/platform/uv/tlb_uv.c&gt; static int local_atoi(const char *name){ int val = 0; for (;; name++) { switch (*name) { case &#39;0&#39; ...&#39;9&#39;: val = 10*val+(*name-&#39;0&#39;); break; default: return val; } } } å¦å¤–ï¼Œè¿˜å¯ä»¥ç”¨æ•´å½¢æ•°æ¥è¡¨ç¤ºèŒƒå›´ï¼Œä½†æ˜¯è¿™é‡Œéœ€è¦æ³¨æ„åœ¨â€œ&hellip;â€ä¸¤è¾¹æœ‰ç©ºæ ¼ï¼Œå¦åˆ™ç¼–è¯‘ä¼šå‡ºé”™ã€‚
&lt;drivers/usb/gadget/udc/at91_udc.c&gt; static int at91sam9261_udc_init(struct at91_udc *udc){ for (i = 0; i &lt; NUM_ENDPOINTS; i++) { ep = &amp;udc-&gt;ep[i]; switch (i) { case 0: ep-&gt;maxpacket = 8; break; case 1 ... 3: ep-&gt;maxpacket = 64; break; case 4 ... 5: ep-&gt;maxpacket = 256; break; } } } æ ‡å·å…ƒç´  GNU Cè¯­è¨€å¯ä»¥é€šè¿‡æŒ‡å®šç´¢å¼•æˆ–ç»“æ„ä½“æˆå‘˜åæ¥åˆå§‹åŒ–ï¼Œä¸å¿…æŒ‰ç…§åŸæ¥çš„å›ºå®šé¡ºåºè¿›è¡Œåˆå§‹åŒ–ã€‚
ç»“æ„ä½“æˆå‘˜çš„åˆå§‹åŒ–åœ¨ Linux å†…æ ¸ä¸­ç»å¸¸ä½¿ç”¨ï¼Œå¦‚åœ¨è®¾å¤‡é©±åŠ¨ä¸­åˆå§‹åŒ–file_operationsæ•°æ®ç»“æ„ï¼š
&lt;drivers/char/mem.c&gt; static const struct file_operations zero_fops = { .llseek = zero_lseek, .read = new_sync_read, .write = write_zero, .read_iter = read_iter_zero, .aio_write = aio_write_zero, .mmap = mmap_zero, }; å¦‚ä¸Šè¿°ä»£ç ä¸­çš„zero_fopsçš„æˆå‘˜llseekåˆå§‹åŒ–ä¸ºzero_lseekå‡½æ•°ï¼Œreadæˆå‘˜åˆå§‹åŒ–ä¸ºnew_sync_readå‡½æ•°ï¼Œä¾æ¬¡ç±»æ¨ã€‚å½“file_operationsæ•°æ®ç»“æ„çš„å®šä¹‰å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¿™ç§åˆå§‹åŒ–æ–¹æ³•ä¾ç„¶èƒ½ä¿è¯å·²çŸ¥å…ƒç´ çš„æ­£ç¡®æ€§ï¼Œå¯¹äºæœªåˆå§‹åŒ–æˆå‘˜çš„å€¼ä¸º0æˆ–è€…NULLã€‚
å¯å˜å‚æ•°å® åœ¨GNU Cè¯­è¨€ä¸­ï¼Œå®å¯ä»¥æ¥å—å¯å˜æ•°ç›®çš„å‚æ•°ï¼Œä¸»è¦ç”¨åœ¨è¾“å‡ºå‡½æ•°é‡Œã€‚ä¾‹å¦‚ï¼š
&lt;include/linux/printk.h&gt; #define pr_debug(fmt, ...) \ dynamic_pr_debug(fmt, ##__VA_ARGS__) â€œ&hellip;â€ä»£è¡¨ä¸€ä¸ªå¯ä»¥å˜åŒ–çš„å‚æ•°è¡¨ï¼Œâ€œVA_ARGSâ€æ˜¯ç¼–è¯‘å™¨ä¿ç•™å­—æ®µï¼Œé¢„å¤„ç†æ—¶æŠŠå‚æ•°ä¼ é€’ç»™å®ã€‚å½“å®çš„è°ƒç”¨å±•å¼€æ—¶ï¼Œå®é™…å‚æ•°å°±ä¼ é€’ç»™dynamic_pr_debugå‡½æ•°äº†ã€‚
UL çš„ä½¿ç”¨ åœ¨Linuxå†…æ ¸ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ°ä¸€äº›æ•°å­—çš„å®šä¹‰ä½¿ç”¨äº†ULåç¼€ä¿®é¥°ã€‚
æ•°å­—å¸¸é‡ä¼šè¢«éšå½¢å®šä¹‰ä¸ºintç±»å‹ï¼Œä¸¤ä¸ªintç±»å‹ç›¸åŠ çš„ç»“æœå¯èƒ½ä¼šå‘ç”Ÿæº¢å‡ºã€‚
å› æ­¤ä½¿ç”¨ULå¼ºåˆ¶æŠŠintç±»å‹æ•°æ®è½¬æ¢ä¸ºunsigned longç±»å‹ï¼Œè¿™æ˜¯ä¸ºäº†ä¿è¯è¿ç®—è¿‡ç¨‹ä¸ä¼šå› ä¸ºintçš„ä½æ•°ä¸åŒè€Œå¯¼è‡´æº¢å‡ºã€‚
 1 ï¼šè¡¨ç¤ºæœ‰ç¬¦å·æ•´å‹æ•°å­—1 ULï¼šè¡¨ç¤ºæ— ç¬¦å·é•¿æ•´å‹æ•°å­—1 ]]></content>
  </entry>
  
  <entry>
    <title>å•ç‰‡æœºåŸºç¡€æ¦‚å¿µï¼šæŒ‡ä»¤ã€æ•°ä½ã€å­—èŠ‚ã€å­˜å‚¨å™¨ã€æ€»çº¿</title>
    <url>/post/mcu/basic-concept-of-micro-processor-unit.html</url>
    <categories><category>MCU</category>
    </categories>
    <tags>
      <tag>ROM</tag>
      <tag>BUS</tag>
      <tag>Data Bit</tag>
    </tags>
    <content type="html"><![CDATA[æœ¬æ–‡ä»‹ç»å•ç‰‡æœºåŸºç¡€æ¦‚å¿µï¼šæŒ‡ä»¤ã€æ•°ä½ã€å­—èŠ‚ã€å­˜å‚¨å™¨ã€æ€»çº¿
æ‰§è¡ŒæŒ‡ä»¤ æˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œå½“æˆ‘ä»¬åœ¨ç¼–ç¨‹å™¨ä¸­æŠŠä¸€æ¡æŒ‡ä»¤å†™è¿›å•ç‰‡æœºå†…éƒ¨ï¼Œç„¶åå–ä¸‹å•ç‰‡æœºï¼Œå•ç‰‡æœºå°±å¯ä»¥æ‰§è¡Œè¿™æ¡æŒ‡ä»¤ã€‚
é‚£ä¹ˆè¿™æ¡æŒ‡ä»¤ä¸€å®šä¿å­˜åœ¨å•ç‰‡æœºçš„æŸä¸ªåœ°æ–¹ï¼Œå¹¶ä¸”è¿™ä¸ªåœ°æ–¹åœ¨å•ç‰‡æœºæ‰ç”µåä¾ç„¶å¯ä»¥ä¿æŒè¿™æ¡æŒ‡ä»¤ä¸ä¼šä¸¢å¤±ï¼Œè¿™æ˜¯ä¸ªä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿè¿™ä¸ªåœ°æ–¹å°±æ˜¯å•ç‰‡æœºå†…éƒ¨çš„åªè¯»å­˜å‚¨å™¨å³ROM(READ ONLY MEMORY)ã€‚
ä¸ºä»€ä¹ˆç§°å®ƒä¸ºåªè¯»å­˜å‚¨å™¨å‘¢ï¼Ÿåˆšæ‰æˆ‘ä»¬ä¸æ˜¯æ˜æ˜æŠŠä¸¤ä¸ªæ•°å­—å†™è¿›å»äº†å—ï¼ŸåŸæ¥åœ¨89C51ä¸­çš„ROMæ˜¯ä¸€ç§ç”µå¯æ“¦é™¤çš„ROMï¼Œç§°ä¸ºFLASH ROMï¼Œåˆšæ‰æˆ‘ä»¬æ˜¯ç”¨çš„ç¼–ç¨‹å™¨ï¼Œåœ¨ç‰¹æ®Šçš„æ¡ä»¶ä¸‹ç”±å¤–éƒ¨è®¾å¤‡å¯¹ROMè¿›è¡Œå†™çš„æ“ä½œï¼Œåœ¨å•ç‰‡æœºæ­£å¸¸å·¥ä½œæ¡ä»¶ä¸‹ï¼Œåªèƒ½ä»é‚£é¢è¯»ï¼Œä¸èƒ½æŠŠæ•°æ®å†™è¿›å»ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯æŠŠå®ƒç§°ä¸ºROMã€‚
æ•°çš„æœ¬è´¨å’Œç‰©ç†ç°è±¡ æˆ‘ä»¬çŸ¥é“ï¼Œè®¡ç®—æœºå¯ä»¥è¿›è¡Œæ•°å­¦è¿ç®—ï¼Œè¿™ä»¤æˆ‘ä»¬éå¸¸éš¾ä»¥ç†è§£ï¼Œå®ƒä»¬åªæ˜¯ä¸€äº›ç”µå­å…ƒå™¨ä»¶ï¼Œæ€ä¹ˆå¯ä»¥è¿›è¡Œæ•°å­¦è¿ç®—å‘¢ï¼Ÿ
æˆ‘ä»¬äººç±»åšæ•°å­¦é¢˜å¦‚37+45æ˜¯è¿™æ ·åšçš„ï¼Œå…ˆåœ¨çº¸ä¸Šå†™37ï¼Œç„¶ååœ¨ä¸‹é¢å†™45ï¼Œç„¶åå¤§è„‘è¿ç®—æœ€åå†™å‡ºç»“æœï¼Œè¿ç®—çš„åŸææ–™æ˜¯37å’Œ45ï¼Œç»“æœæ˜¯82éƒ½æ˜¯å†™åœ¨çº¸ä¸Šçš„ï¼Œè®¡ç®—æœºä¸­åˆæ˜¯æ”¾åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿ
ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå…ˆè®©æˆ‘ä»¬åšä¸€ä¸ªå®éªŒï¼šè¿™é‡Œæœ‰ä¸€ç›ç¯ï¼Œæˆ‘ä»¬çŸ¥é“ç¯è¦ä¹ˆäº®ï¼Œè¦ä¹ˆä¸äº®ï¼Œå°±æœ‰ä¸¤ç§çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨â€˜0â€™å’Œâ€˜1â€™æ¥ä»£æ›¿è¿™ä¸¤ç§çŠ¶æ€ï¼šè§„å®šäº®ä¸ºâ€˜1â€™ã€ä¸äº®ä¸ºâ€˜0â€™ã€‚
ç°åœ¨æ”¾ä¸Šä¸‰ç›ç¯ï¼Œä¸€å…±æœ‰å‡ ç§çŠ¶æ€å‘¢ï¼Ÿæˆ‘ä»¬åˆ—è¡¨æ¥çœ‹ä¸€ä¸‹ï¼š000 / 001 / 010 / 011 / 100 / 101 / 110 / 111ã€‚æˆ‘ä»¬æ¥çœ‹ï¼Œè¿™ä¸ª000 / 001 / 101 ä¸å°±æ˜¯æˆ‘ä»¬å­¦è¿‡çš„çš„äºŒè¿›åˆ¶æ•°å—ï¼Ÿæœ¬æ¥ï¼Œç¯çš„äº®å’Œç­åªæ˜¯ä¸€ç§ç‰©ç†ç°è±¡ï¼Œå¯å½“æˆ‘ä»¬æŠŠå®ƒä»¬æŒ‰ä¸€å®šçš„é¡ºåºæ’å¥½åï¼Œç¯çš„äº®å’Œç­å°±ä»£è¡¨äº†æ•°å­—äº†ã€‚è®©æˆ‘ä»¬å†æŠ½è±¡ä¸€æ­¥ï¼Œç¯ä¸ºä»€ä¹ˆä¼šäº®å‘¢ï¼Ÿæ˜¯å› ä¸ºè¾“å‡ºç”µè·¯è¾“å‡ºé«˜ç”µå¹³ï¼Œç»™ç¯é€šäº†ç”µã€‚å› æ­¤ï¼Œç¯äº®å’Œç­å°±å¯ä»¥ç”¨ç”µè·¯çš„è¾“å‡ºæ˜¯é«˜ç”µå¹³è¿˜æ˜¯ä½ç”µå¹³æ¥æ›¿ä»£äº†ã€‚è¿™æ ·ï¼Œæ•°å­—å°±å’Œç”µå¹³çš„é«˜ã€ä½è”ç³»ä¸Šäº†ã€‚
æ•°ä½çš„å«ä¹‰ é€šè¿‡ä¸Šé¢çš„å®éªŒæˆ‘ä»¬å·²ç»çŸ¥é“ï¼šä¸€ç›ç¯äº®æˆ–è€…è¯´ä¸€æ ¹çº¿çš„ç”µå¹³çš„é«˜ä½ï¼Œå¯ä»¥ä»£è¡¨ä¸¤ç§çŠ¶æ€ï¼š0å’Œ1ï¼Œå®é™…ä¸Šè¿™å°±æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶ä½ã€‚
å› æ­¤æˆ‘ä»¬å°±æŠŠä¸€æ ¹çº¿ç§°ä¹‹ä¸ºä¸€â€œä½â€ï¼Œç”¨BITè¡¨ç¤ºã€‚
ä¸€æ ¹çº¿å¯ä»¥è¡¨ç¤º0å’Œ1ï¼Œä¸¤æ ¹çº¿å¯ä»¥è¡¨è¾¾00 / 01 / 10 / 11å››ç§çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥è¡¨è¾¾0~3ï¼Œè€Œä¸‰æ ¹å¯ä»¥è¡¨è¾¾0~7ï¼Œè®¡ç®—æœºä¸­é€šå¸¸ç”¨8æ ¹çº¿æ”¾åœ¨ä¸€èµ·ï¼ŒåŒæ—¶è®¡æ•°ï¼Œå°±å¯ä»¥è¡¨ç¤º0~255ä¸€å…±256ç§çŠ¶æ€ã€‚
è¿™8æ ¹çº¿æˆ–è€…8ä½å°±ç§°ä¹‹ä¸ºä¸€ä¸ªå­—èŠ‚(BYTE)ã€‚
å­˜å‚¨å™¨çš„æ„é€  å­˜å‚¨å™¨å°±æ˜¯ç”¨æ¥å­˜æ”¾æ•°æ®çš„åœ°æ–¹ã€‚å®ƒæ˜¯åˆ©ç”¨ç”µå¹³çš„é«˜ä½æ¥å­˜æ”¾æ•°æ®çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå­˜æ”¾çš„å®é™…ä¸Šæ˜¯ç”µå¹³çš„é«˜ã€ä½ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬æ‰€ä¹ æƒ¯è®¤ä¸ºçš„1234è¿™æ ·çš„æ•°å­—ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬çš„ä¸€ä¸ªè°œå›¢å°±è§£å¼€äº†ã€‚
ä¸€ä¸ªå­˜å‚¨å™¨å°±è±¡ä¸€ä¸ªä¸ªçš„å°æŠ½å±‰ï¼Œä¸€ä¸ªå°æŠ½å±‰é‡Œæœ‰å…«ä¸ªå°æ ¼å­ï¼Œæ¯ä¸ªå°æ ¼å­å°±æ˜¯ç”¨æ¥å­˜æ”¾â€œç”µè·â€çš„ï¼Œç”µè·é€šè¿‡ä¸å®ƒç›¸è¿çš„ç”µçº¿ä¼ è¿›æ¥æˆ–é‡Šæ”¾æ‰ã€‚è‡³äºç”µè·åœ¨å°æ ¼å­é‡Œæ˜¯æ€æ ·å­˜çš„ï¼Œå°±ä¸ç”¨æˆ‘ä»¬æ“å¿ƒäº†ï¼Œä½ å¯ä»¥æŠŠç”µçº¿æƒ³è±¡æˆæ°´ç®¡ï¼Œå°æ ¼å­é‡Œçš„ç”µè·å°±è±¡æ˜¯æ°´ï¼Œé‚£å°±å¥½ç†è§£äº†ã€‚å­˜å‚¨å™¨ä¸­çš„æ¯ä¸ªå°æŠ½å±‰å°±æ˜¯ä¸€ä¸ªæ”¾æ•°æ®çš„åœ°æ–¹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºä¸€ä¸ªâ€œå•å…ƒâ€ã€‚
æœ‰äº†è¿™ä¹ˆä¸€ä¸ªæ„é€ ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å­˜æ”¾æ•°æ®äº†ï¼Œæƒ³è¦æ”¾è¿›ä¸€ä¸ªæ•°æ®12ï¼Œä¹Ÿå°±æ˜¯00001100ï¼Œæˆ‘ä»¬åªè¦æŠŠç¬¬äºŒå·å’Œç¬¬ä¸‰å·å°æ ¼å­é‡Œå­˜æ»¡ç”µè·ï¼Œè€Œå…¶å®ƒå°æ ¼å­é‡Œçš„ç”µè·ç»™æ”¾æ‰å°±è¡Œäº†ã€‚
å¯é—®é¢˜å‡ºæ¥äº†ï¼Œä¸€ä¸ªå­˜å‚¨å™¨æœ‰å¥½å¤šå•å…ƒï¼Œçº¿æ˜¯å¹¶è”çš„ï¼Œåœ¨æ”¾å…¥ç”µè·çš„æ—¶å€™ï¼Œä¼šå°†ç”µè·æ”¾å…¥æ‰€æœ‰çš„å•å…ƒä¸­ï¼Œè€Œé‡Šæ”¾ç”µè·çš„æ—¶å€™ï¼Œä¼šæŠŠæ¯ä¸ªå•å…ƒä¸­çš„ç”µè·éƒ½æ”¾æ‰ã€‚è¿™æ ·çš„è¯ï¼Œä¸ç®¡å­˜å‚¨å™¨æœ‰å¤šå°‘ä¸ªå•å…ƒï¼Œéƒ½åªèƒ½æ”¾åŒä¸€ä¸ªæ•°ï¼Œè¿™å½“ç„¶ä¸æ˜¯æˆ‘ä»¬æ‰€å¸Œæœ›çš„ã€‚å› æ­¤ï¼Œè¦åœ¨ç»“æ„ä¸Šç¨ä½œå˜åŒ–ã€‚
éœ€è¦åœ¨æ¯ä¸ªå•å…ƒä¸Šæœ‰ä¸ªæ§åˆ¶çº¿ï¼Œæƒ³è¦æŠŠæ•°æ®æ”¾è¿›å“ªä¸ªå•å…ƒï¼Œå°±æŠŠä¸€ä¸ªä¿¡å·ç»™è¿™ä¸ªå•å…ƒçš„æ§åˆ¶çº¿ï¼Œè¿™ä¸ªæ§åˆ¶çº¿å°±æŠŠå¼€å…³æ‰“å¼€ï¼Œè¿™æ ·ç”µè·å°±å¯ä»¥è‡ªç”±æµåŠ¨äº†ã€‚è€Œå…¶å®ƒå•å…ƒæ§åˆ¶çº¿ä¸Šæ²¡æœ‰ä¿¡å·ï¼Œæ‰€ä»¥å¼€å…³ä¸æ‰“å¼€ï¼Œä¸ä¼šå—åˆ°å½±å“ã€‚
è¿™æ ·ï¼Œåªè¦æ§åˆ¶ä¸åŒå•å…ƒçš„æ§åˆ¶çº¿ï¼Œå°±å¯ä»¥å‘å„å•å…ƒå†™å…¥ä¸åŒçš„æ•°æ®äº†ã€‚åŒæ ·ï¼Œå¦‚æœè¦ä»æŸä¸ªå•å…ƒä¸­å–æ•°æ®ï¼Œä¹Ÿåªè¦æ‰“å¼€ç›¸åº”çš„æ§åˆ¶å¼€å…³å°±è¡Œäº†ã€‚
å­˜å‚¨å™¨çš„è¯‘ç  é‚£ä¹ˆï¼Œæˆ‘ä»¬æ€æ ·æ¥æ§åˆ¶å„ä¸ªå•å…ƒçš„æ§åˆ¶çº¿å‘¢ï¼Ÿè¿™ä¸ªè¿˜ä¸ç®€å•ï¼ŒæŠŠæ¯ä¸ªå•å…ƒçš„æ§åˆ¶çº¿éƒ½å¼•åˆ°é›†æˆç”µè·¯çš„å¤–é¢ä¸å°±è¡Œäº†å—ï¼Ÿ
äº‹æƒ…å¯æ²¡é‚£ä¹ˆç®€å•ï¼Œä¸€ç‰‡27512å­˜å‚¨å™¨ä¸­æœ‰65536ä¸ªå•å…ƒï¼ŒæŠŠæ¯æ ¹çº¿éƒ½å¼•å‡ºæ¥ï¼Œè¿™ä¸ªé›†æˆç”µè·¯å°±å¾—æœ‰6ä¸‡å¤šä¸ªè„šï¼Ÿä¸è¡Œï¼Œæ€ä¹ˆåŠï¼Ÿè¦æƒ³æ³•å‡å°‘çº¿çš„æ•°é‡ã€‚
æœ‰ä¸€ç§æ–¹æ³•ç§°è¿™ä¸ºè¯‘ç ï¼Œç®€å•ä»‹ç»ä¸€ä¸‹ï¼šä¸€æ ¹çº¿å¯ä»¥ä»£è¡¨2ç§çŠ¶æ€ï¼Œ2æ ¹çº¿å¯ä»¥ä»£è¡¨4ç§çŠ¶æ€ï¼Œ3æ ¹çº¿å¯ä»¥ä»£è¡¨8ç§ï¼Œ256ç§çŠ¶æ€åˆéœ€è¦å‡ æ ¹çº¿ä»£è¡¨ï¼Ÿ8æ ¹çº¿ï¼Œæ‰€ä»¥65536ç§çŠ¶æ€æˆ‘ä»¬åªéœ€è¦16æ ¹çº¿å°±å¯ä»¥ä»£è¡¨äº†ã€‚
å­˜å‚¨å™¨çš„é€‰ç‰‡æ¦‚å¿µ è‡³æ­¤ï¼Œè¯‘ç çš„é—®é¢˜è§£å†³äº†ï¼Œè®©æˆ‘ä»¬å†æ¥å…³æ³¨å¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚é€å…¥æ¯ä¸ªå•å…ƒçš„å…«æ ¹çº¿æ˜¯ç”¨ä»ä»€ä¹ˆåœ°æ–¹æ¥çš„å‘¢ï¼Ÿå®ƒå°±æ˜¯ä»è®¡ç®—æœºä¸Šæ¥è¿‡æ¥çš„ï¼Œä¸€èˆ¬åœ°ï¼Œè¿™å…«æ ¹çº¿é™¤äº†æ¥ä¸€ä¸ªå­˜å‚¨å™¨ä¹‹å¤–ï¼Œè¿˜è¦æ¥å…¶å®ƒçš„å™¨ä»¶ã€‚
è¿™æ ·é—®é¢˜å°±å‡ºæ¥äº†ï¼Œè¿™å…«æ ¹çº¿æ—¢ç„¶ä¸æ˜¯å­˜å‚¨å™¨å’Œè®¡ç®—æœºä¹‹é—´ä¸“ç”¨çš„ï¼Œå¦‚æœæ€»æ˜¯å°†æŸä¸ªå•å…ƒæ¥åœ¨è¿™å…«æ ¹çº¿ä¸Šï¼Œå°±æœ‰é—®é¢˜å‡ºç°äº†ï¼šæ¯”å¦‚è¿™ä¸ªå­˜å‚¨å™¨å•å…ƒä¸­çš„æ•°å€¼æ˜¯0FFHå¦ä¸€ä¸ªå­˜å‚¨å™¨çš„å•å…ƒæ˜¯00Hï¼Œé‚£ä¹ˆè¿™æ ¹çº¿åˆ°åº•æ˜¯å¤„äºé«˜ç”µå¹³ï¼Œè¿˜æ˜¯ä½ç”µå¹³ï¼Ÿæ€æ ·åˆ†è¾¨ï¼Ÿ
åŠæ³•å¾ˆç®€å•ï¼Œå½“å¤–é¢çš„çº¿æ¥åˆ°é›†æˆç”µè·¯çš„å¼•è„šè¿›æ¥åï¼Œä¸ç›´æ¥æ¥åˆ°å„å•å…ƒå»ï¼Œä¸­é—´å†åŠ ä¸€ç»„å¼€å…³å°±è¡Œäº†ã€‚å¹³æ—¶æˆ‘ä»¬è®©å¼€å…³æ‰“å¼€ç€ï¼Œå¦‚æœç¡®å®æ˜¯è¦å‘è¿™ä¸ªå­˜å‚¨å™¨ä¸­å†™å…¥æ•°æ®ï¼Œæˆ–è¦ä»å­˜å‚¨å™¨ä¸­è¯»å‡ºæ•°æ®ï¼Œå†è®©å¼€å…³æ¥é€šå°±è¡Œäº†ã€‚
è¿™ç»„å¼€å…³ç”±ä¸‰æ ¹å¼•çº¿é€‰æ‹©ï¼šè¯»æ§åˆ¶ç«¯ã€å†™æ§åˆ¶ç«¯å’Œç‰‡é€‰ç«¯ã€‚è¦å°†æ•°æ®å†™å…¥ç‰‡ä¸­ï¼Œå…ˆé€‰ä¸­è¯¥ç‰‡ï¼Œç„¶åå‘å‡ºå†™ä¿¡å·ï¼Œå¼€å…³å°±åˆä¸Šäº†ï¼Œå¹¶å°†ä¼ è¿‡æ¥çš„æ•°æ®(ç”µè·)å†™å…¥ç‰‡ä¸­ã€‚å¦‚æœè¦è¯»ï¼Œå…ˆé€‰ä¸­è¯¥ç‰‡ï¼Œç„¶åå‘å‡ºè¯»ä¿¡å·ï¼Œå¼€å…³åˆä¸Šï¼Œæ•°æ®å°±è¢«é€å‡ºå»äº†ã€‚
è¯»å’Œå†™ä¿¡å·åŒæ—¶è¿˜æ¥å…¥åˆ°å¦ä¸€ä¸ªå­˜å‚¨å™¨ï¼Œä½†æ˜¯ç”±äºç‰‡é€‰ç«¯ä¸åŒï¼Œæ‰€ä»¥è™½æœ‰è¯»æˆ–å†™ä¿¡å·ï¼Œä½†æ²¡æœ‰ç‰‡é€‰ä¿¡å·ï¼Œæ‰€ä»¥å¦ä¸€ä¸ªå­˜å‚¨å™¨ä¸ä¼šâ€œè¯¯ä¼šâ€è€Œå¼€é—¨ï¼Œé€ æˆå†²çªã€‚é‚£ä¹ˆä¼šä¸åŒæ—¶é€‰ä¸­ä¸¤ç‰‡èŠ¯ç‰‡å‘¢ï¼Ÿ
åªè¦æ˜¯è®¾è®¡å¥½çš„ç³»ç»Ÿå°±ä¸ä¼šï¼Œå› ä¸ºå®ƒæ˜¯ç”±è®¡ç®—æ§åˆ¶çš„ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬äººæ¥æ§åˆ¶çš„ï¼Œå¦‚æœçœŸçš„å‡ºç°åŒæ—¶å‡ºç°é€‰ä¸­ä¸¤ç‰‡çš„æƒ…å†µï¼Œé‚£å°±æ˜¯ç”µè·¯å‡ºäº†æ•…éšœäº†ï¼Œè¿™ä¸åœ¨æˆ‘ä»¬çš„è®¨è®ºä¹‹åˆ—ã€‚
æ€»çº¿æ¦‚å¿µ ä»ä¸Šé¢çš„ä»‹ç»ä¸­æˆ‘ä»¬å·²ç»çœ‹åˆ°ï¼Œç”¨æ¥ä¼ é€’æ•°æ®çš„å…«æ ¹çº¿å¹¶ä¸æ˜¯ä¸“ç”¨çš„ï¼Œè€Œæ˜¯å¾ˆå¤šå™¨ä»¶å¤§å®¶å…±ç”¨çš„ã€‚
æ‰€ä»¥æˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°æ®æ€»çº¿ï¼Œæ€»çº¿è‹±æ–‡åä¸ºBUSï¼Œæ€»å³å…¬äº¤è½¦é“ï¼Œè°ä¹Ÿå¯ä»¥èµ°ã€‚è€Œåå…­æ ¹åœ°å€çº¿ä¹Ÿæ˜¯è¿åœ¨ä¸€èµ·çš„ï¼Œç§°ä¹‹ä¸ºåœ°å€æ€»çº¿ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>CPUã€MPUã€MCUå’ŒSOCçš„ç®€ä»‹</title>
    <url>/post/mcu/introduction-of-cpu-mpu-mcu-soc.html</url>
    <categories><category>MCU</category>
    </categories>
    <tags>
      <tag>CPU</tag>
      <tag>MPU</tag>
      <tag>MCU</tag>
      <tag>SOC</tag>
    </tags>
    <content type="html"><![CDATA[åœ¨åµŒå…¥å¼å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šç»å¸¸çœ‹åˆ°æˆ–æ¥è§¦ä¸€äº›ä¸“ä¸šæœ¯è¯­ï¼Œä¾‹å¦‚CPUã€MPUã€MCUå’ŒSOCç­‰ï¼Œå¹¶ä¸”è¿™äº›ä¸“ä¸šæœ¯è¯­å‡ºç°çš„é¢‘ç‡ä¹Ÿæ˜¯éå¸¸ä¹‹é«˜ï¼Œåœ¨é¢è¯•ä¸­ä¹Ÿå¸¸å¸¸ä¼šä½œä¸ºæé—®çš„çŸ¥è¯†ç‚¹ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸‹ä»–ä»¬ä¹‹é—´çš„ç‰¹ç‚¹å’ŒåŒºåˆ«ã€‚
CPU CPUæ˜¯Central Processing Unitçš„ç¼©å†™ï¼Œè®¡ç®—æœºçš„è¿ç®—æ§åˆ¶æ ¸å¿ƒå°±æ˜¯CPUã€‚CPUæ˜¯ç”±è¿ç®—å™¨ã€æ§åˆ¶å™¨å’Œå¯„å­˜å™¨åŠç›¸åº”çš„æ€»çº¿æ„æˆã€‚ä¼—æ‰€å‘¨çŸ¥çš„ä¸‰çº§æµæ°´çº¿ï¼šå–å€ã€è¯‘ç ã€æ‰§è¡Œçš„å¯¹è±¡å°±æ˜¯CPUï¼ŒCPUä»å­˜å‚¨å™¨æˆ–é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨ä¸­å–å‡ºæŒ‡ä»¤ï¼Œæ”¾å…¥æŒ‡ä»¤å¯„å­˜å™¨ï¼Œå¹¶å¯¹æŒ‡ä»¤è¯‘ç ï¼Œç„¶åæ‰§è¡ŒæŒ‡ä»¤ã€‚è€Œè®¡ç®—æœºçš„å¯ç¼–ç¨‹æ€§å…¶å®å°±æ˜¯æŒ‡å¯¹CPUçš„ç¼–ç¨‹ã€‚
MPU MPUæ˜¯Micro Processor Unitçš„ç¼©å†™ï¼ŒæŒ‡å¾®å¤„ç†å™¨ï¼ˆè¿™é‡Œè¦æ³¨æ„ä¸æ˜¯å¾®æ§åˆ¶å™¨ï¼Œå¾ˆå¤šäººä¼šæŠŠå¾®å¤„ç†å™¨å’Œå¾®æ§åˆ¶å™¨æ··æ·†ï¼‰ï¼Œå¾®å¤„ç†å™¨é€šå¸¸ä»£è¡¨åŠŸèƒ½å¼ºå¤§çš„CPUï¼ˆå¯ç†è§£ä¸ºå¢å¼ºå‹çš„CPUï¼‰ï¼Œè¿™ç§èŠ¯ç‰‡å¾€å¾€æ˜¯è®¡ç®—æœºå’Œé«˜ç«¯ç³»ç»Ÿçš„æ ¸å¿ƒCPUã€‚ä¾‹å¦‚åµŒå…¥å¼å¼€å‘è€…æœ€ç†Ÿæ‚‰çš„ ARM  çš„Cortex-AèŠ¯ç‰‡ï¼Œä»–ä»¬éƒ½å±äºMPUã€‚
MCU MCUæ˜¯Micro Control Unitçš„ç¼©å†™ï¼ŒæŒ‡å¾®æ§åˆ¶å™¨ã€‚éšç€å¤§è§„æ¨¡é›†æˆç”µè·¯çš„å‡ºç°åŠå‘å±•ï¼ŒæŠŠè®¡ç®—æœºçš„CPUã€RAMã€ROMã€å®šæ—¶å™¨å’Œè¾“å…¥è¾“å‡ºI/Oå¼•è„šé›†æˆåœ¨ä¸€ä¸ªèŠ¯ç‰‡ä¸Šï¼Œæ¯”å¦‚51ï¼ŒSTCã€Cortex-Mè¿™äº›èŠ¯ç‰‡ï¼Œå®ƒä»¬çš„å†…éƒ¨é™¤äº†CPUå¤–è¿˜åŒ…å«äº†RAMå’ŒROMï¼Œå¯ç›´æ¥æ·»åŠ ç®€å•çš„å™¨ä»¶ï¼ˆç”µé˜»ï¼Œç”µå®¹ï¼‰ç­‰æ„æˆæœ€å°ç³»ç»Ÿå°±å¯ä»¥è¿è¡Œä»£ç äº†ã€‚è€ŒåƒARMï¼ˆCortex-Aç³»åˆ—ï¼‰ç›´æ¥æ”¾ä»£ç æ˜¯è¿è¡Œä¸äº†çš„ï¼Œå› ä¸ºå®ƒæœ¬è´¨ä¸Šåªæ˜¯å¢å¼ºç‰ˆçš„CPUï¼Œå¿…é¡»æ·»åŠ ç›¸åº”çš„RAMå’ŒROMã€‚
SOC SOCæ˜¯System on Chipçš„ç¼©å†™ï¼ŒæŒ‡çš„æ˜¯ç‰‡ä¸Šç³»ç»Ÿã€‚å¯ä»¥è¿™æ ·å¯¹æ¯”æ¥çœ‹ï¼šMCUåªæ˜¯èŠ¯ç‰‡çº§çš„èŠ¯ç‰‡ï¼Œè€ŒSOCæ˜¯ç³»ç»Ÿçº§çš„èŠ¯ç‰‡ï¼Œå®ƒé›†æˆäº†MCUå’ŒMPUçš„ä¼˜ç‚¹ï¼Œå³æ‹¥æœ‰å†…ç½®RAMå’ŒROMçš„åŒæ—¶åˆåƒMPUé‚£æ ·å¼ºå¤§ï¼Œå®ƒå¯ä»¥å­˜æ”¾å¹¶è¿è¡Œç³»ç»Ÿçº§åˆ«çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥è¿è¡Œæ“ä½œç³»ç»Ÿï¼ˆä»¥Linux OSä¸ºä¸»ï¼‰
å¦å¤–ï¼ŒSOPCä¹Ÿæ˜¯ä¸€ä¸ªå€¼å¾—äº†è§£çš„æ¦‚å¿µï¼Œä¸ä¸Šè¿°å‡ é¡¹æ¦‚å¿µç›¸æ¯”ï¼ŒSOPCçš„å‡ºç°é¢‘ç‡å¹¶ä¸æ˜¯é‚£ä¹ˆé«˜ï¼Œä½†è¿™å¹¶ä¸å½±å“å®ƒçš„é‡è¦æ€§ã€‚SOPCæ˜¯System On a Programmable Chipçš„ç¼©å†™ï¼Œå³ å¯ç¼–ç¨‹ç‰‡ä¸Šç³»ç»Ÿï¼ŒSOPCä¸MCUã€MPUã€SOCæœ€æ˜æ˜¾çš„åŒºåˆ«åœ¨äºï¼šå¯æ›´æ”¹ç¡¬ä»¶é…ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´è‡ªå·±æ„é€ èŠ¯ç‰‡ã€‚
ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¾¿äºç†è§£ï¼Œå•ç‰‡æœºçš„ç¡¬ä»¶é…ç½®æ˜¯å›ºåŒ–å¥½äº†çš„ï¼Œ æˆ‘ä»¬èƒ½å¤Ÿç¼–ç¨‹ä¿®æ”¹çš„å°±æ˜¯è½¯ä»¶é…ç½®ï¼Œæœ¬æ¥æ˜¯ä¸²å£é€šä¿¡åŠŸèƒ½ï¼Œé€šè¿‡ä¿®æ”¹ä»£ç å˜æˆADé‡‡æ ·åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯è¯´ç¡¬ä»¶é…ç½®æ˜¯å›ºå®šäº†çš„ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡ä¿®æ”¹è½¯ä»¶æ¥é€‰æ‹©å…¶ä¸­çš„ä¸€é¡¹æˆ–å¤šé¡¹åŠŸèƒ½ï¼›è€ŒSOPCå¯ä»¥ä¿®æ”¹ç¡¬ä»¶é…ç½®ä¿¡æ¯ä½¿å…¶æˆä¸ºç›¸åº”çš„èŠ¯ç‰‡ï¼Œå¯ä»¥æ˜¯MCUï¼Œä¹Ÿå¯ä»¥æ˜¯SOCã€‚
ç»“è¯­ åœ¨åµŒå…¥å¼å¼€å‘ä¸­ï¼Œæ¥è§¦é¢‘ç‡è¾ƒå¤šçš„ä¸€èˆ¬æ˜¯MCUå’ŒSOCï¼Œè€Œç°åœ¨STM32ä¹Ÿå‡ ä¹æˆä¸ºäº†MCUçš„ä»£åè¯ï¼ŒSOCç›®å‰åˆ™ä»¥Cortex-Aç³»åˆ—ä¸ºä¸»ï¼Œå¼€å‘éš¾åº¦ä¹Ÿæœ‰æ‰€å·®å¼‚ï¼Œå¯¹äºåµŒå…¥å¼ä»ä¸šè€…æ¥è¯´ï¼Œå¼„æ¸…æ¥šè¿™äº›ä¸“ä¸šæ¦‚å¿µæ˜¯å¿…å¤‡çš„ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>åµŒå…¥å¼Cè¯­è¨€ä¹‹ç»“æ„ä½“å°è£…å‡½æ•°</title>
    <url>/post/programming/embedded-c-programming-language-struct-pack-function.html</url>
    <categories><category>Programming</category>
    </categories>
    <tags>
      <tag>C</tag>
      <tag>Embedded</tag>
      <tag>Struct</tag>
    </tags>
    <content type="html"><![CDATA[åœ¨åµŒå…¥å¼ç³»ç»Ÿä¸­ï¼Œç»“æ„ä½“å°è£…å‡½æ•°å¯ä»¥ç”¨äºå¯¹äºåµŒå…¥å¼ç¡¬ä»¶èµ„æºè¿›è¡ŒæŠ½è±¡å’Œå°è£…ï¼Œä»è€Œæé«˜è½¯ä»¶çš„å¯ç»´æŠ¤æ€§å’Œå¯ç§»æ¤æ€§ã€‚ç»“æ„ä½“å°è£…å‡½æ•°é€šå¸¸åŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼Œå¹¶æä¾›äº†å¯¹æ•°æ®çš„è®¿é—®å’Œæ“ä½œæ–¹æ³•ã€‚
æ¯”å¦‚å¯ä»¥å°†ç¡¬ä»¶é©±åŠ¨å‡½æ•°å°è£…åœ¨ç»“æ„ä½“ä¸­ï¼Œæ–¹ä¾¿å¯¹å¤–æä¾›ç»Ÿä¸€çš„APIæ¥å£ï¼ŒåŒæ—¶ä¹Ÿä¾¿äºä»£ç çš„ç§»æ¤å’Œæ‰©å±•ã€‚å¦å¤–ï¼Œç»“æ„ä½“å°è£…å‡½æ•°è¿˜å¯ä»¥ç”¨äºå®ç°çŠ¶æ€æœºã€ä»»åŠ¡è°ƒåº¦ç­‰å¤æ‚çš„ç³»ç»ŸåŠŸèƒ½ã€‚
åœ¨Cè¯­è¨€ä¸­ï¼Œç»“æ„ä½“ä¸ä»…å¯ä»¥å°è£…æ•°æ®ï¼Œè¿˜å¯ä»¥å°è£…å‡½æ•°æŒ‡é’ˆã€‚è¿™ç§æ–¹å¼å¯ä»¥ç”¨äºå®ç°å›è°ƒå‡½æ•°ã€çŠ¶æ€æœºç­‰ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ç‰¹åˆ«æ˜¯åœ¨åµŒå…¥å¼å½“ä¸­ï¼Œåº”ç”¨æ˜¯éå¸¸å¤šçš„ã€‚
ç»“æ„ä½“å°è£…å‡½æ•°çš„ä½œç”¨  å°†å‡½æ•°æŒ‡é’ˆå’Œå‚æ•°æ‰“åŒ…æˆä¸€ä¸ªç»“æ„ä½“ï¼Œå®ç°äº†ä»£ç çš„æ¨¡å—åŒ–å’Œå¯å¤ç”¨æ€§ã€‚ åœ¨ç»“æ„ä½“ä¸­å¯ä»¥å®šä¹‰å¤šä¸ªå‡½æ•°æŒ‡é’ˆï¼Œå®ç°äº†å¯¹å‡½æ•°çš„åˆ†ç±»ç®¡ç†å’Œè°ƒç”¨ã€‚ ç»“æ„ä½“å¯ä»¥ä½œä¸ºå‡½æ•°çš„å‚æ•°æˆ–è¿”å›å€¼ï¼Œä¼ é€’å’Œè¿”å›å‡½æ•°æŒ‡é’ˆå’Œå‚æ•°ã€‚  ç»“æ„ä½“å°è£…å‡½æ•°çš„åº”ç”¨  å›è°ƒå‡½æ•°ï¼šå°†å‡½æ•°æŒ‡é’ˆå’Œå‚æ•°æ‰“åŒ…æˆä¸€ä¸ªç»“æ„ä½“ï¼Œä¼ é€’ç»™APIå‡½æ•°ï¼Œåœ¨APIå‡½æ•°å†…éƒ¨æ‰§è¡Œè¯¥å‡½æ•°ã€‚ çŠ¶æ€æœºï¼šå°†æ¯ä¸ªçŠ¶æ€å¯¹åº”çš„å¤„ç†å‡½æ•°å°è£…æˆä¸€ä¸ªç»“æ„ä½“ï¼Œæ ¹æ®å½“å‰çŠ¶æ€è°ƒç”¨ç›¸åº”çš„å¤„ç†å‡½æ•°ã€‚ äº‹ä»¶é©±åŠ¨ï¼šå°†äº‹ä»¶å¤„ç†å‡½æ•°å°è£…æˆä¸€ä¸ªç»“æ„ä½“ï¼Œé€šè¿‡äº‹ä»¶è§¦å‘è°ƒç”¨ç›¸åº”çš„å¤„ç†å‡½æ•°ã€‚ çº¿ç¨‹æ± ï¼šå°†ä»»åŠ¡å¤„ç†å‡½æ•°å°è£…æˆä¸€ä¸ªç»“æ„ä½“ï¼ŒåŠ å…¥ä»»åŠ¡é˜Ÿåˆ—åç”±çº¿ç¨‹æ± è°ƒç”¨æ‰§è¡Œ  ç»“æ„ä½“å°è£…å‡½æ•°çš„å¥½å¤„  æ›´å¥½çš„éšè—å®ç°ç»†èŠ‚ï¼šç»“æ„ä½“å°è£…å‡½æ•°ä½¿å¾—å‡½æ•°çš„å®ç°ç»†èŠ‚è¢«å°è£…åœ¨ç»“æ„ä½“å†…éƒ¨ï¼Œåªæœ‰ç»“æ„ä½“æš´éœ²ç»™å¤–éƒ¨çš„å‡½æ•°æŒ‡é’ˆï¼Œå®ç°äº†è‰¯å¥½çš„å°è£…å’Œä¿¡æ¯éšè—ã€‚ æ›´åŠ çµæ´»çš„å‡½æ•°è°ƒç”¨ï¼šå‡½æ•°æŒ‡é’ˆå¯ä»¥è¢«åŠ¨æ€ä¿®æ”¹ï¼Œä»è€Œå®ç°åŠ¨æ€çš„å‡½æ•°è°ƒç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨çŠ¶æ€æœºä¸­ï¼Œæ ¹æ®ä¸åŒçš„çŠ¶æ€ï¼Œå¯ä»¥å°†ç›¸åº”çš„å¤„ç†å‡½æ•°æŒ‡é’ˆèµ‹å€¼ç»™ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆå˜é‡ï¼Œä»è€Œå®ç°çŠ¶æ€çš„è½¬æ¢å’Œå‡½æ•°çš„è°ƒç”¨ã€‚ æ›´åŠ æ–¹ä¾¿çš„æ‰©å±•æ€§ï¼šç»“æ„ä½“å°è£…å‡½æ•°å¯ä»¥è½»æ¾åœ°æ·»åŠ æ–°çš„å‡½æ•°æŒ‡é’ˆï¼Œä»è€Œæ‰©å±•åŠŸèƒ½ã€‚åœ¨éœ€è¦æ·»åŠ æ–°åŠŸèƒ½æ—¶ï¼Œåªéœ€è¦å®šä¹‰ä¸€ä¸ªæ–°çš„å‡½æ•°æŒ‡é’ˆï¼Œå¹¶æ·»åŠ åˆ°ç»“æ„ä½“ä¸­ï¼Œå°±å¯ä»¥å®ç°åŠŸèƒ½çš„æ‰©å±•ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åŸæœ‰çš„ä»£ç ã€‚ æ›´åŠ é€šç”¨çš„ä»£ç ï¼šç»“æ„ä½“å°è£…å‡½æ•°å¯ä»¥ä½¿ç”¨äºå„ç§ä¸åŒçš„ç¼–ç¨‹èŒƒå¼ï¼Œä¾‹å¦‚é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰å’Œå‡½æ•°å¼ç¼–ç¨‹ï¼ˆFPï¼‰ï¼Œä»è€Œå®ç°é€šç”¨çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œåœ¨OOPä¸­ï¼Œç»“æ„ä½“å¯ä»¥è¢«çœ‹ä½œæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå‡½æ•°æŒ‡é’ˆå¯ä»¥è¢«çœ‹ä½œæ˜¯å¯¹è±¡çš„æ–¹æ³•ï¼Œä»è€Œå®ç°OOPç¼–ç¨‹çš„æ€æƒ³ã€‚ æ›´åŠ æ˜“äºç»´æŠ¤ï¼šç»“æ„ä½“å°è£…å‡½æ•°ä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°ã€æ˜“äºç»´æŠ¤å’Œä¿®æ”¹ã€‚ç”±äºå‡½æ•°æŒ‡é’ˆçš„å®šä¹‰å’Œä½¿ç”¨éƒ½åœ¨ç»“æ„ä½“å†…éƒ¨ï¼Œå› æ­¤ä¿®æ”¹æˆ–è°ƒæ•´ä»£ç æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹ç»“æ„ä½“ä¸­çš„å‡½æ•°æŒ‡é’ˆå®šä¹‰æˆ–è°ƒç”¨æ–¹å¼ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹å…¶ä»–éƒ¨åˆ†çš„ä»£ç ï¼Œä»è€Œä½¿å¾—ä»£ç æ›´åŠ å¥å£®ã€æ˜“äºç»´æŠ¤å’Œä¿®æ”¹ æ¨¡å—åŒ–ï¼šé€šè¿‡ç»“æ„ä½“å°è£…å‡½æ•°ï¼Œå¯ä»¥å°†å¤šä¸ªå‡½æ•°å’Œæ•°æ®ç»“æ„ç»„åˆæˆä¸€ä¸ªæ¨¡å—ï¼Œä»¥ä¾¿äºæ¨¡å—åŒ–è®¾è®¡å’Œç»´æŠ¤ã€‚è¿™ç§æ–¹æ³•å¯ä»¥å°†ä»£ç çš„å¤æ‚æ€§åˆ†è§£åˆ°ä¸åŒçš„æ¨¡å—ä¸­ï¼Œé™ä½äº†ä»£ç çš„è€¦åˆæ€§ï¼Œæé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ ä»£ç å¤ç”¨ï¼šç»“æ„ä½“å°è£…çš„å‡½æ•°å¯ä»¥é€šè¿‡ä¼ é€’ç»“æ„ä½“çš„æ–¹å¼é‡ç”¨åŒä¸€ä¸ªå‡½æ•°ã€‚è¿™ç§æ–¹å¼å¯ä»¥å¤§å¤§å‡å°‘ä»£ç é‡ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ å¯æ‰©å±•æ€§ï¼šå½“éœ€è¦å¢åŠ æ–°çš„åŠŸèƒ½æ—¶ï¼Œåªéœ€å¢åŠ æ–°çš„å‡½æ•°å’Œæ•°æ®ç»“æ„ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ç°æœ‰ä»£ç ã€‚è¿™ç§æ–¹å¼å¯ä»¥å¤§å¤§å‡å°‘ä»£ç çš„ä¿®æ”¹å’Œè°ƒè¯•æ—¶é—´ï¼Œæé«˜ä»£ç çš„å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ ä¿æŠ¤æ•°æ®ï¼šé€šè¿‡ç»“æ„ä½“å°è£…å‡½æ•°ï¼Œå¯ä»¥å°†æ•°æ®å’Œå‡½æ•°å°è£…åœ¨ä¸€ä¸ªç»“æ„ä½“ä¸­ï¼Œé˜²æ­¢å¤–éƒ¨ä»£ç å¯¹æ•°æ®çš„éæ³•è®¿é—®å’Œä¿®æ”¹ã€‚ æé«˜å®‰å…¨æ€§ï¼šå°†å‡½æ•°å’Œæ•°æ®å°è£…åœ¨ä¸€ä¸ªç»“æ„ä½“ä¸­ï¼Œå¯ä»¥é˜²æ­¢å…¶ä»–å‡½æ•°å¯¹æ•°æ®çš„éæ³•æ“ä½œï¼Œä»è€Œæé«˜ç¨‹åºçš„å®‰å…¨æ€§ã€‚  ä¸¾ä¾‹1 /* å®šä¹‰å°è£…å‡½æ•°ç»“æ„ä½“ç”±å¤–éƒ¨è°ƒç”¨*/ typedef struct { int x; int y; void (*move_up)(int steps); void (*move_down)(int steps); void (*move_left)(int steps); void (*move_right)(int steps); } Point; // å®šä¹‰ç»“æ„ä½“ä¸­çš„å‡½æ•° void move_up(int steps) { // å‘ä¸Šç§»åŠ¨stepsä¸ªå•ä½  // ... } void move_down(int steps) { // å‘ä¸‹ç§»åŠ¨stepsä¸ªå•ä½  // ... } void move_left(int steps) { // å‘å·¦ç§»åŠ¨stepsä¸ªå•ä½  // ... } void move_right(int steps) { // å‘å³ç§»åŠ¨stepsä¸ªå•ä½  // ... } int main() { // åˆå§‹åŒ–ç»“æ„ä½“  Point point = { .x = 0, .y = 0, .move_up = move_up, .move_down = move_down, .move_left = move_left, .move_right = move_right }; // è°ƒç”¨ç»“æ„ä½“ä¸­çš„å‡½æ•°  point.move_up(10); point.move_right(5); return 0; } åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“Pointï¼Œå…¶ä¸­åŒ…å«äº†ä¸¤ä¸ªæ•´å‹å˜é‡xå’Œyï¼Œä»¥åŠå››ä¸ªå‡½æ•°æŒ‡é’ˆmove_upã€move_downã€move_leftå’Œmove_rightã€‚æ¯ä¸ªå‡½æ•°æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªç§»åŠ¨å‡½æ•°ï¼Œç”¨äºåœ¨å¹³é¢åæ ‡ç³»ä¸­ç§»åŠ¨ç‚¹çš„ä½ç½®ã€‚é€šè¿‡ä½¿ç”¨ç»“æ„ä½“å°è£…å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‡½æ•°å’Œæ•°æ®å°è£…åœ¨ä¸€èµ·ï¼Œæ–¹ä¾¿åœ°è¿›è¡Œæ“ä½œå’Œç®¡ç†ã€‚
åœ¨main()å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆé€šè¿‡åˆå§‹åŒ–çš„æ–¹å¼ï¼Œå°†ç»“æ„ä½“ä¸­çš„æˆå‘˜å˜é‡å’Œå‡½æ•°æŒ‡é’ˆåˆå§‹åŒ–ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ç»“æ„ä½“ä¸­çš„å‡½æ•°æŒ‡é’ˆï¼Œè°ƒç”¨äº†move_up()å’Œmove_right()å‡½æ•°ï¼Œåˆ†åˆ«å°†ç‚¹å‘ä¸Šç§»åŠ¨10ä¸ªå•ä½å’Œå‘å³ç§»åŠ¨5ä¸ªå•ä½ã€‚
å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹å‡½æ•°çš„å®ç°ï¼Œä»¥åŠç»“æ„ä½“ä¸­çš„æˆå‘˜å˜é‡å’Œå‡½æ•°æŒ‡é’ˆçš„æ•°é‡å’Œç±»å‹ã€‚åŒæ—¶é¿å…æ»¥ç”¨ã€‚
ä¸¾ä¾‹2 typedef struct { void (*init)(void); void (*write)(uint8_t data); uint8_t (*read)(void); } spi_t; void spi_init(void) { /* SPIåˆå§‹åŒ–ä»£ç  */ } void spi_write(uint8_t data) { /* SPIå†™å…¥æ•°æ® */ } uint8_t spi_read(void) { /* SPIè¯»å–æ•°æ® */ } int main(void) { spi_t spi = {spi_init, spi_write, spi_read}; spi.init(); spi.write(0xAA); uint8_t data = spi.read(); return 0; } åœ¨ä¸¾ä¾‹2è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªspi_tç±»å‹çš„ç»“æ„ä½“ï¼Œå®ƒåŒ…å«äº†ä¸‰ä¸ªæˆå‘˜å‡½æ•°æŒ‡é’ˆï¼Œåˆ†åˆ«å¯¹åº”SPIæ€»çº¿çš„åˆå§‹åŒ–ã€å†™å…¥å’Œè¯»å–æ“ä½œã€‚åœ¨mainå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªspiç»“æ„ä½“å˜é‡ï¼Œå¹¶ä¸”åˆå§‹åŒ–å®ƒçš„å‡½æ•°æŒ‡é’ˆæˆå‘˜ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡spiç»“æ„ä½“å˜é‡çš„å‡½æ•°æŒ‡é’ˆæˆå‘˜ï¼Œåˆ†åˆ«è°ƒç”¨äº†SPIæ€»çº¿çš„åˆå§‹åŒ–ã€å†™å…¥å’Œè¯»å–æ“ä½œã€‚
ä½¿ç”¨ç»“æ„ä½“å°è£…å‡½æ•°å¯ä»¥ä½¿ä»£ç æ›´åŠ æ¸…æ™°æ˜äº†ï¼Œå‡å°‘äº†ä»£ç çš„å†—ä½™å’Œé‡å¤ï¼ŒåŒæ—¶ä¹Ÿæ–¹ä¾¿ä»£ç çš„æ‰©å±•å’Œç»´æŠ¤ã€‚
ä¸¾ä¾‹3 å‡è®¾æˆ‘ä»¬éœ€è¦æ§åˆ¶ä¸€ä¸ªLEDç¯çš„äº®åº¦ï¼Œå¯ä»¥ä½¿ç”¨PWMï¼ˆè„‰å†²å®½åº¦è°ƒåˆ¶ï¼‰æŠ€æœ¯æ¥å®ç°ã€‚ä¸ºäº†æ–¹ä¾¿æ§åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç»“æ„ä½“æ¥å°è£…æ§åˆ¶LEDç¯çš„å‡½æ•°å’Œå˜é‡ã€‚
typedef struct { uint8_t duty_cycle; // å ç©ºæ¯”  void (*set_duty_cycle)(uint8_t duty_cycle); // è®¾ç½®å ç©ºæ¯”çš„å‡½æ•°æŒ‡é’ˆ  void (*start)(void); // å¯åŠ¨PWMè¾“å‡ºçš„å‡½æ•°æŒ‡é’ˆ  void (*stop)(void); // åœæ­¢PWMè¾“å‡ºçš„å‡½æ•°æŒ‡é’ˆ } pwm_control_t; // è®¾ç½®å ç©ºæ¯” void set_duty_cycle(uint8_t duty_cycle) { // è®¾ç½®å ç©ºæ¯”çš„ä»£ç  } // å¯åŠ¨PWMè¾“å‡º void start_pwm(void) { // å¯åŠ¨PWMè¾“å‡ºçš„ä»£ç  } // åœæ­¢PWMè¾“å‡º void stop_pwm(void) { // åœæ­¢PWMè¾“å‡ºçš„ä»£ç  } int main(void) { pwm_control_t pwm; pwm.duty_cycle = 50; // è®¾ç½®å ç©ºæ¯”ä¸º50%  pwm.set_duty_cycle = set_duty_cycle; pwm.start = start_pwm; pwm.stop = stop_pwm; pwm.set_duty_cycle(pwm.duty_cycle); // è®¾ç½®å ç©ºæ¯”  pwm.start(); // å¯åŠ¨PWMè¾“å‡º  while (1) { // å¾ªç¯æ‰§è¡Œå…¶ä»–ä»»åŠ¡  } } åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸ºpwm_control_tçš„ç»“æ„ä½“ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€ä¸ªå ç©ºæ¯”æˆå‘˜å˜é‡duty_cycleå’Œä¸‰ä¸ªå‡½æ•°æŒ‡é’ˆset_duty_cycleã€startå’Œstopã€‚set_duty_cycleå‡½æ•°ç”¨äºè®¾ç½®å ç©ºæ¯”ï¼Œstartå‡½æ•°ç”¨äºå¯åŠ¨PWMè¾“å‡ºï¼Œstopå‡½æ•°ç”¨äºåœæ­¢PWMè¾“å‡ºã€‚
åœ¨mainå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªpwm_control_tç±»å‹çš„ç»“æ„ä½“å˜é‡pwmï¼Œå¹¶åˆ†åˆ«ç»™ç»“æ„ä½“çš„æˆå‘˜å˜é‡å’Œå‡½æ•°æŒ‡é’ˆèµ‹å€¼ã€‚æ¥ç€ï¼Œæˆ‘ä»¬è°ƒç”¨äº†set_duty_cycleå’Œstartå‡½æ•°æ¥è®¾ç½®å ç©ºæ¯”å’Œå¯åŠ¨PWMè¾“å‡ºã€‚
ç»“æ„ä½“å°è£…å‡½æ•°çš„å¥½å¤„åœ¨äºï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸åŒçš„ç»“æ„ä½“å˜é‡æ¥æ§åˆ¶å¤šä¸ªLEDç¯ï¼Œè€Œä¸”ä¸åŒçš„LEDç¯å¯ä»¥ä½¿ç”¨ä¸åŒçš„PWMå‚æ•°ã€‚æ­¤å¤–ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹PWMè¾“å‡ºçš„å®ç°æ–¹å¼ï¼Œåªéœ€è¦ä¿®æ”¹startå’Œstopå‡½æ•°å³å¯ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹æ¯ä¸ªLEDç¯ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>Linuxé©±åŠ¨IOç¯‡â€”â€”mmapæ“ä½œ</title>
    <url>/post/linux/linux-io-device-driver-mmap-operation.html</url>
    <categories><category>Linux</category>
    </categories>
    <tags>
      <tag>Device Driver</tag>
      <tag>mmap</tag>
      <tag>IO</tag>
    </tags>
    <content type="html"><![CDATA[å¹³æ—¶æˆ‘ä»¬å†™Linuxé©±åŠ¨å’Œç”¨æˆ·ç©ºé—´äº¤äº’æ—¶ï¼Œéƒ½æ˜¯é€šè¿‡copy_from_useræŠŠç”¨æˆ·ç©ºé—´ä¼ è¿‡æ¥çš„æ•°æ®è¿›è¡Œæ‹·è´ï¼Œä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšå‘¢ï¼Ÿ
å‰è¨€ å› ä¸ºç”¨æˆ·ç©ºé—´æ˜¯ä¸èƒ½ç›´æ¥å†…æ ¸ç©ºé—´æ•°æ®çš„ï¼Œä»–ä»¬æ˜ å°„çš„æ˜¯ä¸åŒçš„åœ°å€ç©ºé—´ï¼Œåªèƒ½å…ˆå°†æ•°æ®æ‹·è´è¿‡æ¥ï¼Œç„¶åå†æ“ä½œã€‚
å¦‚æœç”¨æˆ·ç©ºé—´éœ€è¦ä¼ å‡ MBçš„æ•°æ®ç»™å†…æ ¸ï¼Œé‚£ä¹ˆåŸæ¥çš„æ‹·è´æ–¹å¼æ˜¾ç„¶æ•ˆç‡ç‰¹åˆ«ä½ï¼Œä¹Ÿä¸å¤ªç°å®ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ
æƒ³æƒ³ï¼Œä¹‹æ‰€ä»¥è¦æ‹·è´æ˜¯å› ä¸ºç”¨æˆ·ç©ºé—´ä¸èƒ½ç›´æ¥è®¿é—®å†…æ ¸ç©ºé—´ï¼Œé‚£å¦‚æœå¯ä»¥ç›´æ¥è®¿é—®å†…æ ¸ç©ºé—´çš„bufferï¼Œæ˜¯ä¸æ˜¯å°±è§£å†³äº†ã€‚
ç®€å•æ¥è¯´ï¼Œå°±æ˜¯è®©ä¸€å—ç‰©ç†å†…å­˜æ‹¥æœ‰ä¸¤ä»½æ˜ å°„ï¼Œå³æ‹¥æœ‰ä¸¤ä¸ªè™šæ‹Ÿåœ°å€ï¼Œä¸€ä¸ªåœ¨å†…æ ¸ç©ºé—´ï¼Œä¸€ä¸ªåœ¨ç”¨æˆ·ç©ºé—´ã€‚å…³ç³»å¦‚ä¸‹ï¼š
é€šè¿‡mmapæ˜ å°„å°±å¯ä»¥å®ç°ã€‚
åº”ç”¨å±‚ åº”ç”¨å±‚ä»£ç å¾ˆç®€å•ï¼Œä¸»è¦å°±æ˜¯é€šè¿‡mmapç³»ç»Ÿè°ƒç”¨è¿›è¡Œæ˜ å°„ï¼Œç„¶åå°±å¯ä»¥å¯¹è¿”å›çš„åœ°å€è¿›è¡Œæ“ä½œã€‚
char * buf; /* 1. æ‰“å¼€æ–‡ä»¶ */ fd = open(&#34;/dev/hello&#34;, O_RDWR); if (fd == -1) { printf(&#34;can not open file /dev/hello\n&#34;); return -1; } /* 2. mmap * MAP_SHARED : å¤šä¸ªAPPéƒ½è°ƒç”¨mmapæ˜ å°„åŒä¸€å—å†…å­˜æ—¶, å¯¹å†…å­˜çš„ä¿®æ”¹å¤§å®¶éƒ½å¯ä»¥çœ‹åˆ°ã€‚ * å°±æ˜¯è¯´å¤šä¸ªAPPã€é©±åŠ¨ç¨‹åºå®é™…ä¸Šè®¿é—®çš„éƒ½æ˜¯åŒä¸€å—å†…å­˜ * MAP_PRIVATE : åˆ›å»ºä¸€ä¸ªcopy on writeçš„ç§æœ‰æ˜ å°„ã€‚ * å½“APPå¯¹è¯¥å†…å­˜è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå…¶ä»–ç¨‹åºæ˜¯çœ‹ä¸åˆ°è¿™äº›ä¿®æ”¹çš„ã€‚ * å°±æ˜¯å½“APPå†™å†…å­˜æ—¶, å†…æ ¸ä¼šå…ˆåˆ›å»ºä¸€ä¸ªæ‹·è´ç»™è¿™ä¸ªAPP, * è¿™ä¸ªæ‹·è´æ˜¯è¿™ä¸ªAPPç§æœ‰çš„, å…¶ä»–APPã€é©±åŠ¨æ— æ³•è®¿é—®ã€‚ */ buf = mmap(NULL, 1024*8, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0); mmapçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æƒ³è¦æ˜ å°„çš„èµ·å§‹åœ°å€ï¼Œé€šå¸¸è®¾ç½®ä¸ºNULLï¼Œè¡¨ç¤ºç”±å†…æ ¸æ¥å†³å®šè¯¥èµ·å§‹åœ°å€ã€‚
ç¬¬äºŒå‚æ•°æ˜¯è¦æ˜ å°„çš„å†…å­˜ç©ºé—´çš„å¤§å°ã€‚
ç¬¬ä¸‰ä¸ªå‚æ•°PROT_READ | PROT_WRITEè¡¨ç¤ºæ˜ å°„åçš„ç©ºé—´æ˜¯å¯è¯»å¯å†™çš„ã€‚
ç¬¬å››ä¸ªå‚æ•°å¯å¡«MAP_SHAREDæˆ–MAP_PRIVATEï¼š
 MAP_SHAREDï¼šå¤šä¸ªAPPéƒ½è°ƒç”¨mmapæ˜ å°„åŒä¸€å—å†…å­˜æ—¶, å¯¹å†…å­˜çš„ä¿®æ”¹å¤§å®¶éƒ½å¯ä»¥çœ‹åˆ°ã€‚å°±æ˜¯è¯´å¤šä¸ªAPPã€é©±åŠ¨ç¨‹åºå®é™…ä¸Šè®¿é—®çš„éƒ½æ˜¯åŒä¸€å—å†…å­˜ã€‚ MAP_PRIVATEï¼šåˆ›å»ºä¸€ä¸ªcopy on writeçš„ç§æœ‰æ˜ å°„ã€‚å½“APPå¯¹è¯¥å†…å­˜è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå…¶ä»–ç¨‹åºæ˜¯çœ‹ä¸åˆ°è¿™äº›ä¿®æ”¹çš„ã€‚å°±æ˜¯å½“APPå†™å†…å­˜æ—¶, å†…æ ¸ä¼šå…ˆåˆ›å»ºä¸€ä¸ªæ‹·è´ç»™è¿™ä¸ªAPPï¼Œè¿™ä¸ªæ‹·è´æ˜¯è¿™ä¸ªAPPç§æœ‰çš„, å…¶ä»–APPã€é©±åŠ¨æ— æ³•è®¿é—®ã€‚  é©±åŠ¨å±‚ é©±åŠ¨å±‚ä¸»è¦æ˜¯å®ç°mmapæ¥å£ï¼Œè€Œmmapæ¥å£çš„å®ç°ï¼Œä¸»è¦æ˜¯è°ƒç”¨äº†remap_pfn_rangeå‡½æ•°ï¼Œå‡½æ•°åŸå‹å¦‚ä¸‹ï¼š
int remap_pfn_range( struct vm_area_struct *vma, unsigned long addr, unsigned long pfn, unsigned long size, pgprot_t prot); vmaï¼šæè¿°ä¸€ç‰‡æ˜ å°„åŒºåŸŸçš„ç»“æ„ä½“æŒ‡é’ˆ addrï¼šè¦æ˜ å°„çš„è™šæ‹Ÿåœ°å€èµ·å§‹åœ°å€ pfnï¼šç‰©ç†å†…å­˜æ‰€å¯¹åº”çš„é¡µæ¡†å·ï¼Œå°±æ˜¯å°†ç‰©ç†åœ°å€é™¤ä»¥é¡µå¤§å°å¾—åˆ°çš„å€¼ sizeï¼šæ˜ å°„çš„å¤§å° protï¼šè¯¥å†…å­˜åŒºåŸŸçš„è®¿é—®æƒé™
é©±åŠ¨ä¸»è¦æ­¥éª¤ï¼š
  ä½¿ç”¨kmallocæˆ–è€…kzallocå‡½æ•°åˆ†é…ä¸€å—å†…å­˜kernel_bufï¼Œå› ä¸ºè¿™æ ·åˆ†é…çš„å†…å­˜ç‰©ç†åœ°å€æ˜¯è¿ç»­çš„ï¼Œmmapååº”ç”¨å±‚ä¼šå¯¹è¿™ä¸€ä¸ªåŸºåœ°å€å»è®¿é—®è¿™å—å†…å­˜ã€‚
  å®ç°mmapå‡½æ•°
  static int hello_drv_mmap(struct file *file, struct vm_area_struct *vma) { /* è·å¾—ç‰©ç†åœ°å€ */ unsigned long phy = virt_to_phys(kernel_buf);//kernel_bufæ˜¯å†…æ ¸ç©ºé—´åˆ†é…çš„ä¸€å—è™šæ‹Ÿåœ°å€ç©ºé—´  /* è®¾ç½®å±æ€§ï¼šcache, buffer*/ vma-&gt;vm_page_prot = pgprot_writecombine(vma-&gt;vm_page_prot); /* map */ if(remap_pfn_range(vma, vma-&gt;vm_start, phy&gt;&gt;PAGE_SHFIT, vma-&gt;vm_end - vma-&gt;start, vma-&gt;vm_page_prot)){ printk(&#34;mmap remap_pfn_range failed\n&#34;); return -ENOBUFS; } return 0; } static struct file_operations my_fops = { .mmap = hello_drv_mmap, };  é€šè¿‡virt_to_physå°†è™šæ‹Ÿåœ°å€è½¬ä¸ºç‰©ç†åœ°å€ï¼Œè¿™é‡Œçš„kernel_bufæ˜¯å†…æ ¸ç©ºé—´çš„ä¸€å—è™šæ‹Ÿåœ°å€ç©ºé—´ è®¾ç½®å±æ€§ï¼šä¸ä½¿ç”¨cacheï¼Œä½¿ç”¨buffer æ˜ å°„ï¼šé€šè¿‡remap_pfn_rangeå‡½æ•°æ˜ å°„ï¼Œphy&raquo;PAGE_SHIFTå…¶å®å°±æ˜¯æŒ‰pageæ˜ å°„ï¼Œé™¤äº†è¿™ä¸ªå‚æ•°ï¼Œå…¶ä»–çš„èµ·å§‹åœ°å€ã€å¤§å°å’Œæƒé™éƒ½å¯ä»¥ç”±ç”¨æˆ·åœ¨ç³»ç»Ÿè°ƒç”¨å‡½æ•°ä¸­æŒ‡å®šã€‚  å½“åº”ç”¨å±‚è°ƒç”¨mmapåï¼Œå°±ä¼šè°ƒç”¨åˆ°é©±åŠ¨å±‚çš„mmapå‡½æ•°ï¼Œæœ€ç»ˆåº”ç”¨å±‚çš„è™šæ‹Ÿåœ°å€å’Œé©±åŠ¨ä¸­çš„ç‰©ç†åœ°å€å°±å»ºç«‹äº†æ˜ å°„å…³ç³»ï¼Œåº”ç”¨å±‚ä¹Ÿå°±å¯ä»¥ç›´æ¥è®¿é—®é©±åŠ¨çš„bufferäº†ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>Linuxä¸‹SPIé©±åŠ¨è¯¦è§£</title>
    <url>/post/linux/linux-spi-device-driver-detailed-explanation.html</url>
    <categories><category>Linux</category>
    </categories>
    <tags>
      <tag>Linux</tag>
      <tag>SPI</tag>
      <tag>Device Driver</tag>
    </tags>
    <content type="html"><![CDATA[SPIï¼Œæ˜¯è‹±è¯­Serial Peripheral interfaceçš„ç¼©å†™ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ä¸²è¡Œå¤–å›´è®¾å¤‡æ¥å£ã€‚
SPIæ€»çº¿ SPIæ€»çº¿æ¦‚è¿° SPIæ˜¯Motorolaé¦–å…ˆåœ¨å…¶MC68HCXXç³»åˆ—å¤„ç†å™¨ä¸Šå®šä¹‰çš„ã€‚SPIæ¥å£ä¸»è¦åº”ç”¨åœ¨ EEPROMï¼ŒFLASHï¼Œå®æ—¶æ—¶é’Ÿï¼ŒADè½¬æ¢å™¨ï¼Œè¿˜æœ‰æ•°å­—ä¿¡å·å¤„ç†å™¨å’Œæ•°å­—ä¿¡å·è§£ç å™¨ä¹‹é—´ã€‚SPIï¼Œæ˜¯ä¸€ç§é«˜é€Ÿçš„ï¼Œå…¨åŒå·¥ï¼ŒåŒæ­¥çš„é€šä¿¡æ€»çº¿ï¼Œå¹¶ä¸”åœ¨èŠ¯ç‰‡çš„ç®¡è„šä¸Šåªå ç”¨å››æ ¹çº¿ï¼ŒèŠ‚çº¦äº†èŠ¯ç‰‡çš„ç®¡è„šï¼ŒåŒæ—¶ä¸ºPCBçš„å¸ƒå±€ä¸ŠèŠ‚çœç©ºé—´ï¼Œæä¾›æ–¹ä¾¿ï¼Œæ­£æ˜¯å‡ºäºè¿™ç§ç®€å•æ˜“ç”¨çš„ç‰¹æ€§ï¼Œç°åœ¨è¶Šæ¥è¶Šå¤šçš„èŠ¯ç‰‡é›†æˆäº†è¿™ç§é€šä¿¡åè®®ã€‚SPIæ€»çº¿çš„æ„æˆåŠä¿¡å·ç±»å‹å¦‚å›¾1-1æ‰€ç¤ºï¼š
 MOSI â€“ ä¸»è®¾å¤‡æ•°æ®è¾“å‡ºï¼Œä»è®¾å¤‡æ•°æ®è¾“å…¥ å¯¹åº”MOSI master output slave input MISO â€“ ä¸»è®¾å¤‡æ•°æ®è¾“å…¥ï¼Œä»è®¾å¤‡æ•°æ®è¾“å‡º å¯¹åº”MISO master input slave output CLK â€“ æ—¶é’Ÿä¿¡å·ï¼Œç”±ä¸»è®¾å¤‡äº§ç”Ÿ nCS â€“ ä»è®¾å¤‡ä½¿èƒ½ä¿¡å·ï¼Œç”±ä¸»è®¾å¤‡æ§åˆ¶  å›¾1-1 SPIæ€»çº¿æ¨¡å‹
SPIæ€»çº¿æ—¶åº SPIæ¥å£åœ¨Masteræ§åˆ¶ä¸‹äº§ç”Ÿçš„ä»è®¾å¤‡ä½¿èƒ½ä¿¡å·å’Œæ—¶é’Ÿä¿¡å·ï¼Œä¸¤ä¸ªåŒå‘ç§»ä½å¯„å­˜å™¨æŒ‰ä½ä¼ è¾“è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œä¼ è¾“æ•°æ®é«˜ä½åœ¨å‰ï¼ˆMSB firstï¼‰ï¼Œä½ä½åœ¨åã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåœ¨CLKçš„ä¸‹é™æ²¿ä¸Šæ•°æ®æ”¹å˜ï¼Œä¸Šå‡æ²¿ä¸€ä½æ•°æ®è¢«å­˜å…¥ç§»ä½å¯„å­˜å™¨ã€‚
å›¾1-2 spiä¼ è¾“æ—¶åºå›¾
åœ¨ä¸€ä¸ªSPIæ—¶é’Ÿå‘¨æœŸå†…ï¼Œä¼šå®Œæˆå¦‚ä¸‹æ“ä½œï¼šï¼ˆ1ï¼‰Masteré€šè¿‡MOSIçº¿å‘é€1ä½æ•°æ®ï¼ŒåŒæ—¶Slaveé€šè¿‡MOSIçº¿è¯»å–è¿™1ä½æ•°æ®ï¼›ï¼ˆ2ï¼‰Slaveé€šè¿‡MISOçº¿å‘é€1ä½æ•°æ®ï¼ŒåŒæ—¶Masteré€šè¿‡MISOçº¿è¯»å–è¿™1ä½æ•°æ®ã€‚Masterå’ŒSlaveå„æœ‰ä¸€ä¸ªç§»ä½å¯„å­˜å™¨ï¼Œå¦‚å›¾1-3æ‰€ç¤ºï¼Œè€Œä¸”è¿™ä¸¤ä¸ªç§»ä½å¯„å­˜å™¨è¿æ¥æˆç¯çŠ¶ã€‚ä¾ç…§CLKçš„å˜åŒ–ï¼Œæ•°æ®ä»¥MSB firstçš„æ–¹å¼ä¾æ¬¡ç§»å‡ºMasterå¯„å­˜å™¨å’ŒSlaveå¯„å­˜å™¨ï¼Œå¹¶ä¸”ä¾æ¬¡ç§»å…¥Slaveå¯„å­˜å™¨å’ŒMasterå¯„å­˜å™¨ã€‚å½“å¯„å­˜å™¨ä¸­çš„å†…å®¹å…¨éƒ¨ç§»å‡ºæ—¶ï¼Œç›¸å½“äºå®Œæˆäº†ä¸¤ä¸ªå¯„å­˜å™¨å†…å®¹çš„äº¤æ¢ã€‚
SPIæ€»çº¿ä¼ è¾“æ¨¡å¼ SPIæ€»çº¿ä¼ è¾“ä¸€å…±æœ‰4ç§æ¨¡å¼ï¼Œè¿™4ç§æ¨¡å¼åˆ†åˆ«ç”±æ—¶é’Ÿææ€§(CPOLï¼ŒClock Polarity)å’Œæ—¶é’Ÿç›¸ä½(CPHAï¼ŒClock Phase)æ¥å®šä¹‰ï¼Œå…¶ä¸­CPOLå‚æ•°è§„å®šäº†SCKæ—¶é’Ÿä¿¡å·ç©ºé—²çŠ¶æ€çš„ç”µå¹³ï¼ŒCPHAè§„å®šäº†æ•°æ®æ˜¯åœ¨SCKæ—¶é’Ÿçš„ä¸Šå‡æ²¿è¢«é‡‡æ ·è¿˜æ˜¯ä¸‹é™æ²¿è¢«é‡‡æ ·ã€‚è¿™å››ç§æ¨¡å¼çš„æ—¶åºå›¾å¦‚ä¸‹å›¾1-4æ‰€ç¤ºï¼š
 æ¨¡å¼0ï¼šCPOL= 0ï¼ŒCPHA=0ã€‚CLKä¸²è¡Œæ—¶é’Ÿçº¿ç©ºé—²æ˜¯ä¸ºä½ç”µå¹³ï¼Œæ•°æ®åœ¨SCKæ—¶é’Ÿçš„ä¸Šå‡æ²¿è¢«é‡‡æ ·ï¼Œæ•°æ®åœ¨CLKæ—¶é’Ÿçš„ä¸‹é™æ²¿åˆ‡æ¢ æ¨¡å¼1ï¼šCPOL= 0ï¼ŒCPHA=1ã€‚CLKä¸²è¡Œæ—¶é’Ÿçº¿ç©ºé—²æ˜¯ä¸ºä½ç”µå¹³ï¼Œæ•°æ®åœ¨SCKæ—¶é’Ÿçš„ä¸‹é™æ²¿è¢«é‡‡æ ·ï¼Œæ•°æ®åœ¨CLKæ—¶é’Ÿçš„ä¸Šå‡æ²¿åˆ‡æ¢ æ¨¡å¼2ï¼šCPOL= 1ï¼ŒCPHA=0ã€‚CLKä¸²è¡Œæ—¶é’Ÿçº¿ç©ºé—²æ˜¯ä¸ºé«˜ç”µå¹³ï¼Œæ•°æ®åœ¨SCKæ—¶é’Ÿçš„ä¸‹é™æ²¿è¢«é‡‡æ ·ï¼Œæ•°æ®åœ¨CLKæ—¶é’Ÿçš„ä¸Šå‡æ²¿åˆ‡æ¢ æ¨¡å¼3ï¼šCPOL= 1ï¼ŒCPHA=1ã€‚CLKä¸²è¡Œæ—¶é’Ÿçº¿ç©ºé—²æ˜¯ä¸ºé«˜ç”µå¹³ï¼Œæ•°æ®åœ¨SCKæ—¶é’Ÿçš„ä¸Šå‡æ²¿è¢«é‡‡æ ·ï¼Œæ•°æ®åœ¨CLKæ—¶é’Ÿçš„ä¸‹é™æ²¿åˆ‡æ¢ å…¶ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ¨¡å¼æ˜¯æ¨¡å¼0å’Œæ¨¡å¼3ã€‚ä¸ºäº†æ›´æ¸…æ™°çš„æè¿°SPIæ€»çº¿çš„æ—¶åºï¼Œä¸‹é¢å±•ç°äº†æ¨¡å¼0ä¸‹çš„SPIæ—¶åºå›¾1-5ï¼š  å›¾1-5 mode0ä¸‹çš„SPIæ—¶åºå›¾
SPIæ€»çº¿çš„ä¼˜ç¼ºç‚¹  åœ¨ç‚¹å¯¹ç‚¹çš„é€šä¿¡ä¸­ï¼ŒSPIæ¥å£ä¸éœ€è¦è¿›è¡Œå¯»å€æ“ä½œï¼Œä¸”ä¸ºå…¨åŒå·¥é€šä¿¡ï¼Œæ˜¾å¾—ç®€å•é«˜æ•ˆã€‚ SPIæ¥å£æ²¡æœ‰æŒ‡å®šçš„æµæ§åˆ¶ï¼Œæ²¡æœ‰åº”ç­”æœºåˆ¶ç¡®è®¤æ˜¯å¦æ¥æ”¶åˆ°æ•°æ®ã€‚  Linux SPI æ¡†æ¶ è½¯ä»¶æ¶æ„ Linuxç³»ç»Ÿå¯¹spiè®¾å¤‡å…·æœ‰å¾ˆå¥½çš„æ”¯æŒï¼Œlinuxç³»ç»Ÿä¸‹çš„spié©±åŠ¨ç¨‹åºä»é€»è¾‘ä¸Šå¯ä»¥åˆ†ä¸º3ä¸ªéƒ¨åˆ†ï¼š
 spiæ ¸å¿ƒï¼ˆSPI Coreï¼‰ï¼šSPI Coreæ˜¯Linuxå†…æ ¸ç”¨æ¥ç»´æŠ¤å’Œç®¡ç†spiçš„æ ¸å¿ƒéƒ¨åˆ†ï¼ŒSPI Coreæä¾›æ“ä½œæ¥å£å‡½æ•°ï¼Œå…è®¸ä¸€ä¸ªspi masterï¼Œspi driverå’Œspi deviceåˆå§‹åŒ–æ—¶åœ¨SPI Coreä¸­è¿›è¡Œæ³¨å†Œï¼Œä»¥åŠé€€å‡ºæ—¶è¿›è¡Œæ³¨é”€ã€‚ spiæ§åˆ¶å™¨é©±åŠ¨ï¼ˆSPI Master Driverï¼‰ï¼šSPI Masteré’ˆå¯¹ä¸åŒç±»å‹çš„spiæ§åˆ¶å™¨ç¡¬ä»¶ï¼Œå®ç°spiæ€»çº¿çš„ç¡¬ä»¶è®¿é—®æ“ä½œã€‚SPI Masteré€šè¿‡æ¥å£å‡½æ•°å‘SPI Coreæ³¨å†Œä¸€ä¸ªæ§åˆ¶å™¨ã€‚ spiè®¾å¤‡é©±åŠ¨ï¼ˆSPI Device Driverï¼‰ï¼šSPI Driveræ˜¯å¯¹åº”äºspiè®¾å¤‡ç«¯çš„é©±åŠ¨ç¨‹åºï¼Œé€šè¿‡æ¥å£å‡½æ•°å‘SPI Coreè¿›è¡Œæ³¨å†Œï¼ŒSPI Driverçš„ä½œç”¨æ˜¯å°†spiè®¾å¤‡æŒ‚æ¥åˆ°spiæ€»çº¿ä¸Šï¼›Linuxçš„è½¯ä»¶æ¶æ„å›¾å¦‚å›¾2-1æ‰€ç¤ºï¼š  å›¾2-1 spiè½¯ä»¶æ¶æ„å›¾
åˆå§‹åŒ–åŠé€€å‡ºæµç¨‹ æ³¨å†Œspiæ§åˆ¶å™¨ æ³¨å†Œspiæ§åˆ¶å™¨åˆ°å†…æ ¸åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œä½¿ç”¨spi_alloc_master,åˆ†é…ä¸€ä¸ªspi_masterçš„ç©ºé—´ï¼Œå…·ä½“æµç¨‹å¦‚å›¾2-2æ‰€ç¤ºï¼š
ç¬¬äºŒé˜¶æ®µï¼Œä½¿ç”¨spi_register_masterå°†ç¬¬ä¸€é˜¶æ®µåˆ†é…çš„spi_masteræ³¨å†Œåˆ°å†…æ ¸ä¸­ï¼Œå…·ä½“æµç¨‹å¦‚2-3æ‰€ç¤ºï¼š
æ³¨é”€spiæ§åˆ¶å™¨ spiæ§åˆ¶å™¨æ³¨é”€çš„æµç¨‹å¦‚å›¾2-4æ‰€ç¤ºï¼š
å…³é”®æ•°æ®ç»“æ„ spi_device struct spi_device { struct device dev; /*spiæ§åˆ¶å™¨å¯¹åº”çš„deviceç»“æ„ struct spi_master *master; /*è®¾å¤‡ä½¿ç”¨çš„masterç»“æ„ï¼ŒæŒ‚åœ¨å“ªä¸ªä¸»æ§åˆ¶å™¨ä¸‹*/ u32 max_speed_hz; /*é€šè®¯æ—¶é’Ÿæœ€å¤§é¢‘ç‡*/ u8 chip_select; /*ç‰‡é€‰å·ï¼Œæ¯ä¸ªmasteræ”¯æŒå¤šä¸ªspi_device */ u8 mode; #define SPI_CPHA 0x01 /* clock phase */#define SPI_CPOL 0x02 /* clock polarity */#define SPI_MODE_0 (0|0) /* (original MicroWire) */#define SPI_MODE_1 (0|SPI_CPHA) #define SPI_MODE_2 (SPI_CPOL|0) #define SPI_MODE_3 (SPI_CPOL|SPI_CPHA) #define SPI_CS_HIGH 0x04 /* chipselect active high? */#define SPI_LSB_FIRST 0x08 /* per-word bits-on-wire */#define SPI_3WIRE 0x10 /* SI/SO signals shared */#define SPI_LOOP 0x20 /* loopback mode */#define SPI_NO_CS 0x40 /* 1 dev/bus, no chipselect */#define SPI_READY 0x80 /* slave pulls low to pause */ u8 bits_per_word; /*æ¯ä¸ªå­—é•¿çš„æ¯”ç‰¹æ•°ï¼Œé»˜è®¤æ˜¯8*/ int irq; void *controller_state; /*æ§åˆ¶å™¨çŠ¶æ€*/ void *controller_data; /*æ§åˆ¶å™¨æ•°æ®*/ char modalias[SPI_NAME_SIZE]; /* è®¾å¤‡é©±åŠ¨çš„åå­— */ int cs_gpio; /* chip select gpio */ /* * likely need more hooks for more protocol options affecting how * the controller talks to each chip, like: * - memory packing (12 bit samples into low bits, others zeroed) * - priority * - drop chipselect after each word * - chipselect delays * - ... */ }; spi_deviceä»£è¡¨ä¸€ä¸ªå¤–å›´spiè®¾å¤‡ï¼Œç”±master controller driveræ³¨å†Œå®Œæˆåæ‰«æBSPä¸­æ³¨å†Œè®¾å¤‡äº§ç”Ÿçš„è®¾å¤‡é“¾è¡¨å¹¶å‘spi_busæ³¨å†Œäº§ç”Ÿã€‚åœ¨å†…æ ¸ä¸­ï¼Œæ¯ä¸ªspi_deviceä»£è¡¨ä¸€ä¸ªç‰©ç†çš„spiè®¾å¤‡ã€‚
spi_driver struct spi_driver { const struct spi_device_id *id_table; /*æ”¯æŒçš„spi_deviceè®¾å¤‡è¡¨*/ int (*probe)(struct spi_device *spi); int (*remove)(struct spi_device *spi); void (*shutdown)(struct spi_device *spi); int (*suspend)(struct spi_device *spi, pm_message_t mesg); int (*resume)(struct spi_device *spi); struct device_driver driver; }; spi_driverä»£è¡¨ä¸€ä¸ªSPI protocol driversï¼Œå³å¤–è®¾é©±åŠ¨
struct spi_master struct spi_master { struct device dev; /*spiæ§åˆ¶å™¨å¯¹åº”çš„deviceç»“æ„*/ struct list_head list; /*é“¾è¡¨ /* other than negative (== assign one dynamically), bus_num is fully * board-specific. usually that simplifies to being SOC-specific. * example: one SOC has three SPI controllers, numbered 0..2, * and one board&#39;s schematics might show it using SPI-2. software * would normally use bus_num=2 for that controller. */ s16 bus_num; /*æ€»çº¿ï¼ˆæˆ–æ§åˆ¶å™¨ç¼–å·ï¼‰*/ /* chipselects will be integral to many controllers; some others * might use board-specific GPIOs. */ u16 num_chipselect; /*ç‰‡é€‰æ•°é‡*/ /* some SPI controllers pose alignment requirements on DMAable * buffers; let protocol drivers know about these requirements. */ u16 dma_alignment; /* spi_device.mode flags understood by this controller driver */ u16 mode_bits; /* masteræ”¯æŒçš„è®¾å¤‡æ¨¡å¼ */ /* bitmask of supported bits_per_word for transfers */ u32 bits_per_word_mask; /* other constraints relevant to this driver */ u16 flags; /*ç”¨äºé™å®šæŸäº›é™åˆ¶æ¡ä»¶çš„æ ‡å¿—ä½ #define SPI_MASTER_HALF_DUPLEX BIT(0) /* can&#39;t do full duplex */ #define SPI_MASTER_NO_RX BIT(1) /* can&#39;t do buffer read */#define SPI_MASTER_NO_TX BIT(2) /* can&#39;t do buffer write */ /* lock and mutex for SPI bus locking */ spinlock_t bus_lock_spinlock; struct mutex bus_lock_mutex; /* flag indicating that the SPI bus is locked for exclusive use */ bool bus_lock_flag; /* Setup mode and clock, etc (spi driver may call many times). * * IMPORTANT: this may be called when transfers to another * device are active. DO NOT UPDATE SHARED REGISTERS in ways * which could break those transfers. */ int (*setup)(struct spi_device *spi); /*æ ¹æ®spiè®¾å¤‡æ›´æ–°ç¡¬ä»¶é…ç½®ã€‚è®¾ç½®spiå·¥ä½œæ¨¡å¼ã€æ—¶é’Ÿç­‰*/ /* bidirectional bulk transfers * * + The transfer() method may not sleep; its main role is * just to add the message to the queue. * + For now there&#39;s no remove-from-queue operation, or * any other request management * + To a given spi_device, message queueing is pure fifo * * + The master&#39;s main job is to process its message queue, * selecting a chip then transferring data * + If there are multiple spi_device children, the i/o queue * arbitration algorithm is unspecified (round robin, fifo, * priority, reservations, preemption, etc) * * + Chipselect stays active during the entire message * (unless modified by spi_transfer.cs_change != 0). * + The message transfers use clock and SPI mode parameters * previously established by setup() for this device */ int (*transfer)(struct spi_device *spi, struct spi_message *mesg); /*æ·»åŠ æ¶ˆæ¯åˆ°é˜Ÿåˆ—çš„æ–¹æ³•ï¼Œæ­¤å‡½æ•°ä¸å¯ç¡çœ ã€‚å®ƒçš„èŒè´£æ˜¯å®‰æ’å‘ç”Ÿçš„ä¼ é€å¹¶ä¸”è°ƒç”¨æ³¨å†Œçš„å›è°ƒå‡½æ•°complete()*/ /* called on release() to free memory provided by spi_master */ void (*cleanup)(struct spi_device *spi);/*cleanupå‡½æ•°ä¼šåœ¨spidev_releaseå‡½æ•°ä¸­è¢«è°ƒç”¨ï¼Œspidev_releaseè¢«ç™»è®°ä¸ºspi devçš„releaseå‡½æ•°ã€‚*/ /* * These hooks are for drivers that want to use the generic * master transfer queueing mechanism. If these are used, the * transfer() function above must NOT be specified by the driver. * Over time we expect SPI drivers to be phased over to this API. */ bool queued; struct kthread_worker kworker; /*ç”¨äºç®¡ç†æ•°æ®ä¼ è¾“æ¶ˆæ¯é˜Ÿåˆ—çš„å·¥ä½œé˜Ÿåˆ—çº¿ç¨‹*/ struct task_struct *kworker_task; struct kthread_work pump_messages; /*å…·ä½“å®ç°æ•°æ®ä¼ è¾“é˜Ÿåˆ—çš„å·¥ä½œé˜Ÿåˆ—*/ spinlock_t queue_lock; struct list_head queue; /*è¯¥æ§åˆ¶å™¨çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ‰€æœ‰ç­‰å¾…ä¼ è¾“çš„é˜Ÿåˆ—æŒ‚åœ¨è¯¥é“¾è¡¨ä¸‹*/ struct spi_message *cur_msg;/*å½“å‰æ­£åœ¨å¤„ç†çš„æ¶ˆæ¯é˜Ÿåˆ—*/ bool busy; /å¿™çŠ¶æ€*/ bool running; /*æ­£åœ¨è·‘*/ bool rt; int (*prepare_transfer_hardware)(struct spi_master *master); /*å›è°ƒå‡½æ•°ï¼Œæ­£å¼å‘èµ·ä¼ è¾“å‰ä¼šè¢«è°ƒç”¨ï¼Œç”¨äºå‡†å¤‡ç¡¬ä»¶èµ„æº*/ int (*transfer_one_message)(struct spi_master *master, struct spi_message *mesg); /*å•ä¸ªæ¶ˆæ¯çš„åŸå­ä¼ è¾“å›è°ƒå‡½æ•°ï¼Œé˜Ÿåˆ—ä¸­æ¯ä¸ªæ¶ˆæ¯éƒ½ä¼šå›è°ƒä¸€æ¬¡è¯¥å›è°ƒæ¥å®Œæˆä¼ è¾“å·¥ä½œ*/ int (*unprepare_transfer_hardware)(struct spi_master *master); /*æ¸…ç†å›è°ƒå‡½æ•°*/ /* gpio chip select */ int *cs_gpios; }; spi_masterä»£è¡¨ä¸€ä¸ªspiæ§åˆ¶å™¨ã€‚
struct spi_message å’Œspi_transfer è¦å®Œæˆå’ŒSPIè®¾å¤‡çš„æ•°æ®ä¼ è¾“å·¥ä½œï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¦å¤–ä¸¤ä¸ªæ•°æ®ç»“æ„ï¼šspi_messageå’Œspi_transferã€‚
spi_messageåŒ…å«äº†ä¸€ä¸ªçš„spi_transferç»“æ„åºåˆ—ï¼Œä¸€æ—¦æ§åˆ¶å™¨æ¥æ”¶äº†ä¸€ä¸ªspi_messageï¼Œå…¶ä¸­çš„spi_transferåº”è¯¥æŒ‰é¡ºåºè¢«å‘é€ï¼Œå¹¶ä¸”ä¸èƒ½è¢«å…¶å®ƒspi_messageæ‰“æ–­ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¤ä¸ºspi_messageå°±æ˜¯ä¸€æ¬¡SPIæ•°æ®äº¤æ¢çš„åŸå­æ“ä½œã€‚ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹è¿™ä¸¤ä¸ªæ•°æ®ç»“æ„çš„å®šä¹‰ï¼š
struct spi_message ï¼š
struct spi_message { struct list_head transfers; /*spi_transferé“¾è¡¨é˜Ÿåˆ—ï¼Œæ­¤æ¬¡æ¶ˆæ¯çš„ä¼ è¾“æ®µé˜Ÿåˆ—ï¼Œä¸€ä¸ªæ¶ˆæ¯å¯ä»¥åŒ…å«å¤šä¸ªä¼ è¾“æ®µã€‚*/ struct spi_device *spi; /*ä¼ è¾“çš„ç›®çš„è®¾å¤‡*/ unsigned is_dma_mapped:1; /*å¦‚æœä¸ºçœŸï¼Œæ­¤æ¬¡è°ƒç”¨æä¾›dmaå’Œcpuè™šæ‹Ÿåœ°å€ã€‚*/ /* REVISIT: we might want a flag affecting the behavior of the * last transfer ... allowing things like &#34;read 16 bit length L&#34; * immediately followed by &#34;read L bytes&#34;. Basically imposing * a specific message scheduling algorithm. * * Some controller drivers (message-at-a-time queue processing) * could provide that as their default scheduling algorithm. But * others (with multi-message pipelines) could need a flag to * tell them about such special cases. */ /* completion is reported through a callback */ void (*complete)(void *context);/*å¼‚æ­¥è°ƒç”¨å®Œæˆåçš„å›è°ƒå‡½æ•°*/ void *context; /*å›è°ƒå‡½æ•°çš„å‚æ•°*/ unsigned actual_length; /*å®é™…ä¼ è¾“çš„é•¿åº¦*/ int status; /*è¯¥æ¶ˆæ¯çš„å‘é€ç»“æœï¼ŒæˆåŠŸè¢«ç½®0ï¼Œå¦åˆ™æ˜¯ä¸€ä¸ªè´Ÿçš„é”™è¯¯ç ã€‚*/ /* for optional use by whatever driver currently owns the * spi_message ... between calls to spi_async and then later * complete(), that&#39;s the spi_master controller driver. */ struct list_head queue; void *state; }; é“¾è¡¨å­—æ®µqueueç”¨äºæŠŠè¯¥ç»“æ„æŒ‚åœ¨ä»£è¡¨æ§åˆ¶å™¨çš„spi_masterç»“æ„çš„queueå­—æ®µä¸Šï¼Œæ§åˆ¶å™¨ä¸Šå¯ä»¥åŒæ—¶è¢«åŠ å…¥å¤šä¸ªspi_messageè¿›è¡Œæ’é˜Ÿã€‚å¦ä¸€ä¸ªé“¾è¡¨å­—æ®µtransfersåˆ™ç”¨äºé“¾æ¥æŒ‚åœ¨æœ¬messageä¸‹çš„spi_tranferç»“æ„ã€‚completeå›è°ƒå‡½æ•°åˆ™ä¼šåœ¨è¯¥messageä¸‹çš„æ‰€æœ‰spi_transferéƒ½è¢«ä¼ è¾“å®Œæˆæ—¶è¢«è°ƒç”¨ï¼Œä»¥ä¾¿é€šçŸ¥åè®®é©±åŠ¨å¤„ç†æ¥æ”¶åˆ°çš„æ•°æ®ä»¥åŠå‡†å¤‡ä¸‹ä¸€æ‰¹éœ€è¦å‘é€çš„æ•°æ®ã€‚æˆ‘ä»¬å†æ¥çœ‹çœ‹spi_transferç»“æ„ï¼šspi_transfer
struct spi_transfer { /* it&#39;s ok if tx_buf == rx_buf (right?) * for MicroWire, one buffer must be null * buffers must work with dma_*map_single() calls, unless * spi_message.is_dma_mapped reports a pre-existing mapping */ const void *tx_buf; /*å‘é€ç¼“å†²åŒº*/ void *rx_buf; /*æ¥æ”¶ç¼“å†²åŒº*/ unsigned len; /*ç¼“å†²åŒºé•¿åº¦ï¼Œtxå’Œrxçš„å¤§å°ï¼ˆå­—èŠ‚æ•°ï¼‰ã€‚æŒ‡å®ƒä»¬å„è‡ªçš„å¤§å°*/ dma_addr_t tx_dma; /*txçš„dmaåœ°å€*/ dma_addr_t rx_dma; /*rxçš„dmaåœ°å€*/ unsigned cs_change:1; /*å½“å‰spi_transferå‘é€å®Œæˆä¹‹åé‡æ–°ç‰‡é€‰*/ u8 bits_per_word; /*æ¯ä¸ªå­—é•¿çš„æ¯”ç‰¹æ•°ï¼Œ0ä»£è¡¨ä½¿ç”¨spi_deviceä¸­çš„é»˜è®¤å€¼8*/ u16 delay_usecs; /*å‘é€å®Œæˆä¸€ä¸ªspi_transferåçš„å»¶æ—¶æ—¶é—´ï¼Œæ­¤æ¬¡ä¼ è¾“ç»“æŸå’Œç‰‡é€‰æ”¹å˜ä¹‹é—´çš„å»¶æ—¶ï¼Œä¹‹åå°±ä¼šå¯åŠ¨å¦ä¸€ä¸ªä¼ è¾“æˆ–è€…ç»“æŸæ•´ä¸ªæ¶ˆæ¯*/ u32 speed_hz; /*é€šä¿¡æ—¶é’Ÿã€‚å¦‚æœæ˜¯0ï¼Œä½¿ç”¨é»˜è®¤å€¼*/ #ifdef CONFIG_SPI_LOMBO  struct lombo_spi_operate_para *esop; #endif  struct list_head transfer_list; /*ç”¨äºé“¾æ¥åˆ°spi_messageï¼Œç”¨æ¥è¿æ¥çš„åŒå‘é“¾æ¥èŠ‚ç‚¹*/ }; é¦–å…ˆï¼Œtransfer_listé“¾è¡¨å­—æ®µç”¨äºæŠŠè¯¥transferæŒ‚åœ¨ä¸€ä¸ªspi_messageç»“æ„ä¸­ï¼Œtx_bufå’Œrx_bufæä¾›äº†édmaæ¨¡å¼ä¸‹çš„æ•°æ®ç¼“å†²åŒºåœ°å€ï¼Œlenåˆ™æ˜¯éœ€è¦ä¼ è¾“æ•°æ®çš„é•¿åº¦ï¼Œtx_dmaå’Œrx_dmaåˆ™ç»™å‡ºäº†dmaæ¨¡å¼ä¸‹çš„ç¼“å†²åŒºåœ°å€ã€‚åŸåˆ™æ¥è®²ï¼Œspi_transferæ‰æ˜¯ä¼ è¾“çš„æœ€å°å•ä½ï¼Œä¹‹æ‰€ä»¥åˆå¼•è¿›äº†spi_messageè¿›è¡Œæ‰“åŒ…ï¼Œæˆ‘è§‰å¾—åŸå› æ˜¯ï¼šæœ‰æ—¶å€™å¸Œæœ›å¾€spiè®¾å¤‡çš„å¤šä¸ªä¸è¿ç»­çš„åœ°å€ï¼ˆæˆ–å¯„å­˜å™¨ï¼‰ä¸€æ¬¡æ€§å†™å…¥ï¼Œå¦‚æœæ²¡æœ‰spi_messageè¿›è¡ŒæŠŠè¿™æ ·çš„å¤šä¸ªspi_transferæ‰“åŒ…ï¼Œå› ä¸ºé€šå¸¸çœŸæ­£çš„æ•°æ®ä¼ é€å·¥ä½œæ˜¯åœ¨å¦ä¸€ä¸ªå†…æ ¸çº¿ç¨‹ï¼ˆå·¥ä½œé˜Ÿåˆ—ï¼‰ä¸­å®Œæˆçš„ï¼Œä¸æ‰“åŒ…çš„åæœå°±æ˜¯ä¼šé€ æˆæ›´å¤šçš„è¿›ç¨‹åˆ‡æ¢ï¼Œæ•ˆç‡é™ä½ï¼Œå»¶è¿Ÿå¢åŠ ï¼Œå°¤å…¶å¯¹äºå¤šä¸ªä¸è¿ç»­åœ°å€çš„å°è§„æ¨¡æ•°æ®ä¼ é€è€Œè¨€å°±æ›´ä¸ºæ˜æ˜¾ã€‚
spi_board_info struct spi_board_info { /* the device name and module name are coupled, like platform_bus; * &#34;modalias&#34; is normally the driver name. * * platform_data goes to spi_device.dev.platform_data, * controller_data goes to spi_device.controller_data, * irq is copied too */ char modalias[SPI_NAME_SIZE]; /*åå­—*/ const void *platform_data; /*å¹³å°æ•°æ®*/ void *controller_data; /*æ§åˆ¶å™¨æ•°æ®*/ int irq; /* slower signaling on noisy or low voltage boards */ u32 max_speed_hz; /*æœ€å¤§é€Ÿç‡*/ /* bus_num is board specific and matches the bus_num of some * spi_master that will probably be registered later. * * chip_select reflects how this chip is wired to that master; * it&#39;s less than num_chipselect. */ u16 bus_num; /*spiæ€»çº¿ç¼–å·*/ u16 chip_select; /*ç‰‡é€‰*/ /* mode becomes spi_device.mode, and is essential for chips * where the default of SPI_CS_HIGH = 0 is wrong. */ u8 mode; /*æ¨¡å¼ */ /* ... may need additional spi_device chip config data here. * avoid stuff protocol drivers can set; but include stuff * needed to behave without being bound to a driver: * - quirks like clock rate mattering when not selected */ }; æ•°æ®ä¼ è¾“æµç¨‹ æ•´ä½“çš„æ•°æ®ä¼ è¾“æµç¨‹å¤§è‡´ä¸Šæ˜¯è¿™æ ·çš„:
 å®šä¹‰ä¸€ä¸ªspi_messageç»“æ„ï¼› ç”¨spi_message_initå‡½æ•°åˆå§‹åŒ–spi_messageï¼› å®šä¹‰ä¸€ä¸ªæˆ–æ•°ä¸ªspi_transferç»“æ„ï¼Œåˆå§‹åŒ–å¹¶ä¸ºæ•°æ®å‡†å¤‡ç¼“å†²åŒºå¹¶èµ‹å€¼ç»™spi_transferç›¸åº”çš„å­—æ®µï¼ˆtx_bufï¼Œrx_bufç­‰ï¼‰ï¼› é€šè¿‡spi_message_initå‡½æ•°æŠŠè¿™äº›spi_transferæŒ‚åœ¨spi_messageç»“æ„ä¸‹ï¼› å¦‚æœä½¿ç”¨åŒæ­¥æ–¹å¼ï¼Œè°ƒç”¨spi_sync()ï¼Œå¦‚æœä½¿ç”¨å¼‚æ­¥æ–¹å¼ï¼Œè°ƒç”¨spi_async();(æˆ‘è°ƒè¯•å¤–è®¾æ—¶ï¼Œåªä½¿ç”¨è¿‡spi_sync  ä¼ è¾“ç¤ºæ„å›¾å¦‚å›¾2-5æ‰€ç¤ºï¼š
æ•°æ®å‡†å¤‡ spi_message_init static inline void spi_message_init(struct spi_message *m) { memset(m, 0, sizeof *m); INIT_LIST_HEAD(&amp;m-&gt;transfers); } åˆå§‹åŒ–spi_messageï¼šæ¸…ç©ºmessageï¼Œåˆå§‹åŒ–transfersé“¾è¡¨å¤´ã€‚
spi_message_add_tail static inline void spi_message_add_tail(struct spi_transfer *t, struct spi_message *m) { list_add_tail(&amp;t-&gt;transfer_list, &amp;m-&gt;transfers); } å°†spi_transferåŠ å…¥åˆ°spi_messageçš„é“¾è¡¨å°¾éƒ¨ã€‚
æ•°æ®ä¼ è¾“ SPIæ•°æ®ä¼ è¾“å¯ä»¥æœ‰ä¸¤ç§æ–¹å¼ï¼šåŒæ­¥æ–¹å¼å’Œå¼‚æ­¥æ–¹å¼ã€‚æ‰€è°“åŒæ­¥æ–¹å¼æ˜¯æŒ‡æ•°æ®ä¼ è¾“çš„å‘èµ·è€…å¿…é¡»ç­‰å¾…æœ¬æ¬¡ä¼ è¾“çš„ç»“æŸï¼ŒæœŸé—´ä¸èƒ½åšå…¶å®ƒäº‹æƒ…ï¼Œç”¨ä»£ç æ¥è§£é‡Šå°±æ˜¯ï¼Œè°ƒç”¨ä¼ è¾“çš„å‡½æ•°åï¼Œç›´åˆ°æ•°æ®ä¼ è¾“å®Œæˆï¼Œå‡½æ•°æ‰ä¼šè¿”å›ã€‚è€Œå¼‚æ­¥æ–¹å¼åˆ™æ­£å¥½ç›¸åï¼Œæ•°æ®ä¼ è¾“çš„å‘èµ·è€…æ— éœ€ç­‰å¾…ä¼ è¾“çš„ç»“æŸï¼Œæ•°æ®ä¼ è¾“æœŸé—´è¿˜å¯ä»¥åšå…¶å®ƒäº‹æƒ…ï¼Œç”¨ä»£ç æ¥è§£é‡Šå°±æ˜¯ï¼Œè°ƒç”¨ä¼ è¾“çš„å‡½æ•°åï¼Œå‡½æ•°ä¼šç«‹åˆ»è¿”å›è€Œä¸ç”¨ç­‰å¾…æ•°æ®ä¼ è¾“å®Œæˆï¼Œæˆ‘ä»¬åªéœ€è®¾ç½®ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä¼ è¾“å®Œæˆåï¼Œè¯¥å›è°ƒå‡½æ•°ä¼šè¢«è°ƒç”¨ä»¥é€šçŸ¥å‘èµ·è€…æ•°æ®ä¼ é€å·²ç»å®Œæˆã€‚åŒæ­¥æ–¹å¼ç®€å•æ˜“ç”¨ï¼Œå¾ˆé€‚åˆå¤„ç†é‚£äº›å°‘é‡æ•°æ®çš„å•æ¬¡ä¼ è¾“ã€‚ä½†æ˜¯å¯¹äºæ•°æ®é‡å¤§ã€æ¬¡æ•°å¤šçš„ä¼ è¾“æ¥è¯´ï¼Œå¼‚æ­¥æ–¹å¼å°±æ˜¾å¾—æ›´åŠ åˆé€‚ã€‚å¯¹äºSPIæ§åˆ¶å™¨æ¥è¯´ï¼Œè¦æ”¯æŒå¼‚æ­¥æ–¹å¼å¿…é¡»è¦è€ƒè™‘ä»¥ä¸‹ä¸¤ç§çŠ¶å†µï¼š
 å¯¹äºåŒä¸€ä¸ªæ•°æ®ä¼ è¾“çš„å‘èµ·è€…ï¼Œæ—¢ç„¶å¼‚æ­¥æ–¹å¼æ— éœ€ç­‰å¾…æ•°æ®ä¼ è¾“å®Œæˆå³å¯è¿”å›ï¼Œè¿”å›åï¼Œè¯¥å‘èµ·è€…å¯ä»¥ç«‹åˆ»åˆå‘èµ·ä¸€ä¸ªmessageï¼Œè€Œè¿™æ—¶ä¸Šä¸€ä¸ªmessageè¿˜æ²¡æœ‰å¤„ç†å®Œã€‚ å¯¹äºå¦å¤–ä¸€ä¸ªä¸åŒçš„å‘èµ·è€…æ¥è¯´ï¼Œä¹Ÿæœ‰å¯èƒ½åŒæ—¶å‘èµ·ä¸€æ¬¡messageä¼ è¾“è¯·æ±‚ é¦–å…ˆåˆ†æspi_sync()æ¥å£çš„å®ç°æµç¨‹ï¼Œå¦‚å›¾2-6ï¼š  å…¶æ¬¡åˆ†æspi_async_lockedæ¥å£çš„å®ç°æµç¨‹ï¼Œå¦‚å›¾2-7æ‰€ç¤ºï¼š
spi_queued_transferæ¥å£çš„å®ç°æµç¨‹å¦‚å›¾3-8æ‰€ç¤ºï¼š
spi_pump_messageså‡½æ•°çš„å¤„ç†æµç¨‹å¦‚å›¾3-9æ‰€ç¤ºï¼š
å›¾ä¸­transfer_one_messageæ˜¯spiæ§åˆ¶å™¨é©±åŠ¨è¦å®ç°çš„ï¼Œä¸»è¦åŠŸèƒ½æ˜¯å¤„ç†spi_messageä¸­çš„æ¯ä¸ªspi_transferã€‚
å…³é”®å‡½æ•°è§£æ spi_alloc_master åŸå‹ï¼š
struct spi_master *spi_alloc_master(struct device *dev, unsigned size) åŠŸèƒ½ï¼šåˆ†é…ä¸€ä¸ªspi_masterç»“æ„ä½“æŒ‡é’ˆã€‚
å‚æ•°ï¼šdev:spiæ§åˆ¶å™¨deviceæŒ‡é’ˆ size ï¼šåˆ†é…çš„driver-private dataå¤§å°
è¿”å›å€¼ ï¼šæˆåŠŸï¼Œè¿”å›spi_masteræŒ‡é’ˆï¼›å¦åˆ™è¿”å›NULL
spi_register_master åŸå‹ï¼š
int spi_register_master(struct spi_master *master) åŠŸèƒ½ æ³¨å†Œspiæ§åˆ¶å™¨é©±åŠ¨åˆ°å†…æ ¸ã€‚
å‚æ•° masterï¼šspi_masteræŒ‡é’ˆ
è¿”å›å€¼ æˆåŠŸï¼Œè¿”å›0ï¼›å¦åˆ™è¿”å›é”™è¯¯ç 
spi_unregister_master åŸå‹ï¼š
void spi_unregister_master(struct spi_master *master) åŠŸèƒ½ æ³¨é”€spiæ§åˆ¶å™¨é©±åŠ¨ã€‚
å‚æ•° masterï¼šspi_masteræŒ‡é’ˆ
è¿”å›å€¼ æ— 
å®ä¾‹Demo #include &lt;linux/types.h&gt;#include &lt;linux/kernel.h&gt;#include &lt;linux/delay.h&gt;#include &lt;linux/ide.h&gt;#include &lt;linux/init.h&gt;#include &lt;linux/module.h&gt;#include &lt;linux/errno.h&gt;#include &lt;linux/gpio.h&gt;#include &lt;linux/cdev.h&gt;#include &lt;linux/device.h&gt;#include &lt;linux/of_gpio.h&gt;#include &lt;linux/semaphore.h&gt;#include &lt;linux/timer.h&gt;#include &lt;linux/i2c.h&gt;#include &lt;linux/spi/spi.h&gt;#include &lt;linux/of.h&gt;#include &lt;linux/of_address.h&gt;#include &lt;linux/of_gpio.h&gt;#include &lt;linux/platform_device.h&gt;#include &lt;asm/mach/map.h&gt;#include &lt;asm/uaccess.h&gt;#include &lt;asm/io.h&gt;#include &#34;icm20608reg.h&#34;/*************************************************************** Copyright Â© ALIENTEK Co., Ltd. 1998-2029. All rights reserved. æ–‡ä»¶å : icm20608.c ä½œè€… : å·¦å·¥ ç‰ˆæœ¬ : V1.0 æè¿° : ICM20608 SPIé©±åŠ¨ç¨‹åº å…¶ä»– : æ—  è®ºå› : æ—¥å¿— : åˆç‰ˆV1.0 2019/9/2 å·¦å·¥åˆ›å»º ***************************************************************/ #define ICM20608_CNT 1 #define ICM20608_NAME &#34;icm20608&#34;  struct icm20608_dev { dev_t devid; /* è®¾å¤‡å· */ struct cdev cdev; /* cdev */ struct class *class; /* ç±» */ struct device *device; /* è®¾å¤‡ */ struct device_node *nd; /* è®¾å¤‡èŠ‚ç‚¹ */ int major; /* ä¸»è®¾å¤‡å· */ void *private_data; /* ç§æœ‰æ•°æ® */ int cs_gpio; /* ç‰‡é€‰æ‰€ä½¿ç”¨çš„GPIOç¼–å· */ signed int gyro_x_adc; /* é™€èºä»ªXè½´åŸå§‹å€¼ */ signed int gyro_y_adc; /* é™€èºä»ªYè½´åŸå§‹å€¼ */ signed int gyro_z_adc; /* é™€èºä»ªZè½´åŸå§‹å€¼ */ signed int accel_x_adc; /* åŠ é€Ÿåº¦è®¡Xè½´åŸå§‹å€¼ */ signed int accel_y_adc; /* åŠ é€Ÿåº¦è®¡Yè½´åŸå§‹å€¼ */ signed int accel_z_adc; /* åŠ é€Ÿåº¦è®¡Zè½´åŸå§‹å€¼ */ signed int temp_adc; /* æ¸©åº¦åŸå§‹å€¼ */ }; static struct icm20608_dev icm20608dev; /* * @description : ä»icm20608è¯»å–å¤šä¸ªå¯„å­˜å™¨æ•°æ® * @param - dev: icm20608è®¾å¤‡ * @param - reg: è¦è¯»å–çš„å¯„å­˜å™¨é¦–åœ°å€ * @param - val: è¯»å–åˆ°çš„æ•°æ® * @param - len: è¦è¯»å–çš„æ•°æ®é•¿åº¦ * @return : æ“ä½œç»“æœ */ static int icm20608_read_regs(struct icm20608_dev *dev, u8 reg, void *buf, int len) { int ret; unsigned char txdata[len]; struct spi_message m; struct spi_transfer *t; struct spi_device *spi = (struct spi_device *)dev-&gt;private_data; gpio_set_value(dev-&gt;cs_gpio, 0); /* ç‰‡é€‰æ‹‰ä½ï¼Œé€‰ä¸­ICM20608 */ t = kzalloc(sizeof(struct spi_transfer), GFP_KERNEL); /* ç”³è¯·å†…å­˜ */ /* ç¬¬1æ¬¡ï¼Œå‘é€è¦è¯»å–çš„å¯„å­˜åœ°å€ */ txdata[0] = reg | 0x80; /* å†™æ•°æ®çš„æ—¶å€™å¯„å­˜å™¨åœ°å€bit8è¦ç½®1 */ t-&gt;tx_buf = txdata; /* è¦å‘é€çš„æ•°æ® */ t-&gt;len = 1; /* 1ä¸ªå­—èŠ‚ */ spi_message_init(&amp;m); /* åˆå§‹åŒ–spi_message */ spi_message_add_tail(t, &amp;m);/* å°†spi_transferæ·»åŠ åˆ°spi_messageé˜Ÿåˆ— */ ret = spi_sync(spi, &amp;m); /* åŒæ­¥å‘é€ */ /* ç¬¬2æ¬¡ï¼Œè¯»å–æ•°æ® */ txdata[0] = 0xff; /* éšä¾¿ä¸€ä¸ªå€¼ï¼Œæ­¤å¤„æ— æ„ä¹‰ */ t-&gt;rx_buf = buf; /* è¯»å–åˆ°çš„æ•°æ® */ t-&gt;len = len; /* è¦è¯»å–çš„æ•°æ®é•¿åº¦ */ spi_message_init(&amp;m); /* åˆå§‹åŒ–spi_message */ spi_message_add_tail(t, &amp;m);/* å°†spi_transferæ·»åŠ åˆ°spi_messageé˜Ÿåˆ— */ ret = spi_sync(spi, &amp;m); /* åŒæ­¥å‘é€ */ kfree(t); /* é‡Šæ”¾å†…å­˜ */ gpio_set_value(dev-&gt;cs_gpio, 1); /* ç‰‡é€‰æ‹‰é«˜ï¼Œé‡Šæ”¾ICM20608 */ return ret; } /* * @description : å‘icm20608å¤šä¸ªå¯„å­˜å™¨å†™å…¥æ•°æ® * @param - dev: icm20608è®¾å¤‡ * @param - reg: è¦å†™å…¥çš„å¯„å­˜å™¨é¦–åœ°å€ * @param - val: è¦å†™å…¥çš„æ•°æ®ç¼“å†²åŒº * @param - len: è¦å†™å…¥çš„æ•°æ®é•¿åº¦ * @return : æ“ä½œç»“æœ */ static s32 icm20608_write_regs(struct icm20608_dev *dev, u8 reg, u8 *buf, u8 len) { int ret; unsigned char txdata[len]; struct spi_message m; struct spi_transfer *t; struct spi_device *spi = (struct spi_device *)dev-&gt;private_data; t = kzalloc(sizeof(struct spi_transfer), GFP_KERNEL); /* ç”³è¯·å†…å­˜ */ gpio_set_value(dev-&gt;cs_gpio, 0); /* ç‰‡é€‰æ‹‰ä½ */ /* ç¬¬1æ¬¡ï¼Œå‘é€è¦è¯»å–çš„å¯„å­˜åœ°å€ */ txdata[0] = reg &amp; ~0x80; /* å†™æ•°æ®çš„æ—¶å€™å¯„å­˜å™¨åœ°å€bit8è¦æ¸…é›¶ */ t-&gt;tx_buf = txdata; /* è¦å‘é€çš„æ•°æ® */ t-&gt;len = 1; /* 1ä¸ªå­—èŠ‚ */ spi_message_init(&amp;m); /* åˆå§‹åŒ–spi_message */ spi_message_add_tail(t, &amp;m);/* å°†spi_transferæ·»åŠ åˆ°spi_messageé˜Ÿåˆ— */ ret = spi_sync(spi, &amp;m); /* åŒæ­¥å‘é€ */ /* ç¬¬2æ¬¡ï¼Œå‘é€è¦å†™å…¥çš„æ•°æ® */ t-&gt;tx_buf = buf; /* è¦å†™å…¥çš„æ•°æ® */ t-&gt;len = len; /* å†™å…¥çš„å­—èŠ‚æ•° */ spi_message_init(&amp;m); /* åˆå§‹åŒ–spi_message */ spi_message_add_tail(t, &amp;m);/* å°†spi_transferæ·»åŠ åˆ°spi_messageé˜Ÿåˆ— */ ret = spi_sync(spi, &amp;m); /* åŒæ­¥å‘é€ */ kfree(t); /* é‡Šæ”¾å†…å­˜ */ gpio_set_value(dev-&gt;cs_gpio, 1);/* ç‰‡é€‰æ‹‰é«˜ï¼Œé‡Šæ”¾ICM20608 */ return ret; } /* * @description : è¯»å–icm20608æŒ‡å®šå¯„å­˜å™¨å€¼ï¼Œè¯»å–ä¸€ä¸ªå¯„å­˜å™¨ * @param - dev: icm20608è®¾å¤‡ * @param - reg: è¦è¯»å–çš„å¯„å­˜å™¨ * @return : è¯»å–åˆ°çš„å¯„å­˜å™¨å€¼ */ static unsigned char icm20608_read_onereg(struct icm20608_dev *dev, u8 reg) { u8 data = 0; icm20608_read_regs(dev, reg, &amp;data, 1); return data; } /* * @description : å‘icm20608æŒ‡å®šå¯„å­˜å™¨å†™å…¥æŒ‡å®šçš„å€¼ï¼Œå†™ä¸€ä¸ªå¯„å­˜å™¨ * @param - dev: icm20608è®¾å¤‡ * @param - reg: è¦å†™çš„å¯„å­˜å™¨ * @param - data: è¦å†™å…¥çš„å€¼ * @return : æ—  */ static void icm20608_write_onereg(struct icm20608_dev *dev, u8 reg, u8 value) { u8 buf = value; icm20608_write_regs(dev, reg, &amp;buf, 1); } /* * @description : è¯»å–ICM20608çš„æ•°æ®ï¼Œè¯»å–åŸå§‹æ•°æ®ï¼ŒåŒ…æ‹¬ä¸‰è½´é™€èºä»ªã€ * : ä¸‰è½´åŠ é€Ÿåº¦è®¡å’Œå†…éƒ¨æ¸©åº¦ã€‚ * @param - dev : ICM20608è®¾å¤‡ * @return : æ— ã€‚ */ void icm20608_readdata(struct icm20608_dev *dev) { unsigned char data[14]; icm20608_read_regs(dev, ICM20_ACCEL_XOUT_H, data, 14); dev-&gt;accel_x_adc = (signed short)((data[0] &lt;&lt; 8) | data[1]); dev-&gt;accel_y_adc = (signed short)((data[2] &lt;&lt; 8) | data[3]); dev-&gt;accel_z_adc = (signed short)((data[4] &lt;&lt; 8) | data[5]); dev-&gt;temp_adc = (signed short)((data[6] &lt;&lt; 8) | data[7]); dev-&gt;gyro_x_adc = (signed short)((data[8] &lt;&lt; 8) | data[9]); dev-&gt;gyro_y_adc = (signed short)((data[10] &lt;&lt; 8) | data[11]); dev-&gt;gyro_z_adc = (signed short)((data[12] &lt;&lt; 8) | data[13]); } /* * @description : æ‰“å¼€è®¾å¤‡ * @param - inode : ä¼ é€’ç»™é©±åŠ¨çš„inode * @param - filp : è®¾å¤‡æ–‡ä»¶ï¼Œfileç»“æ„ä½“æœ‰ä¸ªå«åšprivateate_dataçš„æˆå‘˜å˜é‡ * ä¸€èˆ¬åœ¨opençš„æ—¶å€™å°†private_dataä¼¼æœ‰å‘è®¾å¤‡ç»“æ„ä½“ã€‚ * @return : 0 æˆåŠŸ;å…¶ä»– å¤±è´¥ */ static int icm20608_open(struct inode *inode, struct file *filp) { filp-&gt;private_data = &amp;icm20608dev; /* è®¾ç½®ç§æœ‰æ•°æ® */ return 0; } /* * @description : ä»è®¾å¤‡è¯»å–æ•°æ® * @param - filp : è¦æ‰“å¼€çš„è®¾å¤‡æ–‡ä»¶(æ–‡ä»¶æè¿°ç¬¦) * @param - buf : è¿”å›ç»™ç”¨æˆ·ç©ºé—´çš„æ•°æ®ç¼“å†²åŒº * @param - cnt : è¦è¯»å–çš„æ•°æ®é•¿åº¦ * @param - offt : ç›¸å¯¹äºæ–‡ä»¶é¦–åœ°å€çš„åç§» * @return : è¯»å–çš„å­—èŠ‚æ•°ï¼Œå¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºè¯»å–å¤±è´¥ */ static ssize_t icm20608_read(struct file *filp, char __user *buf, size_t cnt, loff_t *off) { signed int data[7]; long err = 0; struct icm20608_dev *dev = (struct icm20608_dev *)filp-&gt;private_data; icm20608_readdata(dev); data[0] = dev-&gt;gyro_x_adc; data[1] = dev-&gt;gyro_y_adc; data[2] = dev-&gt;gyro_z_adc; data[3] = dev-&gt;accel_x_adc; data[4] = dev-&gt;accel_y_adc; data[5] = dev-&gt;accel_z_adc; data[6] = dev-&gt;temp_adc; err = copy_to_user(buf, data, sizeof(data)); return 0; } /* * @description : å…³é—­/é‡Šæ”¾è®¾å¤‡ * @param - filp : è¦å…³é—­çš„è®¾å¤‡æ–‡ä»¶(æ–‡ä»¶æè¿°ç¬¦) * @return : 0 æˆåŠŸ;å…¶ä»– å¤±è´¥ */ static int icm20608_release(struct inode *inode, struct file *filp) { return 0; } /* icm20608æ“ä½œå‡½æ•° */ static const struct file_operations icm20608_ops = { .owner = THIS_MODULE, .open = icm20608_open, .read = icm20608_read, .release = icm20608_release, }; /* * ICM20608å†…éƒ¨å¯„å­˜å™¨åˆå§‹åŒ–å‡½æ•° * @param : æ—  * @return : æ—  */ void icm20608_reginit(void) { u8 value = 0; icm20608_write_onereg(&amp;icm20608dev, ICM20_PWR_MGMT_1, 0x80); mdelay(50); icm20608_write_onereg(&amp;icm20608dev, ICM20_PWR_MGMT_1, 0x01); mdelay(50); value = icm20608_read_onereg(&amp;icm20608dev, ICM20_WHO_AM_I); printk(&#34;ICM20608 ID = %#X\r\n&#34;, value); icm20608_write_onereg(&amp;icm20608dev, ICM20_SMPLRT_DIV, 0x00); /* è¾“å‡ºé€Ÿç‡æ˜¯å†…éƒ¨é‡‡æ ·ç‡ */ icm20608_write_onereg(&amp;icm20608dev, ICM20_GYRO_CONFIG, 0x18); /* é™€èºä»ªÂ±2000dpsé‡ç¨‹ */ icm20608_write_onereg(&amp;icm20608dev, ICM20_ACCEL_CONFIG, 0x18); /* åŠ é€Ÿåº¦è®¡Â±16Gé‡ç¨‹ */ icm20608_write_onereg(&amp;icm20608dev, ICM20_CONFIG, 0x04); /* é™€èºä»ªä½é€šæ»¤æ³¢BW=20Hz */ icm20608_write_onereg(&amp;icm20608dev, ICM20_ACCEL_CONFIG2, 0x04); /* åŠ é€Ÿåº¦è®¡ä½é€šæ»¤æ³¢BW=21.2Hz */ icm20608_write_onereg(&amp;icm20608dev, ICM20_PWR_MGMT_2, 0x00); /* æ‰“å¼€åŠ é€Ÿåº¦è®¡å’Œé™€èºä»ªæ‰€æœ‰è½´ */ icm20608_write_onereg(&amp;icm20608dev, ICM20_LP_MODE_CFG, 0x00); /* å…³é—­ä½åŠŸè€— */ icm20608_write_onereg(&amp;icm20608dev, ICM20_FIFO_EN, 0x00); /* å…³é—­FIFO */ } /* * @description : spié©±åŠ¨çš„probeå‡½æ•°ï¼Œå½“é©±åŠ¨ä¸ * è®¾å¤‡åŒ¹é…ä»¥åæ­¤å‡½æ•°å°±ä¼šæ‰§è¡Œ * @param - client : spiè®¾å¤‡ * @param - id : spiè®¾å¤‡ID * */ static int icm20608_probe(struct spi_device *spi) { int ret = 0; /* 1ã€æ„å»ºè®¾å¤‡å· */ if (icm20608dev.major) { icm20608dev.devid = MKDEV(icm20608dev.major, 0); register_chrdev_region(icm20608dev.devid, ICM20608_CNT, ICM20608_NAME); } else { alloc_chrdev_region(&amp;icm20608dev.devid, 0, ICM20608_CNT, ICM20608_NAME); icm20608dev.major = MAJOR(icm20608dev.devid); } /* 2ã€æ³¨å†Œè®¾å¤‡ */ cdev_init(&amp;icm20608dev.cdev, &amp;icm20608_ops); cdev_add(&amp;icm20608dev.cdev, icm20608dev.devid, ICM20608_CNT); /* 3ã€åˆ›å»ºç±» */ icm20608dev.class = class_create(THIS_MODULE, ICM20608_NAME); if (IS_ERR(icm20608dev.class)) { return PTR_ERR(icm20608dev.class); } /* 4ã€åˆ›å»ºè®¾å¤‡ */ icm20608dev.device = device_create(icm20608dev.class, NULL, icm20608dev.devid, NULL, ICM20608_NAME); if (IS_ERR(icm20608dev.device)) { return PTR_ERR(icm20608dev.device); } /* è·å–è®¾å¤‡æ ‘ä¸­csç‰‡é€‰ä¿¡å· */ icm20608dev.nd = of_find_node_by_path(&#34;/soc/aips-bus@02000000/spba-bus@02000000/ecspi@02010000&#34;); if(icm20608dev.nd == NULL) { printk(&#34;ecspi3 node not find!\r\n&#34;); return -EINVAL; } /* 2ã€ è·å–è®¾å¤‡æ ‘ä¸­çš„gpioå±æ€§ï¼Œå¾—åˆ°BEEPæ‰€ä½¿ç”¨çš„BEEPç¼–å· */ icm20608dev.cs_gpio = of_get_named_gpio(icm20608dev.nd, &#34;cs-gpio&#34;, 0); if(icm20608dev.cs_gpio &lt; 0) { printk(&#34;can&#39;t get cs-gpio&#34;); return -EINVAL; } /* 3ã€è®¾ç½®GPIO1_IO20ä¸ºè¾“å‡ºï¼Œå¹¶ä¸”è¾“å‡ºé«˜ç”µå¹³ */ ret = gpio_direction_output(icm20608dev.cs_gpio, 1); if(ret &lt; 0) { printk(&#34;can&#39;t set gpio!\r\n&#34;); } /*åˆå§‹åŒ–spi_device */ spi-&gt;mode = SPI_MODE_0; /*MODE0ï¼ŒCPOL=0ï¼ŒCPHA=0*/ spi_setup(spi); icm20608dev.private_data = spi; /* è®¾ç½®ç§æœ‰æ•°æ® */ /* åˆå§‹åŒ–ICM20608å†…éƒ¨å¯„å­˜å™¨ */ icm20608_reginit(); return 0; } /* * @description : spié©±åŠ¨çš„removeå‡½æ•°ï¼Œç§»é™¤spié©±åŠ¨çš„æ—¶å€™æ­¤å‡½æ•°ä¼šæ‰§è¡Œ * @param - client : spiè®¾å¤‡ * @return : 0ï¼ŒæˆåŠŸ;å…¶ä»–è´Ÿå€¼,å¤±è´¥ */ static int icm20608_remove(struct spi_device *spi) { /* åˆ é™¤è®¾å¤‡ */ cdev_del(&amp;icm20608dev.cdev); unregister_chrdev_region(icm20608dev.devid, ICM20608_CNT); /* æ³¨é”€æ‰ç±»å’Œè®¾å¤‡ */ device_destroy(icm20608dev.class, icm20608dev.devid); class_destroy(icm20608dev.class); return 0; } /* ä¼ ç»ŸåŒ¹é…æ–¹å¼IDåˆ—è¡¨ */ static const struct spi_device_id icm20608_id[] = { {&#34;alientek,icm20608&#34;, 0}, {} }; /* è®¾å¤‡æ ‘åŒ¹é…åˆ—è¡¨ */ static const struct of_device_id icm20608_of_match[] = { { .compatible = &#34;alientek,icm20608&#34; }, { /* Sentinel */ } }; /* SPIé©±åŠ¨ç»“æ„ä½“ */ static struct spi_driver icm20608_driver = { .probe = icm20608_probe, .remove = icm20608_remove, .driver = { .owner = THIS_MODULE, .name = &#34;icm20608&#34;, .of_match_table = icm20608_of_match, }, .id_table = icm20608_id, }; /* * @description : é©±åŠ¨å…¥å£å‡½æ•° * @param : æ—  * @return : æ—  */ static int __init icm20608_init(void) { return spi_register_driver(&amp;icm20608_driver); } /* * @description : é©±åŠ¨å‡ºå£å‡½æ•° * @param : æ—  * @return : æ—  */ static void __exit icm20608_exit(void) { spi_unregister_driver(&amp;icm20608_driver); } module_init(icm20608_init); module_exit(icm20608_exit); MODULE_LICENSE(&#34;GPL&#34;); MODULE_AUTHOR(yikoulinux&#34;); ]]></content>
  </entry>
  
  <entry>
    <title>ä»€ä¹ˆæ˜¯ nftables ? å®ƒä¸ iptables çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</title>
    <url>/post/linux/difference-between-nftables-and-iptables.html</url>
    <categories><category>Linux</category>
    </categories>
    <tags>
      <tag>nftables, iptables</tag>
    </tags>
    <content type="html"><![CDATA[å‡ ä¹æ¯ä¸ª Linux ç®¡ç†å‘˜éƒ½ä½¿ç”¨è¿‡ iptablesï¼Œå®ƒæ˜¯ä¸€ä¸ª Linux ç³»ç»Ÿçš„é˜²ç«å¢™ã€‚
ä»€ä¹ˆæ˜¯ nftables ? å®ƒä¸ iptables çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ ä½†æ˜¯ä½ å¯èƒ½è¿˜ä¸å¤ªç†Ÿæ‚‰ nftablesï¼Œè¿™æ˜¯ä¸€ä¸ªæ–°çš„é˜²ç«å¢™ï¼Œå¯ä¸ºæˆ‘ä»¬æä¾›ä¸€äº›å¿…éœ€çš„å‡çº§ï¼Œè¿˜æœ‰å¯èƒ½ä¼šå–ä»£ iptablesã€‚
ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ nftables å‘¢ï¼Ÿ nftables æ˜¯ç”± Netfilter å¼€å‘çš„ï¼Œè¯¥ç»„ç»‡ç›®å‰ç»´æŠ¤ iptablesã€‚nftables çš„åˆ›å»ºæ˜¯ä¸ºäº†è§£å†³ iptables çš„ä¸€äº›æ€§èƒ½å’Œæ‰©å±•é—®é¢˜ã€‚
é™¤äº†æ–°çš„è¯­æ³•å’Œä¸€äº›å‡çº§ä»¥å¤–ï¼Œnftables çš„åŠŸèƒ½ä¸ iptables å‡ ä¹æ˜¯ä¸€æ ·çš„ã€‚ä¹‹æ‰€ä»¥æ¨å‡º nftables çš„å¦ä¸€ä¸ªåŸå› ï¼Œæ˜¯å› ä¸º iptables çš„æ¡†æ¶å˜çš„æœ‰ç‚¹å¤æ‚ï¼Œiptables, ip6tables, arptables ä»¥åŠ ebtables éƒ½æœ‰ä¸åŒä½†ç›¸ä¼¼çš„åŠŸèƒ½ã€‚
æ¯”å¦‚ï¼Œåœ¨ iptables ä¸­åˆ›å»º IPv4 è§„åˆ™å’Œåœ¨ ip6tables ä¸­åˆ›å»º IPv6 è§„åˆ™å¹¶ä¿æŒä¸¤è€…åŒæ­¥æ˜¯éå¸¸ä½æ•ˆçš„ã€‚Nftables æ—¨åœ¨å–ä»£æ‰€æœ‰è¿™äº›ï¼Œæˆä¸ºä¸€ä¸ªé›†ä¸­çš„è§£å†³æ–¹æ¡ˆã€‚
å°½ç®¡è‡ª 2014 å¹´ä»¥æ¥ï¼Œnftables å°±è¢«åŒ…å«åœ¨ Linux å†…æ ¸ä¸­ï¼Œä½†éšç€é‡‡ç”¨èŒƒå›´çš„æ‰©å¤§ï¼Œå®ƒæœ€è¿‘è¶Šæ¥è¶Šå—æ¬¢è¿ã€‚Linux ä¸–ç•Œçš„å˜åŒ–å¾ˆæ…¢ï¼Œè¿‡æ—¶çš„å®ç”¨ç¨‹åºé€šå¸¸éœ€è¦å‡ å¹´æˆ–æ›´é•¿çš„æ—¶é—´æ‰èƒ½é€æ­¥æ·˜æ±°ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å‡çº§åçš„å®ç”¨ç¨‹åºã€‚
ä»Šå¤©æˆ‘ä»¬å°±ç®€å•ä»‹ç»ä¸€ä¸‹ nftables å’Œ iptables ä¹‹é—´çš„å·®å¼‚ï¼Œå¹¶å±•ç¤ºåœ¨æ–°çš„ nftables è¯­æ³•ä¸­é…ç½®é˜²ç«å¢™è§„åˆ™çš„ä¾‹å­ã€‚
nftables ä¸­çš„é“¾ï¼ˆchainsï¼‰å’Œè§„åˆ™ åœ¨ iptables ä¸­ï¼Œæœ‰ä¸‰ä¸ªé»˜è®¤çš„é“¾ï¼šè¾“å…¥ã€è¾“å‡ºå’Œè½¬å‘ã€‚è¿™ä¸‰ä¸ªâ€œé“¾â€ï¼ˆä»¥åŠå…¶ä»–é“¾ï¼‰åŒ…å«â€œè§„åˆ™â€ï¼Œiptables é€šè¿‡å°†ç½‘ç»œæµé‡ä¸ é“¾ä¸­çš„è§„åˆ™åˆ—è¡¨åŒ¹é…è¿›è¡Œå·¥ä½œã€‚å¦‚æœæ­£åœ¨æ£€æŸ¥çš„æµé‡ä¸ä»»ä½•è§„åˆ™éƒ½ä¸åŒ¹é…ï¼Œåˆ™é“¾çš„é»˜è®¤ç­–ç•¥å°†ç”¨äºæµé‡ï¼ˆå³ACCEPTã€DROPï¼‰ã€‚
Nftablesçš„å·¥ä½œåŸç†ä¸æ­¤ç±»ä¼¼ï¼Œä¹Ÿæœ‰â€œé“¾â€å’Œâ€œè§„åˆ™â€ã€‚ç„¶è€Œï¼Œå®ƒä¸€å¼€å§‹æ²¡æœ‰ä»»ä½•åŸºç¡€é“¾ï¼Œè¿™ä½¿å¾—é…ç½®æ›´åŠ çµæ´»ã€‚
iptables æ•ˆç‡ä½ä¸‹çš„ä¸€ä¸ªæ–¹é¢æ˜¯ï¼Œå³ä½¿æµé‡ä¸ä»»ä½•è§„åˆ™éƒ½ä¸åŒ¹é…ï¼Œæ‰€æœ‰ç½‘ç»œæ•°æ®ä¹Ÿå¿…é¡»éå†ä¸Šè¿°é“¾ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªã€‚æ— è®ºä½ æ˜¯å¦é…ç½®äº†é“¾ï¼Œiptablesä»ç„¶ä¼šæ ¹æ®å®ƒä»¬æ£€æŸ¥ä½ çš„ç½‘ç»œæ•°æ®ã€‚
åœ¨ Linux ä¸­å®‰è£… nftables nftables åœ¨æ‰€æœ‰ä¸»è¦çš„ Linux å‘è¡Œç‰ˆä¸­éƒ½å¯ç”¨ï¼Œå¯ä»¥ä½¿ç”¨å‘è¡Œç‰ˆçš„åŒ…ç®¡ç†å™¨å®‰è£…ã€‚
åœ¨ Ubuntu æˆ–åŸºäº Debian çš„ç³»ç»Ÿä¸­å¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š
sudo apt install nftables è®¾ç½® nftablesåœ¨ç³»ç»Ÿé‡å¯çš„æ—¶å€™è‡ªåŠ¨å¯åŠ¨ï¼Œå¯æ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼š
sudo systemctl enable nftables.service iptables å’Œ nftables ä¹‹é—´çš„è¯­æ³•å·®å¼‚ ä¸ iptables ç›¸æ¯”ï¼Œnftables çš„è¯­æ³•æ›´åŠ ç®€å•ï¼Œä¸è¿‡å¯¹äº iptables ä¸­çš„è¯­æ³•ï¼Œåœ¨ nftables ä¸­ä¹Ÿèƒ½ç”¨ã€‚
å¤§å®¶å¯ä½¿ç”¨ iptables-translate å·¥å…·ï¼Œè¯¥å·¥å…·æ¥å— iptables å‘½ä»¤å¹¶å°†å…¶è½¬ä¸ºç­‰æ•ˆçš„ nftables å‘½ä»¤ï¼Œè¿™æ˜¯äº†è§£ä¸¤ç§è¯­æ³•å·®å¼‚çš„ä¸€ç§ç®€å•æ–¹æ³•ã€‚
ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨ Ubuntu å’ŒåŸºäº Debian çš„å‘è¡Œç‰ˆä¸Šå®‰è£… iptables-translateï¼š
sudo apt install iptables-nftables-compat å®‰è£…åï¼Œä½ å¯ä»¥å°† iptables è¯­æ³•ä¼ é€’ç»™ iptables-translate å‘½ä»¤ï¼Œå®ƒå°†è¿”å› nftables ç­‰æ•ˆå‘½ä»¤ã€‚
ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€äº›å…·ä½“çš„è¯­æ³•ç¤ºä¾‹ã€‚
é˜»æ­¢ä¼ å…¥è¿æ¥ ä¸‹è¿°å‘½ä»¤å°†é˜»æ­¢æ¥è‡ªIPåœ°å€192.168.2.1çš„ä¼ å…¥è¿æ¥ï¼š
$ iptables-translate -A INPUT -s 192.168.2.1 -j DROP nft add rule ip filter INPUT ip saddr 192.168.2.1 counter drop å…è®¸ä¼ å…¥SSHè¿æ¥ æ”¾å¼€ ssh è¿æ¥æƒé™ï¼š
$ iptables-translate -A INPUT -p tcp --dport 22 -m conntrack --ctstate NEW,ESTABLISHED -j ACCEPT nft add rule ip filter INPUT tcp dport 22 ct state new,established counter accept å…è®¸æ¥è‡ªç‰¹å®š IP èŒƒå›´çš„ä¼ å…¥SSHè¿æ¥ å¦‚æœåªæƒ³å…è®¸æ¥è‡ª192.168.1.0/24çš„ä¼ å…¥SSHè¿æ¥ï¼š
$ iptables-translate -A INPUT -p tcp -s 192.168.1.0/24 --dport 22 -m conntrack --ctstate NEW,ESTABLISHED -j ACCEPT nft add rule ip filter INPUT ip saddr 192.168.1.0/24 tcp dport 22 ct state new,established counter accept å…è®¸MySQLè¿æ¥åˆ°eth0ç½‘ç»œæ¥å£ $ iptables-translate -A INPUT -i eth0 -p tcp --dport 3306 -m conntrack --ctstate NEW,ESTABLISHED -j ACCEPT nft add rule ip filter INPUT iifname eth0 tcp dport 3306ct state new,established counter accept å…è®¸ä¼ å…¥HTTPå’ŒHTTPSæµé‡ ä¸ºäº†å…è®¸ç‰¹å®šç±»å‹çš„æµé‡ï¼Œä»¥ä¸‹æ˜¯è¿™ä¸¤ä¸ªå‘½ä»¤çš„è¯­æ³•ï¼š
$ iptables-translate -A INPUT -p tcp -m multiport --dports 80,443 -m conntrack --ctstate NEW,ESTABLISHED -j ACCEPT nft add rule ip filter INPUT ip protocol tcp tcp dport { 80,443} ct state new,established counter accept ä»è¿™äº›ä¾‹å­ä¸­å¯ä»¥çœ‹å‡ºï¼Œnftables è¯­æ³•ä¸ iptables éå¸¸ç›¸ä¼¼ï¼Œä½†å‘½ä»¤æ›´ç›´è§‚ä¸€äº›ã€‚
nftables æ—¥å¿— ä¸Šè¿°nftå‘½ä»¤ç¤ºä¾‹ä¸­çš„â€œcounterâ€é€‰é¡¹å‘Šè¯‰nftablesç»Ÿè®¡è§„åˆ™è¢«è§¦ç¢°çš„æ¬¡æ•°ï¼Œå°±åƒé»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨çš„iptablesä¸€æ ·ã€‚
åœ¨nftablesä¸­ï¼Œéœ€è¦æŒ‡å®šï¼š
nft add rule ip filter INPUT ip saddr 192.168.2.1 counter accept nftableså†…ç½®äº†ç”¨äºå¯¼å‡ºé…ç½®çš„é€‰é¡¹ã€‚å®ƒç›®å‰æ”¯æŒXMLå’ŒJSONã€‚
nft export xml ]]></content>
  </entry>
  
  <entry>
    <title>é£æ²³æ”¯æŒNXP S32G3â€”â€”ä¿¡å¿ƒç™¾å€ã€åŠ é€Ÿåˆ›æ–°</title>
    <url>/post/news/wind-river-supports-nxp-s32g3.html</url>
    <categories><category>News</category>
    </categories>
    <tags>
      <tag>Wind River</tag>
      <tag>NXP</tag>
      <tag>S32G3</tag>
    </tags>
    <content type="html"><![CDATA[é£æ²³å…¬å¸ä¸NXPå…¬å¸çš„åˆä½œä¼™ä¼´å…³ç³»æ·±åšä¸”é•¿è¿œï¼Œç”±æ­¤ä¸æ–­åœ°ä¸ºæˆ‘ä»¬çš„å…±åŒå®¢æˆ·å¸¦æ¥æ–°çš„æ•ˆç›Šã€‚ é£æ²³å…¬å¸éå¸¸å…´å¥‹åœ°å®£å¸ƒå…¶è¿è¡Œæ—¶ï¼ˆRuntimeï¼‰äº§å“ç»„åˆå’ŒWind River Studio Linux æœåŠ¡éƒ½å·²ç»æ”¯æŒä¸‹ä¸€ä»£NXP S32G3å¤„ç†å™¨ï¼Œä»è€Œæœ‰åŠ›åœ°ä¿ƒè¿›ä¼ä¸šå®¢æˆ·åŠ é€Ÿæ™ºèƒ½è¾¹ç¼˜è®¾å¤‡çš„åˆ›å»ºä¸éƒ¨ç½²ã€‚
å…·ä½“è€Œè¨€ï¼Œé£æ²³å°†ä¸ºVxWorksã€Wind River Linuxå’ŒHelixè™šæ‹ŸåŒ–å¹³å°æä¾›S32G3 BSPï¼ˆæ¿çº§æ”¯æŒåŒ…ï¼‰ï¼Œä»¥åŠé…å¥—çš„è®¾è®¡ã€å…¨ç”Ÿå‘½å‘¨æœŸå®‰å…¨ä¸ç»´æŠ¤æœåŠ¡ã€‚ä¾‹å¦‚ï¼Œä¼ä¸šå®¢æˆ·å¸Œæœ›å……åˆ†åˆ©ç”¨S32G3å¤„ç†å™¨ç‹¬ç‰¹çš„è½¦è¾†åœºæ™¯åŠŸèƒ½ï¼Œè€Œé£æ²³çš„å®æ—¶äº§å“é˜µå®¹ä»¥åŠä¹…ç»éªŒè¯çš„åµŒå…¥å¼ä¸“ä¸šçŸ¥è¯†éƒ½å°†åœ¨ç›¸åº”çš„è½¯ä»¶æ”¯æŒå¹³å°ä¸ŠåŠ©åŠ›æ±½è½¦è§£å†³æ–¹æ¡ˆçš„è®¾è®¡ä¸æ„å»ºã€‚
ä»¥ä¸Šéƒ½æ˜¯é£æ²³ä¸NXPé•¿æœŸåˆä½œä¼™ä¼´å…³ç³»çš„åŸºæœ¬ç»„æˆéƒ¨åˆ†ï¼ŒåŒæ–¹å°†å…±åŒè‡´åŠ›äºä¸ºåµŒå…¥å¼è¡Œä¸šæä¾›æˆç†Ÿå¯é çš„ç¡¬ä»¶å’Œè½¯ä»¶è§£å†³æ–¹æ¡ˆã€‚ä¸¤å®¶å…¬å¸å¯†åˆ‡åˆä½œï¼Œå…¶ç³»ç»ŸåŒ–æ•ˆç›Šå°±æ˜¯å½¢æˆäº†ç´§å¯†é›†æˆçš„è§£å†³æ–¹æ¡ˆï¼Œè·å¾—æ›´é«˜çš„å¼€å‘äººå‘˜ç”Ÿäº§åŠ›ã€æ›´ä½³çš„æˆæœ¬æ•ˆç‡ï¼Œè¿˜æœ‰æ›´é«˜çš„å¯é æ€§ä»¥åŠæ›´å¿«çš„ä¸Šå¸‚é€Ÿåº¦ã€‚
æ— è®ºæ‚¨å±äºå“ªä¸ªè¡Œä¸šï¼Œæ— è®ºæ‚¨çš„ä¼ä¸šæ­£åœ¨ä¸ºæ™ºèƒ½è¾¹ç¼˜åˆ›å»ºä»€ä¹ˆæ ·çš„ç³»ç»Ÿæˆ–è®¾å¤‡ï¼Œé£æ²³å¹¿æ³›çš„è½¯ä»¶äº§å“é˜µå®¹å’ŒDevOpsæˆå¥—å·¥å…·éƒ½å¯ä»¥å¸®åŠ©æ‚¨å……åˆ†å‘æŒ¥NXPç¡¬ä»¶æ½œèƒ½ï¼ŒåŠ é€Ÿæ‚¨çš„é¡¹ç›®è¿›ç¨‹ã€‚ä»¥ä¸‹æ˜¯é£æ²³ä¸ºNXPå®¢æˆ·æä¾›æ”¯æŒçš„å‡ ä¸ªå…¸å‹ä»£è¡¨ï¼š
 BSP æ”¯æŒï¼šé£æ²³ä¸ºNXPç³»åˆ—å¤„ç†å™¨æä¾›ä¼—å¤šBSPï¼ŒåŒ…æ‹¬S32Gã€I.MXå’ŒLayerscapeç³»åˆ—ã€‚ NXP LINUX SDKæ”¯æŒï¼šé’ˆå¯¹NXPåŸºäºYoctoçš„Linuxè½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼ŒWind River Studio Linux Servicesæä¾›å®‰å…¨æ‰«æã€æ¼æ´ç¼“è§£å’Œè¡¥æ•‘ä»¥åŠå…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œç»´æŠ¤æœåŠ¡ã€‚ æ±½è½¦è§£å†³æ–¹æ¡ˆï¼šVxWorkså’ŒWind River Linuxä¸ºæ±½è½¦ç½‘å…³ã€åŸŸå’ŒåŒºåŸŸæ§åˆ¶å™¨æä¾›é«˜æ€§èƒ½å®æ—¶è§£å†³æ–¹æ¡ˆã€‚åœ¨è¿è¡ŒLinuxæˆ–Androidçš„i.MXåº”ç”¨å¤„ç†å™¨ä¸Šæ„å»ºä¿¡æ¯å¨±ä¹è§£å†³æ–¹æ¡ˆæ–¹é¢ï¼Œé£æ²³ä¹Ÿæ‹¥æœ‰ä¸°å¯Œçš„ç»éªŒã€‚ å·¥ä¸šã€åŒ»ç–—å’Œæœºå™¨äººè§£å†³æ–¹æ¡ˆï¼šé£æ²³æ‹¥æœ‰å¤§é‡çš„NXP BSP ï¼Œéå¸¸é€‚åˆç”¨äºå…³é”®åŸºç¡€è®¾æ–½ã€åŒ»ç–—å’Œæœºå™¨äººçš„è®¾è®¡ï¼Œå› ä¸ºå®ƒä»¬éƒ½éœ€è¦ä¾èµ–äºVxWorksçš„å®æ—¶å’Œç¡®å®šæ€§æˆ–Wind River Linuxçš„å¼€æºçµæ´»æ€§ã€‚é£æ²³è¿˜ä¸ºå¤šä¸ªi.MXåº”ç”¨å¤„ç†å™¨æä¾›VxWorkså’ŒWind River Linux BSPï¼ŒåŒ…æ‹¬æœ€æ–°çš„i.MX x 93ä»¥åŠHelix Virtualization Platformè™šæ‹ŸåŒ–å¹³å°ã€‚ èˆªç©ºèˆªå¤©å’Œå›½é˜²è§£å†³æ–¹æ¡ˆï¼šå‡¡æ˜¯éœ€è¦å®‰å…¨è®¤è¯çš„åµŒå…¥å¼è®¾è®¡éƒ½å°†å¾—ç›Šäºæˆ‘ä»¬å¯¹NXPå¤„ç†å™¨çš„æ”¯æŒï¼Œä»ä¼ ç»Ÿçš„Poweræ¶æ„åˆ°æœ€æ–°çš„Armæ¶æ„è§£å†³æ–¹æ¡ˆï¼Œå¦‚LX2160ã€‚å€ŸåŠ©äºæˆ‘ä»¬çš„Helix Virtualization Platformè™šæ‹ŸåŒ–å¹³å°å’ŒVxWorkså’ŒWind River Linuxçš„BSPï¼Œå¯ä»¥å°†NXPè§£å†³æ–¹æ¡ˆä½œä¸ºå½“ä»Šè®¸å¤šé£è¡Œç³»ç»Ÿçš„åŸºçŸ³ã€‚ é¢å‘NXPå¹³å°çš„æ•°å­—å­ªç”Ÿå’Œæ¨¡æ‹Ÿä»¿çœŸï¼šå¸®åŠ©æµ‹è¯•å‰ç§»ä¸”æå‰å¯åŠ¨è½¯ä»¶é¡¹ç›®å¹¶æ›´å¿«åœ°æ¨è¿›å¼€å‘å·¥ä½œï¼Œæ›´å¿«åœ°æ„å»ºæ›´é«˜è´¨é‡ä¸”æ›´å®‰å…¨çš„è½¯ä»¶ç³»ç»Ÿï¼Œå¹¶ä¸DevOpså¼€å‘å®è·µå®Œå…¨é›†æˆã€‚æ¨¡æ‹Ÿä»¿çœŸåŸºäºNXPç¡¬ä»¶å’Œè½¯ä»¶çš„å®Œæ•´ç³»ç»Ÿï¼Œæ”¯æŒARMå’ŒPowerPCæ¶æ„ã€‚ é£æ²³ä¸NXPåˆä½œçš„å¹¿åº¦å’Œæ·±åº¦ä»¥åŠå¯¹æœ€æ–°äº§å“çš„æ”¯æŒï¼Œéƒ½å°†ä¸ºä¼ä¸šå®¢æˆ·å¸¦æ¥äº†å·¨å¤§çš„ä»·å€¼ï¼Œä¾‹å¦‚ç®€åŒ–æ•´ä¸ªå›¢é˜Ÿçš„å¼€å‘æµç¨‹ä»¥åŠåŠ å¿«äº§å“ä¸Šå¸‚é€Ÿåº¦ã€‚æˆ‘ä»¬æœŸå¾…åœ¨S32G3ä¸Šçœ‹åˆ°ä»¤äººå…´å¥‹çš„æ–°äº§å“ã€‚  åŸæ–‡è¿æ¥ VxWorksä¿±ä¹éƒ¨  
]]></content>
  </entry>
  
  <entry>
    <title>Linuxä¸­pdfè½¬wordçš„å·¥å…·ä½ çŸ¥é“å‡ ä¸ª</title>
    <url>/post/linux/five-tools-to-convert-pdf-to-word-in-linux.html</url>
    <categories><category>Linux</category>
    </categories>
    <tags>
      <tag>PDF</tag>
      <tag>Word</tag>
    </tags>
    <content type="html"><![CDATA[ä¸‹é¢æ¨è5æ¬¾Linuxä¸­pdfè½¬wordçš„å·¥å…·
LibreOffice LibreOfficeæ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æºOfficeå¥—ä»¶ï¼Œå¯ä»¥å°†PDFæ–‡ä»¶è½¬æ¢ä¸ºWordæ–‡æ¡£ã€‚
# å®‰è£…LibreOffice sudo apt-get install libreoffice # å°†PDFè½¬æ¢ä¸ºWordæ–‡æ¡£ libreoffice --convert-to docx filename.pdf å…¶ä¸­ï¼Œâ€œdocxâ€è¡¨ç¤ºè¦å°†PDFè½¬æ¢ä¸ºçš„è¾“å‡ºæ ¼å¼ï¼Œâ€œfilename.pdfâ€æ˜¯è¦è½¬æ¢çš„PDFæ–‡ä»¶çš„æ–‡ä»¶åã€‚è¯¥å·¥å…·å¯ä»¥åœ¨Linuxç³»ç»Ÿä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”å‘½ä»¤ç®€å•æ˜“ç”¨ã€‚
Pdf2doc Pdf2docæ˜¯ä¸€ä¸ªåŸºäºPythonçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥å°†PDFæ–‡ä»¶è½¬æ¢ä¸ºMicrosoft Wordæ–‡æ¡£ã€‚
# å®‰è£…Pdf2doc sudo apt-get install pdf2doc # å°†PDFè½¬æ¢ä¸ºWordæ–‡æ¡£ pdf2doc filename.pdf åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼Œâ€œfilename.pdfâ€æ˜¯è¦è½¬æ¢çš„PDFæ–‡ä»¶çš„æ–‡ä»¶åã€‚è¯¥å·¥å…·å¯ä»¥åœ¨Linuxä¸­ä½¿ç”¨ï¼Œåªéœ€åœ¨ç»ˆç«¯è¾“å…¥ç›¸åº”çš„å‘½ä»¤å³å¯ã€‚
GImageReader GImageReaderæ˜¯ä¸€æ¬¾å…è´¹çš„OCRï¼ˆå…‰å­¦å­—ç¬¦è¯†åˆ«ï¼‰è½¯ä»¶ï¼Œå¯ä»¥å°†æ‰«æçš„PDFæ–‡ä»¶è½¬æ¢ä¸ºWordæ–‡æ¡£ã€‚
# å®‰è£…GImageReader sudo apt-get install gimagereader # å°†PDFè½¬æ¢ä¸ºWordæ–‡æ¡£ gimagereader filename.pdf åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼Œâ€œfilename.pdfâ€æ˜¯è¦è½¬æ¢çš„PDFæ–‡ä»¶çš„æ–‡ä»¶åã€‚è¯¥å·¥å…·æ”¯æŒå¤šç§è¯­è¨€çš„OCRè¯†åˆ«ï¼Œå¯ä»¥åœ¨Linuxä¸­ä½¿ç”¨ã€‚
Pandoc Pandocæ˜¯ä¸€ä¸ªè·¨å¹³å°çš„æ–‡æ¡£æ ¼å¼è½¬æ¢å™¨ï¼Œæ”¯æŒå°†PDFæ–‡ä»¶è½¬æ¢ä¸ºWordæ–‡æ¡£ã€‚
# å®‰è£…Pandoc sudo apt-get install pandoc # å°†PDFè½¬æ¢ä¸ºWordæ–‡æ¡£ pandoc -s -o output.docx input.pdf åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼Œâ€œ-sâ€è¡¨ç¤ºç”Ÿæˆå¸¦æœ‰æ ·å¼çš„Wordæ–‡æ¡£ï¼Œâ€œ-oâ€åé¢è·Ÿè¾“å‡ºæ–‡ä»¶çš„åç§°å’Œä¿å­˜çš„è·¯å¾„ï¼Œâ€œinput.pdfâ€æ˜¯è¦è½¬æ¢çš„PDFæ–‡ä»¶çš„æ–‡ä»¶åã€‚è¯¥å·¥å…·å¯ä»¥åœ¨Linuxä¸­è¿›è¡Œä½¿ç”¨ã€‚
Unoconv Unoconvæ˜¯ä¸€ä¸ªç”¨äºæ–‡ä»¶æ ¼å¼è½¬æ¢çš„PythonåŒ…ï¼Œå¯ä»¥å°†PDFæ–‡ä»¶è½¬æ¢ä¸ºWordæ–‡æ¡£ã€‚
# å®‰è£…Unoconv sudo apt-get install unoconv # å°†PDFè½¬æ¢ä¸ºWordæ–‡æ¡£ unoconv -f docx filename.pdf åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼Œâ€œdocxâ€è¡¨ç¤ºè¦å°†PDFæ–‡ä»¶è½¬æ¢æˆçš„è¾“å‡ºæ ¼å¼ï¼Œâ€œfilename.pdfâ€è¡¨æ˜è¦è½¬æ¢çš„PDFæ–‡ä»¶çš„æ–‡ä»¶åã€‚è¿™ä¸ªå·¥å…·ä¹Ÿéå¸¸ç®€å•æ˜“ç”¨ã€‚
æ€»ç»“ï¼šä»¥ä¸Šæ˜¯5ä¸ªå°†PDFæ–‡ä»¶è½¬æ¢ä¸ºWordæ–‡æ¡£çš„Linuxå·¥å…·ï¼Œå®ƒä»¬éƒ½æ˜¯å…è´¹çš„å·¥å…·ï¼Œä¸éœ€è¦ä»»ä½•å•†ä¸šç‰ˆæœ¬ã€‚è¿™äº›å·¥å…·å‡å¯ä»¥åœ¨Linuxå¹³å°ä¸Šä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥å¿«é€Ÿå¹¶ä¸”å®¹æ˜“åœ°å°†PDFæ–‡ä»¶è½¬æ¢ä¸ºWordæ–‡æ¡£ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>Linuxç³»ç»Ÿå†…æ ¸æ¦‚è¿°</title>
    <url>/post/linux/linux-kernel-overview.html</url>
    <categories><category>Linux</category>
    </categories>
    <tags>
      <tag>Kernel</tag>
    </tags>
    <content type="html"><![CDATA[Linux å†…æ ¸æ˜¯ä¸€ç§å¼€æºçš„ç±» Unix æ“ä½œç³»ç»Ÿå®å†…æ ¸ã€‚
Linux å†…æ ¸æ˜¯ Linux æ“ä½œç³»ç»Ÿçš„ä¸»è¦ç»„ä»¶ï¼Œä¹Ÿæ˜¯è®¡ç®—æœºç¡¬ä»¶ä¸å…¶è¿›ç¨‹ä¹‹é—´çš„æ ¸å¿ƒæ¥å£ã€‚å®ƒè´Ÿè´£ä¸¤è€…ä¹‹é—´çš„é€šä¿¡ï¼Œè¿˜è¦å°½å¯èƒ½é«˜æ•ˆåœ°ç®¡ç†èµ„æºã€‚ä¹‹æ‰€ä»¥ç§°ä¸ºå†…æ ¸ï¼Œæ˜¯å› ä¸ºå®ƒåœ¨æ“ä½œç³»ç»Ÿä¸­å°±åƒæœå®ç¡¬å£³ä¸­çš„ç§å­ä¸€æ ·ï¼Œå¹¶ä¸”æ§åˆ¶ç€ç¡¬ä»¶çš„æ‰€æœ‰ä¸»è¦åŠŸèƒ½ã€‚å†…æ ¸çš„ç”¨é€”ä¸»è¦æœ‰ä»¥ä¸‹ 4 é¡¹å·¥ä½œï¼š
  å†…å­˜ç®¡ç†ï¼šè¿½è¸ªè®°å½•æœ‰å¤šå°‘å†…å­˜å­˜å‚¨äº†ä»€ä¹ˆä»¥åŠå­˜å‚¨åœ¨å“ªé‡Œ
  è¿›ç¨‹ç®¡ç†ï¼šç¡®å®šå“ªäº›è¿›ç¨‹å¯ä»¥ä½¿ç”¨ä¸­å¤®å¤„ç†å™¨ã€ä½•æ—¶ä½¿ç”¨ä»¥åŠæŒç»­å¤šé•¿æ—¶é—´
  è®¾å¤‡é©±åŠ¨ç¨‹åºï¼šå……å½“ç¡¬ä»¶ä¸è¿›ç¨‹ä¹‹é—´çš„è°ƒè§£ç¨‹åº/è§£é‡Šç¨‹åº
  ç³»ç»Ÿè°ƒç”¨å’Œå®‰å…¨é˜²æŠ¤ï¼šä»æµç¨‹æ¥å—æœåŠ¡è¯·æ±‚
  åœ¨æ­£ç¡®å®æ–½çš„æƒ…å†µä¸‹ï¼Œå†…æ ¸å¯¹äºç”¨æˆ·æ˜¯ä¸å¯è§çš„ï¼Œå®ƒåœ¨è‡ªå·±çš„å°ä¸–ç•Œ(ç§°ä¸ºå†…æ ¸ç©ºé—´)ä¸­å·¥ä½œï¼Œå¹¶ä»ä¸­åˆ†é…å†…å­˜å’Œè·Ÿè¸ªæ‰€æœ‰å†…å®¹çš„å­˜å‚¨ä½ç½®ã€‚ç”¨æˆ·æ‰€çœ‹åˆ°çš„å†…å®¹åˆ™è¢«ç§°ä¸ºç”¨æˆ·ç©ºé—´ã€‚è¿™äº›åº”ç”¨é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥å£(SCI)ä¸å†…æ ¸è¿›è¡Œäº¤äº’ã€‚
å†…æ ¸ç®€ä»‹ å•å†…æ ¸ä½“ç³»è®¾è®¡ã€ä½†å……åˆ†å€Ÿé‰´äº†å¾®å†…æ ¸è®¾è®¡ä½“ç³»çš„ä¼˜ç‚¹ï¼Œä¸ºå†…æ ¸å¼•å…¥æ¨¡å—åŒ–æœºåˆ¶ã€‚
Linux å†…æ ¸çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ éƒ¨åˆ†ï¼š
kernelå†…æ ¸æ ¸å¿ƒï¼Œä¸€èˆ¬ä¸º bzImageé€šå¸¸åœ¨ /boot ç›®å½•ä¸‹ï¼Œåç§°ä¸º vmlinuz-VERSION-RELEASE kernel objectå†…æ ¸å¯¹è±¡ï¼Œä¸€èˆ¬æ”¾ç½®äº /lib/modules/VERSION-RELEASE/[ ] ==&gt; N ==&gt; ä¸ç¼–è¯‘è¿›å†…æ ¸[M] ==&gt; M ==&gt; ç¼–è¯‘ä¸ºæ¨¡å—æ–‡ä»¶[*] ==&gt; Y ==&gt; ç¼–è¯‘è¿›å†…æ ¸ è¾…åŠ©æ–‡ä»¶(ramdisk)initrdinitramfs å†…æ ¸æ¨¡å— uname å‘½ä»¤ ä½¿ç”¨æ ¼å¼ uname [OPTION]&hellip;
å‚æ•°è§£é‡Š  -n æ˜¾ç¤ºèŠ‚ç‚¹åç§° -r æ˜¾ç¤ºVERSION-RELEASE -s å†…æ ¸åç§° -v å†…æ ¸ç‰ˆæœ¬ -n èŠ‚ç‚¹å -m ç¡¬ä»¶åç§° -i ç¡¬ä»¶å¹³å° -p å¤„ç†å™¨ç±»å‹ -o æ“ä½œç³»ç»Ÿ  # uname -m i686 # uname -r 2.6.32-573.22.1.el6.i686 # uname -a Linux MyServer 2.6.32-573.22.1.el6.i686 ... i686 i386 GNU/Linux lsmod å‘½ä»¤ æ˜¾ç¤ºç”±æ ¸å¿ƒå·²ç»è£…è½½çš„å†…æ ¸æ¨¡å—
å‘½ä»¤å®šä¹‰ æ˜¾ç¤ºçš„å†…å®¹æ¥è‡ªäº: /proc/modules æ–‡ä»¶ã€‚
ä½¿ç”¨ lsmod å‘½ä»¤æ—¶ï¼Œå¸¸ä¼šé‡‡ç”¨ç±»ä¼¼ lsmod | grep -i ext4 è¿™æ ·çš„å‘½ä»¤æ¥æŸ¥è¯¢ç³»ç»Ÿæ˜¯å¦åŠ è½½äº†æŸäº›æ¨¡å—ã€‚
# cat /proc/modules iptable_filter 2173 0 - Live 0xed9b2000 ip_tables 9567 1 iptable_filter, Live 0xed9a9000 ext3 203718 1 - Live 0xed962000 jbd 65315 1 ext3, Live 0xed904000 xenfs 4360 1 - Live 0xed8e6000 ipv6 271097 14 - Live 0xed88e000 xen_netfront 15871 0 - Live 0xed7d9000 ext4 339812 2 - Live 0xed764000 jbd2 75927 1 ext4, Live 0xed6d9000 mbcache 6017 2 ext3,ext4, Live 0xed6b7000 xen_blkfront 19209 5 - Live 0xed69f000 dm_mirror 11969 0 - Live 0xed68d000 dm_region_hash 9644 1 dm_mirror, Live 0xed67e000 dm_log 8322 2 dm_mirror,dm_region_hash, Live 0xed672000 dm_mod 84711 11 dm_mirror,dm_log, Live 0xed64e000 # lsmod | grep ext4 ext4 339812 2 jbd2 75927 1 ext4 mbcache 6017 2 ext3,ext4 å­—æ®µå«ä¹‰  ç¬¬ 1 åˆ—ï¼šè¡¨ç¤ºæ¨¡å—çš„åç§° ç¬¬ 2 åˆ—ï¼šè¡¨ç¤ºæ¨¡å—çš„å¤§å° ç¬¬ 3 åˆ—ï¼šè¡¨ç¤ºä¾èµ–æ¨¡å—çš„ä¸ªæ•° ç¬¬ 4 åˆ—ï¼šè¡¨ç¤ºä¾èµ–æ¨¡å—çš„å†…å®¹  # lsmod Module Size Used by iptable_filter 2173 0 ip_tables 9567 1 iptable_filter ext3 203718 1 jbd 65315 1 ext3 xenfs 4360 1 ipv6 271097 14 xen_netfront 15871 0 ext4 339812 2 jbd2 75927 1 ext4 mbcache 6017 2 ext3,ext4 xen_blkfront 19209 5 dm_mirror 11969 0 dm_region_hash 9644 1 dm_mirror dm_log 8322 2 dm_mirror,dm_region_hash dm_mod 84711 11 dm_mirror,dm_log modinfo å‘½ä»¤ æ˜¾ç¤ºæ¨¡å—çš„è¯¦ç»†æè¿°ä¿¡æ¯
å‘½ä»¤å®šä¹‰ modinfo åˆ—å‡º Linux å†…æ ¸ä¸­å‘½ä»¤è¡ŒæŒ‡å®šçš„æ¨¡å—çš„ä¿¡æ¯ã€‚
modinfo èƒ½å¤ŸæŸ¥è¯¢ç³»ç»Ÿä¸­æœªå®‰è£…çš„æ¨¡å—ä¿¡æ¯ã€‚
è‹¥æ¨¡å—åä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶åï¼Œåˆ™ä¼šåœ¨ /lib/modules/version ç›®å½•ä¸­æœç´¢ï¼Œå°±åƒ modprobe ä¸€æ ·ã€‚
modinfo é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ºäº†ä¾¿äºé˜…è¯»ï¼Œä»¥ä¸‹é¢çš„æ ¼å¼åˆ—å‡ºæ¨¡å—çš„æ¯ä¸ªå±æ€§ï¼šfieldname : valueã€‚
è¯­æ³• modinfo [é€‰é¡¹] [ modulename|filename&hellip; ]
é€‰é¡¹  -n åªæ˜¾ç¤ºæ¨¡å—æ–‡ä»¶è·¯å¾„ -p æ˜¾ç¤ºæ¨¡å—å‚æ•° -a author -d description -l license -0 ä½¿ç”¨â€™\0â€™å­—ç¬¦åˆ†éš” field å€¼ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ–°è¡Œï¼Œå¯¹è„šæœ¬æ¯”è¾ƒæœ‰ç”¨  å®æˆ˜æ¼”ç¤º # modinfo ext4 filename: /lib/modules/2.6.32-573.22.1.el6.i686/kernel/fs/ext4/ext4.ko license: GPL description: Fourth Extended Filesystem author: Remy Card, Stephen Tweedie, Andrew Morton, Andreas Dilger, Theodore and others srcversion: CB1B990F5A758DFB0FB12F1 depends: mbcache,jbd2 vermagic: 2.6.32-573.22.1.el6.i686 SMP mod_unload modversions 686 # modinfo btrfs filename: /lib/modules/2.6.32-573.22.1.el6.i686/kernel/fs/btrfs/btrfs.ko license: GPL alias: devname:btrfs-control alias: char-major-10-234 srcversion: B412C18B0F5BF7F1B3C941A depends: libcrc32c,zlib_deflate,lzo_compress,lzo_decompress vermagic: 2.6.32-573.22.1.el6.i686 SMP mod_unload modversions 686 modprobe å‘½ä»¤ è£…è½½æˆ–å¸è½½å†…æ ¸æ¨¡å—
å‘½ä»¤å®šä¹‰ é…ç½®æ–‡ä»¶/etc/modprobe.conf/etc/modprobe.d/*.conf
è§£å†³ä¾èµ–modprobeéœ€è¦ä¸€ä¸ªæœ€æ–°çš„modules.depæ–‡ä»¶ï¼Œå¯ä»¥ç”¨depmodæ¥ç”Ÿæˆè¯¥æ–‡ä»¶åˆ—å‡ºäº†æ¯ä¸€ä¸ªæ¨¡å—éœ€è¦çš„å…¶ä»–æ¨¡å—ï¼Œmodprobeä½¿ç”¨è¿™ä¸ªå»è‡ªåŠ¨æ·»åŠ æˆ–åˆ é™¤æ¨¡å—çš„ä¾èµ–
bash # modules.depä¸ºè§£å†³ä¾èµ–çš„é…ç½®æ–‡ä»¶ï¼Œmodules.dep.binäºŒè¿›åˆ¶æ–‡ä»¶è¿è¡Œ # ls /lib/modules/2.6.32-358.6.1.el6.i686/ build modules.block modules.ieee1394map modules.ofmap modules.symbols.bin weak-updates extra modules.ccwmap modules.inputmap modules.order modules.usbmap kernel modules.dep modules.isapnpmap modules.pcimap source modules.alias modules.dep.bin modules.modesetting modules.seriomap updates modules.alias.bin modules.drm modules.networking modules.symbols vdso è¯­æ³• modprobe [ -c ]
modprobe [ -l ] [ -t dirname ] [ wildcard ]
modprobe [ -r ] [ -v ] [ -n ] [ -i ] [ modulename â€¦ ]
é€‰é¡¹  -væ˜¾ç¤ºç¨‹åºåœ¨å¹²ä»€ä¹ˆï¼Œé€šå¸¸åœ¨å‡ºé—®é¢˜çš„æƒ…å†µä¸‹ï¼Œmodprobe æ‰æ˜¾ç¤ºä¿¡æ¯ -Cé‡è½½ï¼Œé»˜è®¤é…ç½®æ–‡ä»¶(/etc/modprobe.conf æˆ– /etc/modprobe.d) -cè¾“å‡ºé…ç½®æ–‡ä»¶å¹¶é€€å‡º -nå¯ä»¥å’Œ -v é€‰é¡¹ä¸€èµ·ä½¿ç”¨ï¼Œè°ƒè¯•éå¸¸æœ‰ç”¨ -iè¯¥é€‰é¡¹ä¼šä½¿å¾— modprobe å¿½ç•¥é…ç½®æ–‡ä»¶ä¸­çš„ï¼Œåœ¨å‘½ä»¤è¡Œä¸Šè¾“å…¥çš„ install å’Œ remove -qä¸€èˆ¬ modprobe åˆ é™¤æˆ–æ’å…¥ä¸€ä¸ªæ¨¡å—æ—¶ï¼Œè‹¥æ²¡æœ‰æ‰¾åˆ°ä¼šæç¤ºé”™è¯¯ã€‚ä½¿ç”¨è¯¥é€‰é¡¹ï¼Œä¼šå¿½ç•¥æŒ‡å®šçš„æ¨¡å—ï¼Œå¹¶ä¸æç¤ºä»»ä½•é”™è¯¯ä¿¡æ¯ã€‚ -rè¯¥é€‰é¡¹ä¼šå¯¼è‡´ modprobe å»åˆ é™¤ï¼Œè€Œä¸æ˜¯æ’å…¥ä¸€ä¸ªæ¨¡å—é€šå¸¸æ²¡æœ‰æ²¡æœ‰ç†ç”±å»åˆ é™¤å†…æ ¸æ¨¡å—ï¼Œé™¤éæ˜¯ä¸€äº›æœ‰ bug çš„æ¨¡å— -fä½¿ç”¨è¯¥é€‰é¡¹æ˜¯æ¯”è¾ƒå±é™©çš„å’ŒåŒæ—¶ä½¿ç”¨ â€“force-vermagicï¼Œâ€“force-modversion ä¸€æ · -låˆ—å‡ºæ‰€æœ‰æ¨¡å— -aæ’å…¥æ‰€æœ‰å‘½ä»¤è¡Œä¸­çš„æ¨¡å— -tå¼ºåˆ¶ -l æ˜¾ç¤º dirname ä¸­çš„æ¨¡å— -sé”™è¯¯ä¿¡æ¯å†™å…¥ syslog  depmod å‘½ä»¤ å†…æ ¸æ¨¡å—ä¾èµ–å…³ç³»æ–‡ä»¶åŠç³»ç»Ÿä¿¡æ¯æ˜ å°„æ–‡ä»¶çš„ç”Ÿæˆå·¥å…·
è¯­æ³• depmod [-adeisvV][-m &lt;æ–‡ä»¶&gt;][&ndash;help][æ¨¡å—åç§°]
å‚æ•°  -a åˆ†ææ‰€æœ‰å¯ç”¨çš„æ¨¡å— -d æ‰§è¡Œæ’é”™æ¨¡å¼ -e è¾“å‡ºæ— æ³•å‚ç…§çš„ç¬¦å· -i ä¸æ£€æŸ¥ç¬¦å·è¡¨çš„ç‰ˆæœ¬ -m&lt;æ–‡ä»¶&gt; ä½¿ç”¨æŒ‡å®šçš„ç¬¦å·è¡¨æ–‡ä»¶ -s åœ¨ç³»ç»Ÿè®°å½•ä¸­è®°å½•é”™è¯¯ -v æ‰§è¡Œæ—¶æ˜¾ç¤ºè¯¦ç»†çš„ä¿¡æ¯ -V æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ &ndash;help æ˜¾ç¤ºå¸®åŠ©  insmod å’Œ rmmod å‘½ä»¤ è£…è½½æˆ–å¸è½½å†…æ ¸æ¨¡å—
ä¸è§£å†³ä¾èµ–å…³ç³»ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨å¸è½½
insmodå‘½ä»¤ å‘ Linux å†…æ ¸ä¸­æ’å…¥ä¸€ä¸ªæ¨¡å—
insmod æ˜¯ä¸€ä¸ªå‘å†…æ ¸æ’å…¥æ¨¡å—çš„å°ç¨‹åº
å¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨ modprobe å› ä¸ºå®ƒæ¯”è¾ƒæ™ºèƒ½åŒ–
insmod [ filename ] [ module options&hellip; ]
rmmodå‘½ä»¤ å‘½ä»¤è§£æåˆ é™¤å†…æ ¸ä¸­çš„ä¸€æ¨¡å—rmmod æ˜¯ä¸€ä¸ªå¯ä»¥ä»å†…æ ¸ä¸­åˆ é™¤æ¨¡å—çš„å°ç¨‹åºï¼Œå¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨modprobe -rå»åˆ é™¤æ¨¡å—
è¯­æ³•æ ¼å¼rmmod [ modulename ]
å‚æ•°é€‰é¡¹-fé™¤éç¼–è¯‘å†…æ ¸æ—¶ CONFIG_MODULE_FORCE_UNLOAD è¢«è®¾ç½®è¯¥å‘½ä»¤æ‰æœ‰æ•ˆæœï¼Œå¦åˆ™æ²¡æ•ˆæœç”¨è¯¥é€‰é¡¹å¯ä»¥åˆ é™¤æ­£åœ¨è¢«ä½¿ç”¨çš„æ¨¡å—ï¼Œè®¾è®¡ä¸ºä¸èƒ½åˆ é™¤çš„æ¨¡å—ï¼Œæˆ–è€…æ ‡è®°ä¸º unsafe çš„æ¨¡å—-wrmmod æ‹’ç»åˆ é™¤æ­£åœ¨è¢«ä½¿ç”¨çš„æ¨¡å—ä½¿ç”¨è¯¥é€‰é¡¹åï¼ŒæŒ‡å®šçš„æ¨¡å—ä¼šè¢«å­¤ç«‹èµ·æ¥ï¼Œç›´åˆ°ä¸è¢«ä½¿ç”¨-så°†é”™è¯¯ä¿¡æ¯å†™å…¥ syslogï¼Œè€Œä¸æ˜¯æ ‡å‡†é”™è¯¯(stderr)
/proc ç›®å½• å†…æ ¸æŠŠè‡ªå·±å†…éƒ¨çŠ¶æ€ä¿¡æ¯åŠç»Ÿè®¡ä¿¡æ¯ï¼Œä»¥åŠå¯é…ç½®å‚æ•°é€šè¿‡ proc ä¼ªæ–‡ä»¶ç³»ç»ŸåŠ ä»¥è¾“å‡ºã€‚
# ls /proc/ 1 1173 22 29855 35 47 60 973 filesystems loadavg scsi version 10 12 23 3 36 48 600 buddyinfo fs locks self vmallocinfo 1071 13 232 30 37 49 61 bus interrupts mdstat slabinfo vmstat 1082 14 234 31 38 5 62 cgroups iomem meminfo softirqs xen 1085 15 24 31314 39 528 7 cmdline ioports misc stat zoneinfo 11 16 25 317 4 531 739 cpuinfo irq modules swaps 1150 17 252 318 40 543 8 crypto kallsyms mounts sys 1162 18 253 32 41 56 808 devices kcore mtd sysrq-trigger 1163 19 26 320 42 566 830 diskstats keys net sysvipc 1165 1908 27 33 43 567 853 dma key-users pagetypeinfo timer_list 1167 2 28 330 44 57 9 driver kmsg partitions timer_stats 1169 20 29 334 45 59 94 execdomains kpagecount sched_debug tty 1171 21 29853 34 46 6 95 fb kpageflags schedstat uptime sysctl å‘½ä»¤ è¯­æ³•æ ¼å¼ sysctl(é€‰é¡¹)(å‚æ•°)
å‘½ä»¤å‚æ•°  -n æ‰“å°å€¼æ—¶ä¸æ‰“å°å…³é”®å­— -e å¿½ç•¥æœªçŸ¥å…³é”®å­—é”™è¯¯ -N ä»…æ‰“å°åç§° -w å½“æ”¹å˜ sysctl è®¾ç½®æ—¶ä½¿ç”¨æ­¤é¡¹ -p ä»é…ç½®æ–‡ä»¶ /etc/sysctl.conf åŠ è½½å†…æ ¸å‚æ•°è®¾ç½® -a æ‰“å°å½“å‰æ‰€æœ‰å¯ç”¨çš„å†…æ ¸å‚æ•°å˜é‡å’Œå€¼ -A ä»¥è¡¨æ ¼æ–¹å¼æ‰“å°å½“å‰æ‰€æœ‰å¯ç”¨çš„å†…æ ¸å‚æ•°å˜é‡å’Œå€¼  é»˜è®¤é…ç½®æ–‡ä»¶ /etc/sysctl.conf
å‘½ä»¤ä½¿ç”¨æ–¹å¼ (1) è®¾ç½®æŸå‚æ•°sysctl -w parameter=VALUE (2) é€šè¿‡è¯»å–é…ç½®æ–‡ä»¶è®¾ç½®å‚æ•°sysctl -p [/path/to/conf_file]
å‚æ•°è¯´æ˜ åªè¯»ï¼šè¾“å‡ºä¿¡æ¯
å¯å†™ï¼šå¯æ¥å—ç”¨æˆ·æŒ‡å®šâ€œæ–°å€¼â€æ¥å®ç°å¯¹å†…æ ¸æŸåŠŸèƒ½æˆ–ç‰¹æ€§çš„é…ç½®/proc/sys
ä¸¤ç§ä¿®æ”¹æ–¹å¼ (1) sysctl å‘½ä»¤ç”¨äºæŸ¥çœ‹æˆ–è®¾å®šæ­¤ç›®å½•ä¸­è¯¸å¤šå‚æ•°sysctl -w path.to.parameter=VALUEsysctl -w kernel.hostname=mail.escapelife.com
(2) echo å‘½ä»¤é€šè¿‡é‡å®šå‘çš„æ–¹å¼ä¹Ÿå¯ä»¥ä¿®æ”¹å¤§å¤šæ•°å‚æ•°çš„å€¼echo &ldquo;VALUE&rdquo; &gt; /proc/sys/path/to/parameterecho &ldquo; www.escapelife.com  &rdquo; &gt; /proc/sys/kernel/hostname
é…ç½®æ–‡ä»¶ä¸­å¸¸ç”¨çš„å‡ ä¸ªå‚æ•°
net.ipv4.ip_forward /proc/sys/net/ipv4/ip_forward vm.drop_caches /proc/sys/vm/drop_caches kernel.hostname /proc/sys/kernel/hostname ä¿®æ”¹é…ç½®æ–‡ä»¶ # cat /etc/sysctl.conf # Kernel sysctl configuration file for Red Hat Linux # Controls IP packet forwarding net.ipv4.ip_forward = 0 # Controls source route verification net.ipv4.conf.default.rp_filter = 1 # Do not accept source routing net.ipv4.conf.default.accept_source_route = 0 # Controls the System Request debugging functionality of the kernel kernel.sysrq = 0 # Controls whether core dumps will append the PID to the core filename. # Useful for debugging multi-threaded applications. kernel.core_uses_pid = 1 # Controls the use of TCP syncookies net.ipv4.tcp_syncookies = 1 # Disable netfilter on bridges. net.bridge.bridge-nf-call-ip6tables = 0 net.bridge.bridge-nf-call-iptables = 0 net.bridge.bridge-nf-call-arptables = 0 # Controls the default maxmimum size of a mesage queue kernel.msgmnb = 65536 # Controls the maximum size of a message, in bytes kernel.msgmax = 65536 # Controls the maximum shared segment size, in bytes kernel.shmmax = 4294967295 # Controls the maximum number of shared memory segments, in pages kernel.shmall = 268435456 # Auto-enabled by xs-tools:install.sh net.ipv4.conf.all.arp_notify = 1 å®æˆ˜æ¼”ç¤º # æŸ¥çœ‹æ‰€æœ‰å¯è¯»å˜é‡ sysctl -a # ä¿®æ”¹å¯¹åº”å‚æ•° sysctl -w kernel.sysrq=0 sysctl -w kernel.core_uses_pid=1 sysctl -w net.ipv4.conf.default.accept_redirects=0 # å¦‚æœå¸Œæœ›å±è”½åˆ«äºº ping ä½ çš„ä¸»æœºï¼Œé…ç½®æ–‡ä»¶ä¿®æ”¹ net.ipv4.icmp_echo_ignore_all = 1 # ç¼–è¾‘å®Œæˆåï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä½¿å˜åŠ¨ç«‹å³ç”Ÿæ•ˆ /sbin/sysctl -p /sbin/sysctl -w net.ipv4.route.flush=1 /sys ç›®å½• sysfs ä¼ªæ–‡ä»¶ç³»ç»Ÿï¼Œè¾“å‡ºå†…æ ¸è¯†åˆ«å‡ºçš„å„ç¡¬ä»¶è®¾å¤‡çš„ç›¸å…³å±æ€§ä¿¡æ¯ï¼Œä¹Ÿæœ‰å†…æ ¸å¯¹ç¡¬ä»¶ç‰¹æ€§çš„è®¾å®šä¿¡æ¯ã€‚æœ‰äº›å‚æ•°æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œç”¨äºè°ƒæ•´ç¡¬ä»¶å·¥ä½œç‰¹æ€§ã€‚
udev  udev æ˜¯è¿è¡Œç”¨æˆ·ç©ºé—´ç¨‹åºã€‚ udev é€š /sys/ è·¯å¾„ä¸‹è¾“å‡ºçš„ä¿¡æ¯åŠ¨æ€ä¸ºå„è®¾å¤‡åˆ›å»ºæ‰€éœ€è¦è®¾å¤‡æ–‡ä»¶ã€‚ udev æ˜¯ Linux å†…æ ¸çš„è®¾å¤‡ç®¡ç†å™¨ï¼Œå®ƒå–ä»£äº† udevadmin å’Œ hotplugï¼Œè´Ÿè´£ç®¡ç† /dev ä¸­çš„è®¾å¤‡èŠ‚ç‚¹ã€‚ udev ä¹Ÿå¤„ç†æ‰€æœ‰ç”¨æˆ·ç©ºé—´å‘ç”Ÿçš„ç¡¬ä»¶æ·»åŠ ã€åˆ é™¤äº‹ä»¶ï¼Œä»¥åŠæŸäº›ç‰¹å®šè®¾å¤‡æ‰€éœ€çš„å›ºä»¶åŠ è½½ã€‚ udev ä¸ºè®¾å¤‡åˆ›å»ºè®¾å¤‡æ–‡ä»¶æ—¶ï¼Œä¼šè¯»å–å…¶äº‹å…ˆå®šä¹‰å¥½çš„è§„åˆ™æ–‡ä»¶ï¼Œä¸€èˆ¬åœ¨ /etc/udev/rules.d åŠ /usr/lib/udev/rules.d ç›®å½•ä¸‹ã€‚  ramdisk æ–‡ä»¶çš„åˆ¶ä½œ æ–¹æ³•ä¸€ mkinitrd å‘½ä»¤
ä¸ºå½“å‰æ­£åœ¨ä½¿ç”¨çš„å†…æ ¸é‡æ–°åˆ¶ä½œ ramdisk æ–‡ä»¶
mkinitrd /boot/initramfs-$(uname -r).img $(uname -r)
# ç§»åŠ¨ramdiskæ–‡ä»¶åˆ°/rootç›®å½•ä¸‹ mv /boot/initramfs-2.6.32...img /root # ä¸ºå½“å‰æ­£åœ¨ä½¿ç”¨çš„å†…æ ¸é‡æ–°åˆ¶ä½œramdiskæ–‡ä»¶ mkinitrd /boot/initramfs-$(uname -r).img $(uname -r) æ–¹æ³•äºŒ dracut å‘½ä»¤
ä¸ºå½“å‰æ­£åœ¨ä½¿ç”¨çš„å†…æ ¸é‡æ–°åˆ¶ä½œ ramdisk æ–‡ä»¶
dracut /boot/initramfs-$(uname -r).img $(uname -r)
# ç§»åŠ¨ramdiskæ–‡ä»¶åˆ°/rootç›®å½•ä¸‹ mv /boot/initramfs-2.6.32...img /root # ä¸ºå½“å‰æ­£åœ¨ä½¿ç”¨çš„å†…æ ¸é‡æ–°åˆ¶ä½œramdiskæ–‡ä»¶ dracut /boot/initramfs-$(uname -r).img $(uname -r) æŸ¥çœ‹ ramdisk # ä½¿ç”¨fileå‘½ä»¤æŸ¥çœ‹ramdiskæ–‡ä»¶å‘ç°æ˜¯ä»¥gzå‹ç¼©å­˜æ”¾çš„ file /boot/initramfs-2.6.32-504.el6.x86_64.img # æ”¹åç§°ï¼Œè§£å‹ cd /boot/ mv initramfs-2.6.32-504.el6.x86_64.img initramfs-2.6.32-504.el6.x86_64.img.gz gzip -d initramfs-2.6.32-504.el6.x86_64.img.gz # ä½¿ç”¨fileå‘½ä»¤æŸ¥çœ‹å‘ç°æ˜¯ä»¥cpioå­˜æ”¾çš„æ–‡æœ¬æ–‡ä»¶ file initramfs-2.6.32-504.el6.x86_64.img # è§£å‹è¿™ä¸ªæ–‡æœ¬æ–‡ä»¶ # ä¹‹åä¼šåœ¨initrdç›®å½•ä¸‹ç”Ÿæˆç›¸åº”çš„æ–‡ä»¶ï¼Œä¸€ä¸ªå¾®å‹çš„/root mkdir initrd cd initrd cpio -id &lt; ../initramfs-2.6.32-504.el6.x86_64.img # è¿™ä¸ªæ—¶å€™å°±å¯ä»¥æŸ¥çœ‹initè„šæœ¬æ–‡ä»¶äº† cat init # åœ¨sbinæ–‡ä»¶ä¸­å­˜æ”¾ç€ç›¸å…³çš„å‘½ä»¤ ls sbin ç¼–è¯‘å†…æ ¸ å‰æå‡†å¤‡ (1) å‡†å¤‡å¥½å¼€å‘ç¯å¢ƒ
åŒ…ç»„(CentOS 6)
Server Platform Development
Development Tools
(2) è·å–ç›®æ ‡ä¸»æœºä¸Šç¡¬ä»¶è®¾å¤‡çš„ç›¸å…³ä¿¡æ¯
CPUcat /proc/cpuinfox86info -alscpu
PCI è®¾å¤‡lspci-v-vvlsusb-v-vvlsblk
äº†è§£å…¨éƒ¨ç¡¬ä»¶è®¾å¤‡ä¿¡æ¯hal-device
(3) è·å–åˆ°ç›®æ ‡ä¸»æœºç³»ç»ŸåŠŸèƒ½çš„ç›¸å…³ä¿¡æ¯
(4) è·å–å†…æ ¸æºä»£ç åŒ…
 www.kernel.org  
ç®€æ˜“å®‰è£…å†…æ ¸ ç®€æ˜“å®‰è£… è·å–å½“å‰ç³»ç»Ÿçš„å®‰è£…æ–‡ä»¶ä½œä¸ºæ¨¡å—å®‰è£…è¾ƒä¸ºæ–¹ä¾¿
ä¿®æ”¹ç›¸åº”çš„å‚æ•°å³å¯
åªé€‚ç”¨äºå½“å‰ç‰¹å®šçš„å†…æ ¸ç‰ˆæœ¬
å½“å‰ç³»ç»Ÿçš„å®‰è£…æ–‡ä»¶åœ¨ config-2.6.32-504.el6.x86_64
ç®€å•ä¾æ®æ¨¡æ¿æ–‡ä»¶çš„åˆ¶ä½œå†…æ ¸ # ä¸‹è½½å¯¹åº”çš„Linuxå†…æ ¸ç‰ˆæœ¬è¿›è¡Œè§£å‹ç¼© # ä¼šåœ¨/usr/srcç›®å½•ä¸‹åˆ›å»ºdebugã€kernelså’Œlinux-3.10.67ç›®å½• tar xf linux-3.10.67.tar.xz -C /usr/src # ä¸ºäº†æ–¹ä¾¿å¤šå†…æ ¸å…±å­˜ï¼Œä½¿ç”¨è¿æ¥æŒ‡å‘ # ä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªé“¾æ¥æ–‡ä»¶ linux -&gt; linux-3.10.67 cd /usr/src ln -sv linux-3.10.67 linux # åˆ›å»ºæ¨¡æ¿ cd linux # æŸ¥çœ‹é“¾æ¥æŒ‡å‘çš„æ–‡ä»¶å†…å®¹ ls # æ‹·è´ç³»ç»Ÿè‡ªå¸¦çš„æ¨¡æ¿æ–‡ä»¶ cp /boot/config-$(uname -r) .config # æ‰“å¼€å›¾å½¢ç•Œé¢é…ç½®å†…æ ¸é€‰é¡¹ï¼Œé€‰æ‹©æ·»åŠ ã€åˆ é™¤å†…æ ¸æ¨¡å— # æ·»åŠ çš„é»˜è®¤é€‰é¡¹æ¥è‡ª.configé…ç½®æ–‡ä»¶ make menuconfig # ä½¿ç”¨screenæ¥ä¸ä¸­æ–­å®‰è£… screen # é‡‡ç”¨å‡ ä¸ªçº¿ç¨‹è¿›è¡Œç¼–è¯‘ make -j n # å®‰è£…å†…æ ¸ make modules_install # make installä¸­å°†ä¼šå®‰è£…å†…å®¹ # å®‰è£…bzImageä¸º/boot/vmlinuz-VERSION-RELEASE # ç”Ÿæˆinitramfsæ–‡ä»¶ # ç¼–è¾‘grubçš„é…ç½®æ–‡ä»¶ make install # é‡å¯ç³»ç»Ÿï¼Œå¹¶æµ‹è¯•ä½¿ç”¨æ–°å†…æ ¸ï¼Œä¸æ˜¯é»˜è®¤å¯åŠ¨å†…æ ¸ init 6 è¯¦è§£ç¼–è¯‘å†…æ ¸ (1) é…ç½®å†…æ ¸é€‰é¡¹ æ”¯æŒâ€œæ›´æ–°â€æ¨¡å¼è¿›è¡Œé…ç½®  (a) make configï¼šåŸºäºå‘½ä»¤è¡Œä»¥éå†çš„æ–¹å¼å»é…ç½®å†…æ ¸ä¸­å¯é…ç½®çš„æ¯ä¸ªé€‰é¡¹ (b) make menuconfigï¼šåŸºäº curses çš„æ–‡æœ¬çª—å£ç•Œé¢ (c) make gconfigï¼šåŸºäº GTK å¼€å‘ç¯å¢ƒçš„çª—å£ç•Œé¢ (d) make xconfigï¼šåŸºäº Qt å¼€å‘ç¯å¢ƒçš„çª—å£ç•Œé¢  æ”¯æŒâ€œå…¨æ–°é…ç½®â€æ¨¡å¼è¿›è¡Œé…ç½®  (a) make defconfigï¼šåŸºäºå†…æ ¸ä¸ºç›®æ ‡å¹³å°æä¾›çš„â€œé»˜è®¤â€é…ç½®è¿›è¡Œé…ç½® (b) make allnoconfig: æ‰€æœ‰é€‰é¡¹å‡å›ç­”ä¸ºâ€noâ€œ  (2) ç¼–è¯‘ - make [-j #] å¦‚ä½•åªç¼–è¯‘å†…æ ¸ä¸­çš„ä¸€éƒ¨åˆ†åŠŸèƒ½
# (a)åªç¼–è¯‘æŸå­ç›®å½•ä¸­çš„ç›¸å…³ä»£ç  cd /usr/src/linux make dir/ # (b)åªç¼–è¯‘ä¸€ä¸ªç‰¹å®šçš„æ¨¡å— cd /usr/src/linux make dir/file.ko # ä¾‹å¦‚ï¼šåªä¸ºe1000ç¼–è¯‘é©±åŠ¨ make drivers/net/ethernet/intel/e1000/e1000.ko å¦‚ä½•äº¤å‰ç¼–è¯‘å†…æ ¸
# ç¼–è¯‘çš„ç›®æ ‡å¹³å°ä¸å½“å‰å¹³å°ä¸ç›¸åŒï¼› make ARCH=arch_name # è¦è·å–ç‰¹å®šç›®æ ‡å¹³å°çš„ä½¿ç”¨å¸®åŠ© make ARCH=arch_name help å¦‚ä½•åœ¨å·²ç»æ‰§è¡Œè¿‡ç¼–è¯‘æ“ä½œçš„å†…æ ¸æºç æ ‘åšé‡æ–°ç¼–è¯‘
# äº‹å…ˆæ¸…ç†æ“ä½œ # æ¸…ç†å¤§å¤šæ•°ç¼–è¯‘ç”Ÿæˆçš„æ–‡ä»¶ï¼Œä½†ä¼šä¿ç•™configæ–‡ä»¶ç­‰ make clean # æ¸…ç†æ‰€æœ‰ç¼–è¯‘ç”Ÿæˆçš„æ–‡ä»¶ã€configåŠæŸäº›å¤‡ä»½æ–‡ä»¶ make mrproper # mrproperã€patchesä»¥åŠç¼–è¾‘å™¨å¤‡ä»½æ–‡ä»¶ make distclean ]]></content>
  </entry>
  
  <entry>
    <title>å¦‚ä½•åœ¨ Linux ä½¿ç”¨ pv å‘½ä»¤ç›‘æ§æ•°æ®ä¼ è¾“é€Ÿåº¦ä¸è¿›åº¦</title>
    <url>/post/linux/using-pv-cmd-to-monitor-data-transfer-speed-and-progress.html</url>
    <categories><category>Linux</category>
    </categories>
    <tags>
      <tag>pv</tag>
    </tags>
    <content type="html"><![CDATA[pv å‘½ä»¤æ˜¯ä¸€ä¸ªåœ¨ Linux/Unix ç³»ç»Ÿçš„å®ç”¨å·¥å…·ï¼Œç”¨äºç›‘æ§æ•°æ®çš„æµåŠ¨ã€‚pv å‘½ä»¤å¯ä»¥ç”¨äºè®¡ç®—æ•°æ®ä¼ è¾“çš„é€Ÿåº¦ï¼Œæ˜¾ç¤ºè¿›åº¦æ¡ä»¥åŠä¼°ç®—å‰©ä½™æ—¶é—´ç­‰ã€‚
pvå‘½ä»¤å¯ä»¥é€šè¿‡ç®¡é“ç›‘æ§æ•°æ®æµçš„è¿›åº¦ï¼Œä½†æ˜¯æ— æ³•ç›´æ¥ç›‘æ§mvå‘½ä»¤çš„è¿›åº¦ã€‚è¿™æ˜¯å› ä¸ºmvå‘½ä»¤å®é™…ä¸Šæ˜¯å°†æ–‡ä»¶ä»ä¸€ä¸ªä½ç½®ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®ï¼Œè€Œä¸æ˜¯åœ¨ç®¡é“ä¸­ä¼ è¾“æ•°æ®ã€‚
é»˜è®¤æƒ…å†µä¸‹ï¼Œpv å‘½ä»¤åªä¼šæ˜¾ç¤ºä¸€ä¸ªè¿›åº¦æ¡ï¼Œä»¥åŠä¼ è¾“é€Ÿåº¦å’Œä¼°ç®—çš„å‰©ä½™æ—¶é—´ç­‰ä¿¡æ¯ã€‚é™¤äº†é»˜è®¤çš„è¿›åº¦æ¡å¤–ï¼Œpv å‘½ä»¤è¿˜æ”¯æŒè®¸å¤šé€‰é¡¹ã€‚
åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šè¯´æ˜å¦‚ä½•åœ¨ Linux ä½¿ç”¨ pv å‘½ä»¤ç›‘æ§æ•°æ®çš„ä¼ è¾“é€Ÿåº¦å¹¶ä¼°ç®—å‰©ä½™æ—¶é—´ç­‰ä¿¡æ¯ã€‚
pv å‘½ä»¤ pv å‘½ä»¤çš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œåªéœ€åœ¨ç»ˆç«¯è¾“å…¥ pv å‘½ä»¤ï¼Œåé¢æ˜¯éœ€è¦ç›‘è§†çš„æ–‡ä»¶æˆ–æ•°æ®æµå³å¯ã€‚
pv file.txt &gt; /dev/null pv å‘½ä»¤é€‰é¡¹ è¿™äº›é€‰é¡¹å¯ä»¥ç”¨äºæ›´å¥½åœ°æ§åˆ¶ pv å‘½ä»¤çš„è¾“å‡ºã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„é€‰é¡¹ï¼š
 -fï¼Œ&ndash;forceï¼š  å¼ºåˆ¶ pv å‘½ä»¤æ‰§è¡Œï¼Œå³ä½¿æ ‡å‡†é”™è¯¯ä¸æ˜¯ç»ˆç«¯ä¹Ÿè¾“å‡ºã€‚
 -nï¼Œ&ndash;numericï¼š  æ˜¾ç¤ºæ•°å­—çš„ç™¾åˆ†æ¯”å’Œé€Ÿåº¦è€Œä¸æ˜¯è¿›åº¦æ¡ã€‚
 -qï¼Œ&ndash;quietï¼š  ä¸è¾“å‡ºé”™è¯¯å’Œè­¦å‘Šä¿¡æ¯ã€‚
 -sï¼Œ&ndash;size SIZEï¼š  æŒ‡å®šè¾“å…¥æµçš„å¤§å°ã€‚
 -tï¼Œ&ndash;timerï¼š  æ˜¾ç¤ºæ—¶é—´ä¼°è®¡ã€‚
 -hï¼Œ&ndash;helpï¼š  æ˜¾ç¤º pv å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ã€‚
 -Vï¼Œ&ndash;versionï¼š  æ˜¾ç¤º pv å‘½ä»¤çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚
ä¸‹é¢æ˜¯ä¸€äº›ä½¿ç”¨pvå‘½ä»¤çš„ç¤ºä¾‹ï¼š
ç›‘æ§æ–‡ä»¶ä¼ è¾“ åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œpv å‘½ä»¤å°† file.txt æ–‡ä»¶çš„å†…å®¹è¾“å‡ºåˆ° /dev/null ç©ºè®¾å¤‡ä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªç±»ä¼¼äºåƒåœ¾æ¡¶çš„è®¾å¤‡ï¼Œåªå¯å†™å…¥ä½†æ— æ³•è¯»å–çš„è®¾å¤‡ã€‚
å¯ä»¥å°†å…¶ç”¨äºä¸¢å¼ƒä¸éœ€è¦çš„è¾“å‡ºã€‚pv å‘½ä»¤ä¼šè®¡ç®— file.txt æ–‡ä»¶çš„å¤§å°å¹¶æ˜¾ç¤ºä¸€ä¸ªè¿›åº¦æ¡ï¼Œä»¥åŠä¼°ç®—å‰©ä½™æ—¶é—´å’Œä¼ è¾“é€Ÿåº¦ç­‰ä¿¡æ¯ã€‚
pv file.txt &gt; /dev/null ç›‘æ§æ ‡å‡†è¾“å…¥æµå‘æ ‡å‡†è¾“å‡ºçš„æ•°æ® åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œpv å‘½ä»¤å°† file.txt æ–‡ä»¶çš„å†…å®¹é€šè¿‡ç®¡é“ä¼ é€’ç»™ gzip å‘½ä»¤è¿›è¡Œå‹ç¼©ï¼Œç„¶åå°†å‹ç¼©åçš„æ•°æ®å†™å…¥åˆ° file.txt.gzæ–‡ä»¶ã€‚
pv å‘½ä»¤ä¼šç›‘æ§ç®¡é“ä¸­çš„æ•°æ®æµï¼Œå¹¶æ˜¾ç¤ºä¸€ä¸ªè¿›åº¦æ¡ï¼Œä»¥åŠä¼°ç®—å‰©ä½™æ—¶é—´å’Œä¼ è¾“é€Ÿåº¦ç­‰ä¿¡æ¯ã€‚
cat file.txt | pv | gzip &gt; file.txt.gz è¯„ä¼°æ•°æ®ä¼ è¾“æ—¶é—´ åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œpv å‘½ä»¤å°† iso é•œåƒæ–‡ä»¶çš„å†…å®¹é€šè¿‡ç®¡é“ä¼ é€’ç»™ dd å‘½ä»¤è¿›è¡Œå†™å…¥ï¼Œpvå‘½ä»¤ä¼šè®¡ç®— iso æ–‡ä»¶çš„å¤§å°å¹¶æ˜¾ç¤ºä¸€ä¸ªè¿›åº¦æ¡ï¼Œä»¥åŠä¼°ç®—å‰©ä½™æ—¶é—´å’Œä¼ è¾“é€Ÿåº¦ç­‰ä¿¡æ¯ã€‚
pv -pteb file.iso | dd of=/dev/sdb ä½¿ç”¨åœºæ™¯ ä»¥ä¸Šç¤ºä¾‹åªæ˜¯ pv å‘½ä»¤çš„åŸºæœ¬ç”¨æ³•ï¼Œä½†å®é™…ä¸Šï¼Œpv å‘½ä»¤å¯ä»¥åœ¨è®¸å¤šåœºæ™¯ä¸­å‘æŒ¥é‡è¦çš„ä½œç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤‡ä»½æ–‡ä»¶æˆ–å¤åˆ¶å¤§é‡æ–‡ä»¶æ—¶ï¼Œpv å‘½ä»¤å¯ä»¥å¸®åŠ©ç”¨æˆ·è·Ÿè¸ªæ•°æ®çš„ä¼ è¾“é€Ÿåº¦å’Œè¿›åº¦ï¼Œä»¥åŠä¼°ç®—å‰©ä½™æ—¶é—´ã€‚
å¯¹äºç½‘ç»œä¼ è¾“æˆ–äº‘å­˜å‚¨ç­‰åœºæ™¯ä¸­ï¼Œpv å‘½ä»¤å¯ä»¥å¸®åŠ©ç”¨æˆ·ç›‘è§†æ•°æ®æµï¼Œç¡®ä¿ä¼ è¾“çš„å¯é æ€§å’Œæ•ˆç‡ã€‚
æ­¤å¤–ï¼Œåœ¨ç¼–å†™è„šæœ¬æˆ–å‘½ä»¤è¡Œå·¥å…·æ—¶ï¼Œpv å‘½ä»¤ä¹Ÿå¯ä»¥ç”¨äºç›‘è§†æ•°æ®æµå¹¶æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚
é™¤äº†ä»¥ä¸Šä»‹ç»çš„é€‰é¡¹å’Œç¤ºä¾‹å¤–ï¼Œpv å‘½ä»¤è¿˜å…·æœ‰è®¸å¤šå…¶ä»–åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œpv å‘½ä»¤å¯ä»¥ä¸å…¶ä»–å‘½ä»¤å’Œå·¥å…·ç»“åˆä½¿ç”¨ï¼Œå¦‚tarã€rsyncã€scpç­‰ï¼Œå®ç°æ›´å¤æ‚çš„æ•°æ®ä¼ è¾“å’Œå¤‡ä»½æ“ä½œã€‚æ­¤å¤–ï¼Œpv å‘½ä»¤è¿˜æ”¯æŒåœ¨ç»ˆç«¯æ˜¾ç¤ºé¢œè‰²ï¼Œä»¥ä¾¿ç”¨æˆ·æ›´å®¹æ˜“åœ°è¯†åˆ«ä¸åŒç±»å‹çš„ä¿¡æ¯ã€‚
é™åˆ¶ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œpv å‘½ä»¤è™½ç„¶éå¸¸å®ç”¨ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›å±€é™æ€§ã€‚é¦–å…ˆï¼Œpv å‘½ä»¤åªèƒ½ç›‘æ§å•ä¸ªæ•°æ®æµï¼Œè€Œä¸èƒ½åŒæ—¶ç›‘æ§å¤šä¸ªæ•°æ®æµã€‚å…¶æ¬¡ï¼Œpv å‘½ä»¤æ— æ³•è§£å¯†åŠ å¯†çš„æ•°æ®æµï¼Œå› æ­¤æ— æ³•ç›´æ¥ç›‘è§†åŠ å¯†çš„æ•°æ®æµã€‚
æœ€åï¼Œpv å‘½ä»¤ä¼šæ¶ˆè€—ä¸€å®šçš„ CPU èµ„æºå’Œå†…å­˜ï¼Œå› æ­¤åœ¨å¤„ç†å¤§æ–‡ä»¶æˆ–å¤§é‡æ•°æ®æ—¶ï¼Œå¯èƒ½ä¼šå¯¹ç³»ç»Ÿæ€§èƒ½äº§ç”Ÿä¸€å®šçš„å½±å“ã€‚
æ€»çš„æ¥è¯´ï¼Œpv å‘½ä»¤æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„ Linux/Unix å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·ç›‘æ§æ•°æ®æµï¼Œè®¡ç®—ä¼ è¾“é€Ÿåº¦å’Œä¼°ç®—å‰©ä½™æ—¶é—´ç­‰ä¿¡æ¯ã€‚
é€šè¿‡ç»“åˆä¸åŒçš„é€‰é¡¹å’Œç¤ºä¾‹ï¼Œç”¨æˆ·å¯ä»¥å……åˆ†åˆ©ç”¨ pv å‘½ä»¤çš„åŠŸèƒ½ï¼Œä»¥æ›´å¥½åœ°ç®¡ç†å’Œç›‘è§†æ•°æ®ä¼ è¾“å’Œå¤‡ä»½æ“ä½œã€‚
å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–åé¦ˆï¼Œè¯·éšæ—¶å‘è¡¨è¯„è®ºã€‚ç‚¹å‡»ä¸‹æ–¹é˜…è¯»åŸæ–‡è·å–æ›´å¥½æ’ç‰ˆæ ¼å¼ä¸æ–‡ç« å‚è€ƒå¼•ç”¨ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>å…³äºextern Cçš„çš„è¯¦ç»†å‰–æ</title>
    <url>/post/programming/extern-c-detailed-analysis.html</url>
    <categories><category>Programming</category>
    </categories>
    <tags>
      <tag>C</tag>
      <tag>extern</tag>
    </tags>
    <content type="html"><![CDATA[åœ¨ä½ å·¥ä½œè¿‡çš„ç³»ç»Ÿé‡Œï¼Œä¸çŸ¥èƒ½å¦çœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„ä»£ç ã€‚
è¿™å¥½åƒæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½ åº”è¯¥è¿˜ä¼šæƒ³ â€œå—¯ï¼Œæ˜¯å•Šï¼Œæˆ‘ä»¬çš„ä»£ç éƒ½æ˜¯è¿™æ ·å†™çš„ï¼Œä»æ¥æ²¡æœ‰å› æ­¤ç¢°åˆ°è¿‡ä»€ä¹ˆéº»çƒ¦å•Šï½â€ã€‚
ä½ è¯´çš„æ²¡é”™ï¼Œå¦‚æœä½ çš„å¤´æ–‡ä»¶ä»æ¥æ²¡æœ‰è¢«ä»»ä½•C++ç¨‹åºå¼•ç”¨è¿‡çš„è¯ã€‚
è¿™ä¸C++æœ‰ä»€ä¹ˆå…³ç³»å‘¢? çœ‹çœ‹__cplusplusï¼ˆæ³¨æ„å‰é¢æ˜¯ä¸¤ä¸ªä¸‹åˆ’çº¿ï¼‰çš„åå­—ä½ å°±åº”è¯¥çŸ¥é“å®ƒä¸C++æœ‰å¾ˆå¤§å…³ç³»ã€‚__cplusplusæ˜¯ä¸€ä¸ªC++è§„èŒƒè§„å®šçš„é¢„å®šä¹‰å®ã€‚ä½ å¯ä»¥ä¿¡ä»»çš„æ˜¯ï¼šæ‰€æœ‰çš„ç°ä»£C++ç¼–è¯‘å™¨éƒ½é¢„å…ˆå®šä¹‰äº†å®ƒï¼›è€Œæ‰€æœ‰Cè¯­è¨€ç¼–è¯‘å™¨åˆ™ä¸ä¼šã€‚å¦å¤–ï¼ŒæŒ‰ç…§è§„èŒƒ__cplusplusçš„å€¼åº”è¯¥ç­‰äº1 9 9 7 1 1 L ï¼Œç„¶è€Œä¸æ˜¯æ‰€æœ‰çš„ç¼–è¯‘å™¨éƒ½ç…§æ­¤å®ç°ï¼Œæ¯”å¦‚g++ç¼–è¯‘å™¨å°±å°†å®ƒçš„å€¼å®šä¹‰ä¸º1ã€‚
æ‰€ä»¥ï¼Œå¦‚æœä¸Šè¿°ä»£ç è¢«Cè¯­è¨€ç¨‹åºå¼•ç”¨çš„è¯ï¼Œå®ƒçš„å†…å®¹å°±ç­‰ä»·äºä¸‹åˆ—ä»£ç ã€‚
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ—¢ç„¶extern &ldquo;C&rdquo; { }ç»è¿‡é¢„å¤„ç†ä¹‹åæ ¹æœ¬å°±ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå®ƒå’Œ#includeæŒ‡ä»¤ä¹‹é—´çš„å…³ç³»é—®é¢˜è‡ªç„¶ä¹Ÿå°±æ˜¯æ— ä¸­ç”Ÿæœ‰ã€‚
extern &ldquo;C&quot;çš„å‰ä¸–ä»Šç”Ÿ åœ¨C++ç¼–è¯‘å™¨é‡Œï¼Œæœ‰ä¸€ä½æš—é»‘ç ´åç¥ï¼Œä¸“é—¨ä»äº‹ä¸€ä»½ç§°ä½œâ€œåå­—ç²‰ç¢â€(name mangling)çš„å·¥ä½œã€‚å½“æŠŠä¸€ä¸ªC++çš„æºæ–‡ä»¶æŠ•å…¥ç¼–è¯‘çš„æ—¶å€™ï¼Œå®ƒå°±å¼€å§‹å·¥ä½œï¼ŒæŠŠæ¯ä¸€ä¸ªå®ƒåœ¨æºæ–‡ä»¶é‡Œçœ‹åˆ°çš„å¤–éƒ¨å¯è§çš„åå­—ç²‰ç¢çš„é¢ç›®å…¨éï¼Œç„¶åå­˜å‚¨åˆ°äºŒè¿›åˆ¶ç›®æ ‡æ–‡ä»¶çš„ç¬¦å·è¡¨é‡Œã€‚
ä¹‹æ‰€ä»¥åœ¨C++çš„ä¸–ç•Œé‡Œå­˜åœ¨è¿™æ ·ä¸€ä¸ªæ€ªç‰©ï¼Œæ˜¯å› ä¸ºC++å…è®¸å¯¹ä¸€ä¸ªåå­—ç»™äºˆä¸åŒçš„å®šä¹‰ï¼Œåªè¦åœ¨è¯­ä¹‰ä¸Šæ²¡æœ‰äºŒä¹‰æ€§å°±å¥½ã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥è®©ä¸¤ä¸ªå‡½æ•°æ˜¯åŒåçš„ï¼Œåªè¦å®ƒä»¬çš„å‚æ•°åˆ—è¡¨ä¸åŒå³å¯ï¼Œè¿™å°±æ˜¯å‡½æ•°é‡è½½(function overloading)ï¼›ç”šè‡³ï¼Œä½ å¯ä»¥è®©ä¸¤ä¸ªå‡½æ•°çš„åŸå‹å£°æ˜æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œåªè¦å®ƒä»¬æ‰€å¤„çš„åå­—ç©ºé—´(namespace)ä¸ä¸€æ ·å³å¯ã€‚äº‹å®ä¸Šï¼Œå½“å¤„äºä¸åŒçš„åå­—ç©ºé—´æ—¶ï¼Œæ‰€æœ‰çš„åå­—éƒ½æ˜¯å¯ä»¥é‡å¤çš„ï¼Œæ— è®ºæ˜¯å‡½æ•°åï¼Œå˜é‡åï¼Œè¿˜æ˜¯ç±»å‹åã€‚
å¦å¤–ï¼ŒC++ç¨‹åºçš„æ„é€ æ–¹å¼ä»ç„¶ç»§æ‰¿äº†Cè¯­è¨€çš„ä¼ ç»Ÿï¼šç¼–è¯‘å™¨æŠŠæ¯ä¸€ä¸ªé€šè¿‡å‘½ä»¤è¡ŒæŒ‡å®šçš„æºä»£ç æ–‡ä»¶çœ‹åšä¸€ä¸ªç‹¬ç«‹çš„ç¼–è¯‘å•å…ƒï¼Œç”Ÿæˆç›®æ ‡æ–‡ä»¶ï¼›ç„¶åï¼Œé“¾æ¥å™¨é€šè¿‡æŸ¥æ‰¾è¿™äº›ç›®æ ‡æ–‡ä»¶çš„ç¬¦å·è¡¨å°†å®ƒä»¬é“¾æ¥åœ¨ä¸€èµ·ç”Ÿæˆå¯æ‰§è¡Œç¨‹åºã€‚
ç¼–è¯‘å’Œé“¾æ¥æ˜¯ä¸¤ä¸ªé˜¶æ®µçš„äº‹æƒ…ï¼›äº‹å®ä¸Šï¼Œç¼–è¯‘å™¨å’Œé“¾æ¥å™¨æ˜¯ä¸¤ä¸ªå®Œå…¨ç‹¬ç«‹çš„å·¥å…·ã€‚ç¼–è¯‘å™¨å¯ä»¥é€šè¿‡è¯­ä¹‰åˆ†æçŸ¥é“é‚£äº›åŒåçš„ç¬¦å·ä¹‹é—´çš„å·®åˆ«ï¼›è€Œé“¾æ¥å™¨å´åªèƒ½é€šè¿‡ç›®æ ‡æ–‡ä»¶ç¬¦å·è¡¨ä¸­ä¿å­˜çš„åå­—æ¥è¯†åˆ«å¯¹è±¡ã€‚
æ‰€ä»¥ï¼Œç¼–è¯‘å™¨è¿›è¡Œåå­—ç²‰ç¢çš„ç›®çš„æ˜¯ä¸ºäº†è®©é“¾æ¥å™¨åœ¨å·¥ä½œçš„æ—¶å€™ä¸é™·å…¥å›°æƒ‘ï¼Œå°†æ‰€æœ‰åå­—é‡æ–°ç¼–ç ï¼Œç”Ÿæˆå…¨å±€å”¯ä¸€ï¼Œä¸é‡å¤çš„æ–°åå­—ï¼Œè®©é“¾æ¥å™¨èƒ½å¤Ÿå‡†ç¡®è¯†åˆ«æ¯ä¸ªåå­—æ‰€å¯¹åº”çš„å¯¹è±¡ã€‚
ä½† Cè¯­è¨€å´æ˜¯ä¸€é—¨å•ä¸€åå­—ç©ºé—´çš„è¯­è¨€ï¼Œä¹Ÿä¸å…è®¸å‡½æ•°é‡è½½ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªç¼–è¯‘å’Œé“¾æ¥çš„èŒƒå›´ä¹‹å†…ï¼ŒCè¯­è¨€ä¸å…è®¸å­˜åœ¨åŒåå¯¹è±¡ã€‚æ¯”å¦‚ï¼Œåœ¨ä¸€ä¸ªç¼–è¯‘å•å…ƒå†…éƒ¨ï¼Œä¸å…è®¸å­˜åœ¨åŒåçš„å‡½æ•°ï¼Œæ— è®ºè¿™ä¸ªå‡½æ•°æ˜¯å¦ç”¨staticä¿®é¥°ï¼›åœ¨ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºå¯¹åº”çš„æ‰€æœ‰ç›®æ ‡æ–‡ä»¶é‡Œï¼Œä¸å…è®¸å­˜åœ¨åŒåå¯¹è±¡ï¼Œæ— è®ºå®ƒä»£è¡¨ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè¿˜æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚æ‰€ä»¥ï¼ŒCè¯­è¨€ç¼–è¯‘å™¨ä¸éœ€è¦å¯¹ä»»ä½•åå­—è¿›è¡Œå¤æ‚çš„å¤„ç†ï¼ˆæˆ–è€…ä»…ä»…å¯¹åå­—è¿›è¡Œç®€å•ä¸€è‡´çš„ä¿®é¥°ï¼ˆdecorationï¼‰ï¼Œæ¯”å¦‚åœ¨åå­—å‰é¢ç»Ÿä¸€çš„åŠ ä¸Šå•ä¸‹åˆ’çº¿_ï¼‰ã€‚
C++çš„ç¼”é€ è€…Bjarne Stroustrupåœ¨æœ€åˆå°±æŠŠâ€”â€”èƒ½å¤Ÿå…¼å®¹Cï¼Œèƒ½å¤Ÿå¤ç”¨å¤§é‡å·²ç»å­˜åœ¨çš„Cåº“â€”â€”åˆ—ä¸ºC++è¯­è¨€çš„é‡è¦ç›®æ ‡ã€‚ä½†ä¸¤ç§è¯­è¨€çš„ç¼–è¯‘å™¨å¯¹å¾…åå­—çš„å¤„ç†æ–¹å¼æ˜¯ä¸ä¸€è‡´çš„ï¼Œè¿™å°±ç»™é“¾æ¥è¿‡ç¨‹å¸¦æ¥äº†éº»çƒ¦ã€‚
ä¾‹å¦‚ï¼Œç°æœ‰ä¸€ä¸ªåä¸ºmy_handle.hçš„å¤´æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š
ç„¶åä½¿ç”¨Cè¯­è¨€ç¼–è¯‘å™¨ç¼–è¯‘my_handle.cï¼Œç”Ÿæˆç›®æ ‡æ–‡ä»¶my_handle.oã€‚
ç”±äºCè¯­è¨€ç¼–è¯‘å™¨ä¸å¯¹åå­—è¿›è¡Œç²‰ç¢ï¼Œæ‰€ä»¥åœ¨my_handle.oçš„ç¬¦å·è¡¨é‡Œï¼Œè¿™ä¸‰ä¸ªå‡½æ•°çš„åå­—å’Œæºä»£ç æ–‡ä»¶ä¸­çš„å£°æ˜æ˜¯ä¸€è‡´çš„ã€‚
éšåï¼Œæˆ‘ä»¬æƒ³è®©ä¸€ä¸ªC++ç¨‹åºè°ƒç”¨è¿™äº›å‡½æ•°ï¼Œæ‰€ä»¥ï¼Œå®ƒä¹ŸåŒ…å«äº†å¤´æ–‡ä»¶my_handle.hã€‚
å‡è®¾è¿™ä¸ªC++æºä»£ç æ–‡ä»¶çš„åå­—å«my_handle_client.cppï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š
å…¶ä¸­ï¼Œç²—ä½“çš„éƒ¨åˆ†å°±æ˜¯é‚£ä¸‰ä¸ªå‡½æ•°çš„åå­—è¢«ç²‰ç¢åçš„æ ·å­ã€‚
ç„¶åï¼Œä¸ºäº†è®©ç¨‹åºå¯ä»¥å·¥ä½œï¼Œä½ å¿…é¡»å°†my_handle.oå’Œmy_handle_client.oæ”¾åœ¨ä¸€èµ·é“¾æ¥ã€‚ç”±äºåœ¨ä¸¤ä¸ªç›®æ ‡æ–‡ä»¶å¯¹äºåŒä¸€å¯¹è±¡çš„å‘½åä¸ä¸€æ ·ï¼Œé“¾æ¥å™¨å°†æŠ¥å‘Šç›¸å…³çš„â€œç¬¦å·æœªå®šä¹‰â€é”™è¯¯ã€‚
ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼ŒC++å¼•å…¥äº†é“¾æ¥è§„èŒƒ(linkage specification)çš„æ¦‚å¿µï¼Œè¡¨ç¤ºæ³•ä¸ºextern&quot;language string&rdquo;ï¼ŒC++ç¼–è¯‘å™¨æ™®éæ”¯æŒçš„&quot;language string&quot;æœ‰&quot;C&quot;å’Œ&quot;C++&quot;ï¼Œåˆ†åˆ«å¯¹åº”Cè¯­è¨€å’ŒC++è¯­è¨€ã€‚
é“¾æ¥è§„èŒƒçš„ä½œç”¨æ˜¯å‘Šè¯‰C++ç¼–è¯‘ï¼šå¯¹äºæ‰€æœ‰ä½¿ç”¨äº†é“¾æ¥è§„èŒƒè¿›è¡Œä¿®é¥°çš„å£°æ˜æˆ–å®šä¹‰ï¼Œåº”è¯¥æŒ‰ç…§æŒ‡å®šè¯­è¨€çš„æ–¹å¼æ¥å¤„ç†ï¼Œæ¯”å¦‚åå­—ï¼Œè°ƒç”¨ä¹ æƒ¯ï¼ˆcalling conventionï¼‰ç­‰ç­‰ã€‚
é“¾æ¥è§„èŒƒçš„ç”¨æ³•æœ‰ä¸¤ç§ï¼š  å•ä¸ªå£°æ˜çš„é“¾æ¥è§„èŒƒï¼Œæ¯”å¦‚ï¼š  extern &#34;C&#34; void foo(); ä¸€ç»„å£°æ˜çš„é“¾æ¥è§„èŒƒï¼Œæ¯”å¦‚ï¼š  extern &#34;C&#34; { void foo(); int bar(); } å¯¹æˆ‘ä»¬ä¹‹å‰çš„ä¾‹å­è€Œè¨€ï¼Œå¦‚æœæˆ‘ä»¬æŠŠå¤´æ–‡ä»¶my_handle.hçš„å†…å®¹æ”¹æˆï¼š
ç„¶åä½¿ç”¨C++ç¼–è¯‘å™¨é‡æ–°ç¼–è¯‘my_handle_client.cppï¼Œæ‰€ç”Ÿæˆç›®æ ‡æ–‡ä»¶my_handle_client.oä¸­çš„ç¬¦å·è¡¨å°±å˜ä¸ºï¼š
ä»ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæ­¤æ—¶ï¼Œç”¨extern &ldquo;C&rdquo; ä¿®é¥°äº†çš„å£°æ˜ï¼Œå…¶ç”Ÿæˆçš„ç¬¦å·å’ŒCè¯­è¨€ç¼–è¯‘å™¨ç”Ÿæˆçš„ç¬¦å·ä¿æŒäº†ä¸€è‡´ã€‚è¿™æ ·ï¼Œå½“ä½ å†æ¬¡æŠŠmy_handle.oå’Œmy_handle_client.oæ”¾åœ¨ä¸€èµ·é“¾æ¥çš„æ—¶å€™ï¼Œå°±ä¸ä¼šå†æœ‰ä¹‹å‰çš„â€œç¬¦å·æœªå®šä¹‰â€é”™è¯¯äº†ã€‚
ä½†æ­¤æ—¶ï¼Œå¦‚æœä½ é‡æ–°ç¼–è¯‘my_handle.cï¼ŒCè¯­è¨€ç¼–è¯‘å™¨å°†ä¼šæŠ¥å‘Šâ€œè¯­æ³•é”™è¯¯â€ï¼Œå› ä¸ºextern&quot;C&quot;æ˜¯C++çš„è¯­æ³•ï¼ŒCè¯­è¨€ç¼–è¯‘å™¨ä¸è®¤è¯†å®ƒã€‚æ­¤æ—¶ï¼Œå¯ä»¥æŒ‰ç…§æˆ‘ä»¬ä¹‹å‰å·²ç»è®¨è®ºçš„ï¼Œä½¿ç”¨å®__cplusplusæ¥è¯†åˆ«Cå’ŒC++ç¼–è¯‘å™¨ã€‚ä¿®æ”¹åçš„my_handle.hçš„ä»£ç å¦‚ä¸‹ï¼š
å°å¿ƒé—¨åçš„æœªçŸ¥ä¸–ç•Œ åœ¨æˆ‘ä»¬æ¸…æ¥šäº† extern &ldquo;C&rdquo; çš„æ¥å†å’Œç”¨é€”ä¹‹åï¼Œå›åˆ°æˆ‘ä»¬æœ¬æ¥çš„è¯é¢˜ä¸Šï¼Œä¸ºä»€ä¹ˆä¸èƒ½æŠŠ#include æŒ‡ä»¤æ”¾ç½®åœ¨ extern &ldquo;C&rdquo; { &hellip; } é‡Œé¢ï¼Ÿ
æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œç°æœ‰a.hï¼Œb.hï¼Œc.hä»¥åŠfoo.cppï¼Œå…¶ä¸­foo.cppåŒ…å«c.hï¼Œc.håŒ…å«b.hï¼Œb.håŒ…å«a.hï¼Œå¦‚ä¸‹ï¼š
ç°ä½¿ç”¨C++ç¼–è¯‘å™¨çš„é¢„å¤„ç†é€‰é¡¹æ¥ç¼–è¯‘foo.cppï¼Œå¾—åˆ°ä¸‹é¢çš„ç»“æœï¼š
æ­£å¦‚ä½ çœ‹åˆ°çš„ï¼Œå½“ä½ æŠŠ#includeæŒ‡ä»¤æ”¾ç½®åœ¨extern &ldquo;C&rdquo; { }é‡Œçš„æ—¶å€™ï¼Œåˆ™ä¼šé€ æˆextern &ldquo;C&rdquo; { } çš„åµŒå¥—ã€‚è¿™ç§åµŒå¥—æ˜¯è¢«C++è§„èŒƒå…è®¸çš„ã€‚å½“åµŒå¥—å‘ç”Ÿæ—¶ï¼Œä»¥æœ€å†…å±‚çš„åµŒå¥—ä¸ºå‡†ã€‚æ¯”å¦‚åœ¨ä¸‹é¢ä»£ç ä¸­ï¼Œå‡½æ•°fooä¼šä½¿ç”¨C++çš„é“¾æ¥è§„èŒƒï¼Œè€Œå‡½æ•°baråˆ™ä¼šä½¿ç”¨Cçš„é“¾æ¥è§„èŒƒã€‚
å¦‚æœèƒ½å¤Ÿä¿è¯ä¸€ä¸ªCè¯­è¨€å¤´æ–‡ä»¶ç›´æ¥æˆ–é—´æ¥ä¾èµ–çš„æ‰€æœ‰å¤´æ–‡ä»¶ä¹Ÿéƒ½æ˜¯Cè¯­è¨€çš„ï¼Œé‚£ä¹ˆæŒ‰ç…§C++è¯­è¨€è§„èŒƒï¼Œè¿™ç§åµŒå¥—åº”è¯¥ä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ã€‚
ä½†å…·ä½“åˆ°æŸäº›ç¼–è¯‘å™¨çš„å®ç°ï¼Œæ¯”å¦‚MSVC2005ï¼Œå´å¯èƒ½ç”±äº extern &ldquo;C&rdquo; { } çš„åµŒå¥—è¿‡æ·±è€ŒæŠ¥å‘Šé”™è¯¯ã€‚
ä¸è¦å› æ­¤è€Œè´£å¤‡å¾®è½¯ï¼Œå› ä¸ºå°±è¿™ä¸ªé—®é¢˜è€Œè¨€ï¼Œè¿™ç§åµŒå¥—æ˜¯æ¯«æ— æ„ä¹‰çš„ã€‚ä½ å®Œå…¨å¯ä»¥é€šè¿‡æŠŠ#includeæŒ‡ä»¤æ”¾ç½®åœ¨extern &ldquo;C&rdquo; { }çš„å¤–é¢æ¥é¿å…åµŒå¥—ã€‚
æ‹¿ä¹‹å‰çš„ä¾‹å­æ¥è¯´ï¼Œå¦‚æœæˆ‘ä»¬æŠŠå„ä¸ªå¤´æ–‡ä»¶çš„ #include æŒ‡ä»¤éƒ½ç§»åˆ°extern &ldquo;C&rdquo; { } ä¹‹å¤–ï¼Œç„¶åä½¿ç”¨C++ç¼–è¯‘å™¨çš„é¢„å¤„ç†é€‰é¡¹æ¥ç¼–è¯‘foo.cppï¼Œå°±ä¼šå¾—åˆ°ä¸‹é¢çš„ç»“æœï¼š
è¿™æ ·çš„ç»“æœè‚¯å®šä¸ä¼šå¼•èµ·ç¼–è¯‘é—®é¢˜çš„ç»“æœâ€”â€”å³ä¾¿æ˜¯ä½¿ç”¨MSVCã€‚
æŠŠ #include æŒ‡ä»¤æ”¾ç½®åœ¨extern &ldquo;C&rdquo; { }é‡Œé¢çš„å¦å¤–ä¸€ä¸ªé‡å¤§é£é™©æ˜¯ï¼Œä½ å¯èƒ½ä¼šæ— æ„ä¸­æ”¹å˜ä¸€ä¸ªå‡½æ•°å£°æ˜çš„é“¾æ¥è§„èŒƒã€‚æ¯”å¦‚ï¼šæœ‰ä¸¤ä¸ªå¤´æ–‡ä»¶a.hï¼Œb.hï¼Œå…¶ä¸­b.håŒ…å«a.hï¼Œå¦‚ä¸‹ï¼š
æŒ‰ç…§a.hä½œè€…çš„æœ¬æ„ï¼Œå‡½æ•°fooæ˜¯ä¸€ä¸ªC++è‡ªç”±å‡½æ•°ï¼Œå…¶é“¾æ¥è§„èŒƒä¸º&quot;C++&quot;ã€‚ä½†åœ¨b.hä¸­ï¼Œç”±äº#include &ldquo;a.h&quot;è¢«æ”¾åˆ°äº†extern &ldquo;C&rdquo; { }çš„å†…éƒ¨ï¼Œå‡½æ•°fooçš„é“¾æ¥è§„èŒƒè¢«ä¸æ­£ç¡®åœ°æ›´æ”¹äº†ã€‚
ç”±äºæ¯ä¸€æ¡ #include æŒ‡ä»¤åé¢éƒ½éšè—è¿™ä¸€ä¸ªæœªçŸ¥çš„ä¸–ç•Œï¼Œé™¤éä½ åˆ»æ„å»æ¢ç´¢ï¼Œå¦åˆ™ä½ æ°¸è¿œéƒ½ä¸çŸ¥é“ï¼Œå½“ä½ æŠŠä¸€æ¡æ¡#includeæŒ‡ä»¤æ”¾ç½®äºextern &ldquo;C&rdquo; { }é‡Œé¢çš„æ—¶å€™ï¼Œåˆ°åº•ä¼šäº§ç”Ÿæ€æ ·çš„ç»“æœï¼Œä¼šå¸¦æ¥ä½•ç§çš„é£é™©ã€‚
æˆ–è®¸ä½ ä¼šè¯´ï¼Œâ€œæˆ‘å¯ä»¥å»æŸ¥çœ‹è¿™äº›è¢«åŒ…å«çš„å¤´æ–‡ä»¶ï¼Œæˆ‘å¯ä»¥ä¿è¯å®ƒä»¬ä¸ä¼šå¸¦æ¥éº»çƒ¦â€ã€‚ä½†ï¼Œä½•å¿…å‘¢ï¼Ÿæ¯•ç«Ÿï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ä¸å¿…ä¸ºä¸å¿…è¦çš„äº‹æƒ…ä¹°å•ï¼Œä¸æ˜¯å—ï¼Ÿ
Q &amp; A Q: éš¾é“ä»»ä½•# i n c l u d eæŒ‡ä»¤éƒ½ä¸èƒ½æ”¾åœ¨e x t e r n &ldquo;C&quot;é‡Œé¢å—ï¼Ÿ
A: æ­£åƒè¿™ä¸ªä¸–ç•Œçš„å¤§å¤šæ•°è§„åˆ™ä¸€æ ·ï¼Œæ€»ä¼šå­˜åœ¨ç‰¹æ®Šæƒ…å†µã€‚
æœ‰æ—¶å€™ï¼Œä½ å¯èƒ½åˆ©ç”¨å¤´æ–‡ä»¶æœºåˆ¶â€œå·§å¦™â€çš„è§£å†³ä¸€äº›é—®é¢˜ã€‚æ¯”å¦‚ï¼Œ#pragma packçš„é—®é¢˜ã€‚è¿™äº›å¤´æ–‡ä»¶å’Œå¸¸è§„çš„å¤´æ–‡ä»¶ä½œç”¨æ˜¯ä¸ä¸€æ ·çš„ï¼Œå®ƒä»¬é‡Œé¢ä¸ä¼šæ”¾ç½®Cçš„å‡½æ•°å£°æ˜æˆ–è€…å˜é‡å®šä¹‰ï¼Œé“¾æ¥è§„èŒƒä¸ä¼šå¯¹å®ƒä»¬çš„å†…å®¹äº§ç”Ÿå½±å“ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä¸å¿…éµå®ˆè¿™äº›è§„åˆ™ã€‚
æ›´åŠ ä¸€èˆ¬çš„åŸåˆ™æ˜¯ï¼Œåœ¨ä½ æ˜ç™½äº†è¿™æ‰€æœ‰çš„åŸç†ä¹‹åï¼Œåªè¦ä½ æ˜ç™½è‡ªå·±åœ¨å¹²ä»€ä¹ˆï¼Œé‚£å°±å»åšå§ã€‚
Q: ä½ åªè¯´äº†ä¸åº”è¯¥æ”¾å…¥e x t e r n &ldquo;C&quot;çš„ï¼Œä½†ä»€ä¹ˆå¯ä»¥æ”¾å…¥å‘¢ï¼Ÿ
A: é“¾æ¥è§„èŒƒä»…ä»…ç”¨äºä¿®é¥°å‡½æ•°å’Œå˜é‡ï¼Œä»¥åŠå‡½æ•°ç±»å‹ã€‚æ‰€ä»¥ï¼Œä¸¥æ ¼çš„è®²ï¼Œä½ åªåº”è¯¥æŠŠè¿™ä¸‰ç§å¯¹è±¡æ”¾ç½®äºextern &ldquo;C&quot;çš„å†…éƒ¨ã€‚
ä½†ï¼Œä½ æŠŠCè¯­è¨€çš„å…¶å®ƒå…ƒç´ ï¼Œæ¯”å¦‚éå‡½æ•°ç±»å‹å®šä¹‰ï¼ˆç»“æ„ä½“ï¼Œæšä¸¾ç­‰ï¼‰æ”¾å…¥extern &ldquo;C&quot;å†…éƒ¨ï¼Œä¹Ÿä¸ä¼šå¸¦æ¥ä»»ä½•å½±å“ã€‚æ›´ä¸ç”¨è¯´å®å®šä¹‰é¢„å¤„ç†æŒ‡ä»¤äº†ã€‚
æ‰€ä»¥ï¼Œå¦‚æœä½ æ›´åŠ çœ‹é‡è‰¯å¥½ç»„ç»‡å’Œç®¡ç†çš„ä¹ æƒ¯ï¼Œä½ åº”è¯¥åªåœ¨å¿…é¡»ä½¿ç”¨extern &ldquo;C&quot;å£°æ˜çš„åœ°æ–¹ä½¿ç”¨å®ƒã€‚å³ä½¿ä½ æ¯”è¾ƒæ‡’æƒ°ï¼Œç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒæŠŠä¸€ä¸ªå¤´ä»¶è‡ªèº«çš„æ‰€æœ‰å®šä¹‰å’Œå£°æ˜éƒ½æ”¾ç½®åœ¨extern&quot;C&quot;é‡Œé¢ä¹Ÿä¸ä¼šæœ‰å¤ªå¤§çš„é—®é¢˜ã€‚
Q: å¦‚æœä¸€ä¸ªå¸¦æœ‰å‡½æ•°/å˜é‡å£°æ˜çš„Cå¤´æ–‡ä»¶é‡Œæ²¡æœ‰e x t e r n &ldquo;C&quot;å£°æ˜æ€ä¹ˆåŠï¼Ÿ
A: å¦‚æœä½ å¯ä»¥åˆ¤æ–­ï¼Œè¿™ä¸ªå¤´æ–‡ä»¶æ°¸è¿œä¸å¯èƒ½è®©C++ä»£ç æ¥ä½¿ç”¨ï¼Œé‚£ä¹ˆå°±ä¸è¦ç®¡å®ƒã€‚
ä½†ç°å®æ˜¯ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ æ— æ³•å‡†ç¡®çš„æ¨æµ‹æœªæ¥ã€‚ä½ åœ¨ç°åœ¨å°±åŠ ä¸Šè¿™ä¸ªextern &ldquo;C&rdquo;ï¼Œè¿™èŠ±ä¸äº†ä½ å¤šå°‘æˆæœ¬ï¼Œä½†å¦‚æœä½ ç°åœ¨æ²¡æœ‰åŠ ï¼Œç­‰åˆ°å°†æ¥è¿™ä¸ªå¤´æ–‡ä»¶æ— æ„ä¸­è¢«åˆ«äººçš„C++ç¨‹åºåŒ…å«çš„æ—¶å€™ï¼Œåˆ«äººå¾ˆå¯èƒ½éœ€è¦æ›´é«˜çš„æˆæœ¬æ¥å®šä½é”™è¯¯å’Œä¿®å¤é—®é¢˜ã€‚
Q: å¦‚æœæˆ‘çš„C+ +ç¨‹åºæƒ³åŒ…å«ä¸€ä¸ªCå¤´æ–‡ä»¶a . hï¼Œå®ƒçš„å†…å®¹åŒ…å«äº†Cçš„å‡½æ•°/å˜é‡å£°æ˜ï¼Œä½†å®ƒä»¬å´æ²¡æœ‰ä½¿ç”¨e x t e r n &ldquo;C&quot;é“¾æ¥è§„èŒƒï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ
A: åœ¨a.hé‡Œé¢åŠ ä¸Šå®ƒã€‚
æŸäº›äººå¯èƒ½ä¼šå»ºè®®ä½ ï¼Œå¦‚æœa.hæ²¡æœ‰extern &ldquo;C&rdquo;ï¼Œè€Œb.cppåŒ…å«äº†a.hï¼Œå¯ä»¥åœ¨b.cppé‡ŒåŠ ä¸Š ï¼š
extern &#34;C&#34; { #include &#34;a.h&#34;} è¿™æ˜¯ä¸€ä¸ªé‚ªæ¶çš„æ–¹æ¡ˆï¼ŒåŸå› åœ¨ä¹‹å‰æˆ‘ä»¬å·²ç»é˜è¿°ã€‚ä½†å€¼å¾—æ¢è®¨çš„æ˜¯ï¼Œè¿™ç§æ–¹æ¡ˆè¿™èƒŒåå´å¯èƒ½éšå«ç€ä¸€ä¸ªå‡è®¾ï¼Œå³æˆ‘ä»¬ä¸èƒ½ä¿®æ”¹a.hã€‚ä¸èƒ½ä¿®æ”¹çš„åŸå› å¯èƒ½æ¥è‡ªä¸¤ä¸ªæ–¹é¢ï¼š
  å¤´æ–‡ä»¶ä»£ç å±äºå…¶å®ƒå›¢é˜Ÿæˆ–è€…ç¬¬ä¸‰æ–¹å…¬å¸ï¼Œä½ æ²¡æœ‰ä¿®æ”¹ä»£ç çš„æƒé™ï¼›
  è™½ç„¶ä½ æ‹¥æœ‰ä¿®æ”¹ä»£ç çš„æƒé™ï¼Œä½†ç”±äºè¿™ä¸ªå¤´æ–‡ä»¶å±äºé—ç•™ç³»ç»Ÿï¼Œå†’ç„¶ä¿®æ”¹å¯èƒ½ä¼šå¸¦æ¥ä¸å¯é¢„çŸ¥çš„é—®é¢˜ã€‚
  å¯¹ äºç¬¬ä¸€ç§æƒ…å†µï¼Œä¸è¦è¯•å›¾è‡ªå·±è¿›è¡Œworkaroundï¼Œå› ä¸ºè¿™ä¼šç»™ä½ å¸¦æ¥ä¸å¿…è¦çš„éº»çƒ¦ã€‚æ­£ç¡®çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼ŒæŠŠå®ƒå½“ä½œä¸€ä¸ªbugï¼Œå‘é€ç¼ºé™·æŠ¥å‘Šç»™ç›¸åº”çš„å›¢é˜Ÿ æˆ–ç¬¬ä¸‰æ–¹å…¬å¸ã€‚
å¦‚æœæ˜¯è‡ªå·±å…¬å¸çš„å›¢é˜Ÿæˆ–ä½ å·²ç»ä»˜è´¹çš„ç¬¬ä¸‰æ–¹å…¬å¸ï¼Œä»–ä»¬æœ‰ä¹‰åŠ¡ä¸ºä½ è¿›è¡Œè¿™æ ·çš„ä¿®æ”¹ã€‚å¦‚æœä»–ä»¬ä¸æ˜ç™½è¿™ä»¶äº‹æƒ…çš„é‡è¦æ€§ï¼Œå‘Šè¯‰ä»–ä»¬ã€‚å¦‚æœè¿™äº›å¤´æ–‡ ä»¶å±äºä¸€ä¸ªå…è´¹å¼€æºè½¯ä»¶ï¼Œè‡ªå·±è¿›è¡Œæ­£ç¡®çš„ä¿®æ”¹ï¼Œå¹¶å‘å¸ƒpatchç»™å…¶å¼€å‘å›¢é˜Ÿã€‚
åœ¨ ç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œä½ éœ€è¦æŠ›å¼ƒæ‰è¿™ç§ä¸å¿…è¦çš„å®‰å…¨æ„è¯†ã€‚
å› ä¸ºï¼Œé¦–å…ˆï¼Œå¯¹äºå¤§å¤šæ•°å¤´æ–‡ä»¶è€Œè¨€ï¼Œè¿™ç§ä¿®æ”¹éƒ½ä¸æ˜¯ä¸€ç§å¤æ‚çš„ï¼Œé«˜é£é™©çš„ä¿®æ”¹ï¼Œä¸€åˆ‡éƒ½åœ¨å¯æ§çš„èŒƒå›´ä¹‹ å†…ï¼›
å…¶æ¬¡ï¼Œå¦‚æœæŸä¸ªå¤´æ–‡ä»¶æ··ä¹±è€Œå¤æ‚ï¼Œè™½ç„¶å¯¹äºé—ç•™ç³»ç»Ÿçš„å“²å­¦åº”è¯¥æ˜¯ï¼šâ€œåœ¨å®ƒè¿˜æ²¡æœ‰å¸¦æ¥éº»çƒ¦ä¹‹å‰ä¸è¦åŠ¨å®ƒâ€ï¼Œä½†ç°åœ¨éº»çƒ¦å·²ç»æ¥äº†ï¼Œé€ƒé¿ä¸å¦‚æ­£è§†ï¼Œæ‰€ä»¥ä¸Šç­– æ˜¯ï¼Œå°†å…¶è§†ä½œä¸€ä¸ªå¯ä»¥æ•´ç†åˆ°å¹²å‡€åˆç†çŠ¶æ€çš„è‰¯å¥½æœºä¼šã€‚
Q: æˆ‘ä»¬ä»£ç ä¸­å…³äºe x t e r n &ldquo;C&quot;çš„å†™æ³•å¦‚ä¸‹ï¼Œè¿™æ­£ç¡®å—?
A: ä¸ç¡®å®šã€‚
æŒ‰ç…§C++çš„è§„èŒƒå®šä¹‰ï¼Œ__cplusplus çš„å€¼åº”è¯¥è¢«å®šä¹‰ä¸º199711Lï¼Œè¿™æ˜¯ä¸€ä¸ªéé›¶çš„å€¼ï¼›å°½ç®¡æŸäº›ç¼–è¯‘å™¨å¹¶æ²¡æœ‰æŒ‰ç…§è§„èŒƒæ¥å®ç°ï¼Œä½†ä»ç„¶èƒ½å¤Ÿä¿è¯__cplusplusçš„å€¼ä¸ºéé›¶â€”â€”è‡³å°‘æˆ‘åˆ°ç›®å‰ä¸ºæ­¢è¿˜æ²¡æœ‰çœ‹åˆ°å“ªæ¬¾ç¼–è¯‘å™¨å°†å…¶å®ç°ä¸º0ã€‚
è¿™ç§æƒ…å†µä¸‹ï¼Œ#if __cplusplus &hellip; #endifå®Œå…¨æ˜¯å†—ä½™çš„ã€‚
ä½†ï¼ŒC++ç¼–è¯‘å™¨çš„å‚å•†æ˜¯å¦‚æ­¤ä¹‹å¤šï¼Œæ²¡æœ‰äººå¯ä»¥ä¿è¯æŸæ¬¾ç¼–è¯‘å™¨ï¼Œæˆ–æŸæ¬¾ç¼–è¯‘å™¨çš„æ—©æœŸç‰ˆæœ¬æ²¡æœ‰å°†__cplusplusçš„å€¼å®šä¹‰ä¸º0ã€‚
ä½†å³ä¾¿å¦‚æ­¤ï¼Œåªè¦èƒ½å¤Ÿä¿è¯å®__cplusplusåªåœ¨C++ç¼–è¯‘å™¨ä¸­è¢«é¢„å…ˆå®šä¹‰ ï¼Œé‚£ä¹ˆï¼Œä»…ä»…ä½¿ç”¨#ifdef __cplusplus â‹¯ #endifå°±è¶³ä»¥ç¡®ä¿æ„å›¾çš„æ­£ç¡®æ€§ï¼›é¢å¤–çš„ä½¿ç”¨#if __cplusplus &hellip; #endifåè€Œæ˜¯é”™è¯¯çš„ã€‚
åªæœ‰åœ¨è¿™ç§æƒ…å†µä¸‹ï¼šå³æŸä¸ªå‚å•†çš„Cè¯­è¨€å’ŒC++è¯­è¨€ç¼–è¯‘å™¨éƒ½é¢„å…ˆå®šä¹‰äº†__cplusplus ï¼Œä½†é€šè¿‡å…¶å€¼ä¸º0å’Œéé›¶æ¥è¿›è¡ŒåŒºåˆ†ï¼Œä½¿ç”¨#if __cplusplus &hellip; #endifæ‰æ˜¯æ­£ç¡®ä¸”å¿…è¦çš„ã€‚
æ—¢ç„¶ç°å®ä¸–ç•Œæ˜¯å¦‚æ­¤å¤æ‚ï¼Œä½ å°±éœ€è¦æ˜ç¡®è‡ªå·±çš„ç›®æ ‡ï¼Œç„¶åæ ¹æ®ç›®æ ‡å®šä¹‰ç›¸åº”çš„ç­–ç•¥ã€‚æ¯”å¦‚ï¼šå¦‚æœä½ çš„ç›®æ ‡æ˜¯è®©ä½ çš„ä»£ç èƒ½å¤Ÿä½¿ç”¨å‡ æ¬¾ä¸»æµçš„ã€æ­£ç¡®éµå®ˆäº†è§„èŒƒçš„ç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘ï¼Œé‚£ä¹ˆä½ åªéœ€è¦ç®€å•çš„ä½¿ç”¨#ifdef __cplusplus &hellip; #endifå°±è¶³å¤Ÿäº†ã€‚
ä½†å¦‚æœä½ çš„äº§å“æ˜¯ä¸€ä¸ªé›„å¿ƒå‹ƒå‹ƒçš„ï¼Œè¯•å›¾å…¼å®¹å„ç§ç¼–è¯‘å™¨çš„ï¼ˆåŒ…æ‹¬æœªçŸ¥çš„ï¼‰è·¨å¹³å°äº§å“ï¼Œ æˆ‘ä»¬å¯èƒ½ä¸å¾—ä¸ä½¿ç”¨ä¸‹è¿°æ–¹æ³•æ¥åº”å¯¹å„ç§æƒ…å†µ ï¼Œå…¶ä¸­__ALIEN_C_LINKAGE__æ˜¯ä¸ºäº†æ ‡è¯†é‚£äº›åœ¨Cå’ŒC++ç¼–è¯‘ä¸­éƒ½å®šä¹‰äº†__cpluspluså®çš„ç¼–è¯‘å™¨ã€‚
è¿™åº”è¯¥å¯ä»¥å·¥ä½œï¼Œä½†åœ¨æ¯ä¸ªå¤´æ–‡ä»¶ä¸­éƒ½å†™è¿™ä¹ˆä¸€å¤§ä¸²ï¼Œä¸ä»…æœ‰ç¢è§‚ç»ï¼Œè¿˜ä¼šé€ æˆä¸€æ—¦ç­–ç•¥è¿›è¡Œä¿®æ”¹ï¼Œå°±ä¼šåˆ°å¤„ä¿®æ”¹çš„çŠ¶å†µã€‚è¿åäº†DRY(Don&rsquo;t Repeat Yourself)åŸåˆ™ï¼Œä½ æ€»è¦ä¸ºä¹‹ä»˜å‡ºé¢å¤–çš„ä»£ä»·ã€‚è§£å†³å®ƒçš„ä¸€ä¸ªç®€å•æ–¹æ¡ˆæ˜¯ï¼Œå®šä¹‰ä¸€ä¸ªç‰¹å®šçš„å¤´æ–‡ä»¶â€”â€”æ¯”å¦‚clinkage.hï¼Œåœ¨å…¶ä¸­å¢åŠ è¿™æ ·çš„å®šä¹‰ï¼š
ä»¥ä¸‹ä¸¾ä¾‹ä¸­cçš„å‡½æ•°å£°æ˜å’Œå®šä¹‰åˆ†åˆ«åœ¨cfun.h å’Œ cfun.c ä¸­ï¼Œå‡½æ•°æ‰“å°å­—ç¬¦ä¸² â€œthis is c fun callâ€ï¼Œc++å‡½æ•°å£°æ˜å’Œå®šä¹‰åˆ†åˆ«åœ¨cppfun.h å’Œ cppfun.cppä¸­ï¼Œå‡½æ•°æ‰“å°å­—ç¬¦ä¸² &ldquo;this is cpp fun call&rdquo;, ç¼–è¯‘ç¯å¢ƒvc2010
c++ è°ƒç”¨ c çš„æ–¹æ³•ï¼ˆå…³é”®æ˜¯è¦è®©cçš„å‡½æ•°æŒ‰ç…§cçš„æ–¹å¼ç¼–è¯‘ï¼Œè€Œä¸æ˜¯c++çš„æ–¹å¼ï¼‰
ï¼ˆ1ï¼‰ cfun.hå¦‚ä¸‹ï¼š
#ifndef _C_FUN_H_ #define _C_FUN_H_  void cfun(); #endif cppfun.cpp å¦‚ä¸‹ï¼š
//#include &#34;cfun.h&#34; ä¸éœ€è¦åŒ…å«cfun.h #include &#34;cppfun.h&#34;#include &lt;iostream&gt;using namespace std; extern &#34;C&#34; void cfun(); //å£°æ˜ä¸º extern void cfun(); é”™è¯¯  void cppfun() { cout&lt;&lt;&#34;this is cpp fun call&#34;&lt;&lt;endl; } int main() { cfun(); return 0; } ï¼ˆ2ï¼‰cfun.håŒä¸Šï¼Œcppfun.cpp å¦‚ä¸‹ï¼š
extern &#34;C&#34; { #include &#34;cfun.h&#34;//æ³¨æ„includeè¯­å¥ä¸€å®šè¦å•ç‹¬å ä¸€è¡Œ;} #include &#34;cppfun.h&#34;#include &lt;iostream&gt;using namespace std; void cppfun() { cout&lt;&lt;&#34;this is cpp fun call&#34;&lt;&lt;endl; } int main() { cfun(); return 0; } ï¼ˆ3ï¼‰cfun.hå¦‚ä¸‹ï¼š
#ifndef _C_FUN_H_ #define _C_FUN_H_  #ifdef __cplusplus extern &#34;C&#34; { #endif  void cfun(); #ifdef __cplusplus } #endif  #endif cppfun.cppå¦‚ä¸‹ï¼š
#include &#34;cfun.h&#34;#include &#34;cppfun.h&#34;#include &lt;iostream&gt;using namespace std; void cppfun() { cout&lt;&lt;&#34;this is cpp fun call&#34;&lt;&lt;endl; } int main() { cfun(); return 0; } cè°ƒç”¨c++ï¼ˆå…³é”®æ˜¯C++ æä¾›ä¸€ä¸ªç¬¦åˆ C è°ƒç”¨æƒ¯ä¾‹çš„å‡½æ•°ï¼‰
åœ¨vs2010ä¸Šæµ‹è¯•æ—¶ï¼Œæ²¡æœ‰å£°æ˜ä»€ä¹ˆexternç­‰ï¼Œåªåœ¨åœ¨cfun.cä¸­åŒ…å«cppfun.hï¼Œç„¶åè°ƒç”¨cppfun()ä¹Ÿå¯ä»¥ç¼–è¯‘è¿è¡Œï¼Œåœ¨gccä¸‹å°±ç¼–è¯‘å‡ºé”™ï¼ŒæŒ‰ç…§c++/cçš„æ ‡å‡†è¿™ç§åšæ³•åº”è¯¥æ˜¯é”™è¯¯çš„ã€‚ä»¥ä¸‹æ–¹æ³•ä¸¤ç§ç¼–è¯‘å™¨éƒ½å¯ä»¥è¿è¡Œ
cppfun.hå¦‚ä¸‹ï¼š
#ifndef _CPP_FUN_H_ #define _CPP_FUN_H_  extern &#34;C&#34; void cppfun(); #endif cfun.cå¦‚ä¸‹ï¼š
//#include &#34;cppfun.h&#34; //ä¸è¦åŒ…å«å¤´æ–‡ä»¶ï¼Œå¦åˆ™ç¼–è¯‘å‡ºé”™ #include &#34;cfun.h&#34;#include &lt;stdio.h&gt; void cfun() { printf(&#34;this is c fun call\n&#34;); } extern void cppfun(); int main() { #ifdef __cplusplus  cfun(); #endif  cppfun(); return 0; } ]]></content>
  </entry>
  
  <entry>
    <title>é£æ²³ Helix è™šæ‹ŸåŒ–å¹³å°å’Œ VxWorks 653 æä¾›æ‰©å±•çš„å®‰å…¨è®¤è¯è¯æ®æ”¯æŒä»¥åŠ é€Ÿä¸‹ä¸€ä»£ A&D ç³»ç»Ÿçš„å¼€å‘</title>
    <url>/post/news/wind-river-helix-virtualization-platform-and-vxWorks-653-deliver-expanded-safety-certification.html</url>
    <categories><category>News</category>
    </categories>
    <tags>
      <tag>Wind River</tag>
      <tag>Helix Virtualization</tag>
      <tag>VxWorks 653</tag>
    </tags>
    <content type="html"><![CDATA[ä¸ºå…³é”®ä»»åŠ¡æ™ºèƒ½ç³»ç»Ÿæä¾›è½¯ä»¶çš„å…¨çƒé¢†å¯¼è€… Wind RiverÂ® ä»Šå¤©å®£å¸ƒæ‰©å±•å…¶è¡Œä¸šé¢†å…ˆå¹³å°çš„æ¶æ„æ”¯æŒï¼Œä»¥è¿›ä¸€æ­¥æ»¡è¶³é«˜åº¦è®¡ç®—çš„è‹›åˆ»éœ€æ±‚ - é‡å‹ä»»åŠ¡å…³é”®å‹åº”ç”¨ï¼Œç‰¹åˆ«æ˜¯é‚£äº›ä¸èˆªç©ºèˆªå¤©å’Œå›½é˜²å·¥ä¸šç›¸å…³çš„åº”ç”¨ã€‚
DO-178C DAL A è®¤è¯è¯æ®ç°å·²å¯ç”¨äº Armv8-A æ¶æ„çš„ Wind River Helixâ„¢ è™šæ‹ŸåŒ–å¹³å°ã€‚ æœ€æ–°ç‰ˆæœ¬çš„ VxWorks  Â® 653 ä¸º PowerPC æä¾›æ›´æ–°çš„ DO-178C DAL A è®¤è¯è¯æ®ã€‚
å…·æœ‰ DO-178C DAL A è¯æ®çš„ Helix å¹³å°æ˜¯ä¸€ä¸ªå®‰å…¨è®¤è¯çš„å¤šæ ¸ã€å¤šç§Ÿæˆ·å¹³å°ï¼Œæ”¯æŒå¤šä¸ªç‹¬ç«‹çš„å…³é”®çº§åˆ«ã€‚ å®ƒä¸“ä¸ºå„ç§å…³é”®ä»»åŠ¡è¡Œä¸šç”¨ä¾‹è€Œè®¾è®¡ï¼Œä¾‹å¦‚å•†ä¸šå’Œå†›äº‹èˆªç©ºç”µå­è®¾å¤‡ï¼Œå…è®¸å®¢æˆ·è¿è¡Œä¸å®‰å…¨çš„è½¯ä»¶ä»¥åŠç»è¿‡æœ€é«˜çº§åˆ«è®¤è¯çš„è½¯ä»¶ï¼Œè¿™äº›è½¯ä»¶æ¶‰åŠèˆªç©ºç”µå­è®¾å¤‡ (DO-178C)ã€æ±½è½¦ (ISO 26262)ã€å·¥ä¸š ( IEC 61508) å’Œå…¶ä»–ç±»ä¼¼æ ‡å‡†ã€‚ Helix Platform ä¹Ÿç¬¦åˆ ARINC 653 æ ‡å‡†ï¼Œå¹¶åœ¨æœ€æ–°çš„ç¡¬ä»¶å¹³å°ä¸Šæä¾›å¼ºå¤§çš„æ—¶é—´å’Œç©ºé—´åˆ†åŒºï¼Œä»¥ç¡®ä¿æ•…éšœéåˆ¶ä»¥åŠä»¥æœ€å°‘çš„æµ‹è¯•å’Œé›†æˆéœ€æ±‚å‡çº§åº”ç”¨ç¨‹åºçš„èƒ½åŠ›ã€‚
VxWorks 653ï¼Œå…·æœ‰DO-178C DAL Aè¯æ˜ï¼Œæ˜¯ä¸€ä¸ªå®‰å…¨å¯é çš„å¤šæ ¸ã€å¤šç§Ÿæˆ·å¹³å°ï¼Œå¯ç”¨äºPowerPCæ¶æ„ã€‚ VxWorks 653 ä¹Ÿç¬¦åˆ ARINC 653 æ ‡å‡†ï¼Œå…·æœ‰ä¸ Helix å¹³å°ç›¸åŒçš„ç¨³å¥æ€§ã€‚
â€œæ™ºèƒ½è¾¹ç¼˜çš„å‘å±•ä¸ºèˆªç©ºèˆªå¤©å’Œå›½é˜²ç­‰è¡Œä¸šæå‡ºäº†ä¸€ç³»åˆ—ç‹¬ç‰¹çš„è¦æ±‚å’ŒæŒ‘æˆ˜ï¼ŒåŒ…æ‹¬ä¸è®¤è¯éœ€æ±‚ç›¸å…³çš„å¤æ‚æ€§å¢åŠ ã€‚ éšç€ Helix å¹³å°å’Œ VxWorks 653 çš„æ›´æ–°å®‰å…¨è®¤è¯è¯æ®çš„å¯ç”¨æ€§ï¼Œæˆ‘ä»¬æ­£åœ¨ä¸ºæˆ‘ä»¬çš„å®¢æˆ·æä¾›æ›´å¤šçµæ´»æ€§å’ŒåŠ é€Ÿåˆ›æ–°çš„æœºä¼šï¼Œä»¥åˆ›å»ºä¸‹ä¸€ä»£å®‰å…¨å¯é çš„å¤šæ“ä½œç³»ç»Ÿæ™ºèƒ½è®¾å¤‡ï¼Œâ€é¦–å¸­äº§å“ Avijit Sinha è¯´ å†›å®˜ï¼Œé£æ²³ã€‚
é£æ²³æŠ€æœ¯å·²åœ¨æœ€å…·æŒ‘æˆ˜æ€§çš„å®‰å…¨å…³é”®å‹åº”ç”¨ä¸­å¾—åˆ°éªŒè¯ï¼Œä½¿ç»„ç»‡èƒ½å¤Ÿæ›´è½»æ¾ã€æ›´ç»æµåœ°æ»¡è¶³ EN 50128ã€IEC 61508ã€ISO 26262ã€DO-178C å’Œ ED-12C çš„ä¸¥æ ¼å®‰å…¨è®¤è¯è¦æ±‚ã€‚
å‡­å€Ÿåœ¨ 120 å¤šæ¶æ°‘ç”¨å’Œå†›ç”¨é£æœºçš„ 880 å¤šä¸ªå®‰å…¨é¡¹ç›®ä¸­å¾—åˆ° 400 å¤šå®¶å®¢æˆ·éªŒè¯çš„æŠ€æœ¯ï¼Œé£æ²³æ­£åœ¨æ¨åŠ¨èˆªç©ºèˆªå¤©å’Œå›½é˜²é¢†åŸŸå‘è½¯ä»¶å®šä¹‰ç³»ç»Ÿçš„è¿‡æ¸¡ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>ä¸‰æ˜Ÿç”µå­ç ”å‘å‡ºå…¶é¦–æ¬¾æ”¯æŒCXL 2.0çš„CXL DRAM</title>
    <url>/post/news/samsung-develops-first-CXL-DRAM-supporting-CXL-2.0.html</url>
    <categories><category>News</category>
    </categories>
    <tags>
      <tag>Samsung</tag>
      <tag>CXL 2.0</tag>
      <tag>CXL Memory</tag>
    </tags>
    <content type="html"><![CDATA[åŸºäºå…ˆè¿›CXL 2.0çš„128GB CXL DRAMå°†äºä»Šå¹´é‡äº§ï¼ŒåŠ é€Ÿä¸‹ä¸€ä»£å­˜å‚¨å™¨è§£å†³æ–¹æ¡ˆçš„å•†ç”¨åŒ–ï¼Œä¸‰æ˜Ÿå°†ç»§ç»­ä¸å…¨çƒæ•°æ®ä¸­å¿ƒã€æœåŠ¡å™¨ã€èŠ¯ç‰‡ä¼ä¸šåˆä½œï¼Œæ‰©å¤§CXLç”Ÿæ€ç³»ç»Ÿ
ä¸‰æ˜Ÿç”µå­ä»Šæ—¥å®£å¸ƒï¼Œç ”å‘å‡ºå…¶é¦–æ¬¾æ”¯æŒCompute Express Linkâ„¢ï¼ˆCXLâ„¢ï¼‰2.0çš„128GB DRAMã€‚åŒæ—¶ï¼Œä¸‰æ˜Ÿä¸è‹±ç‰¹å°”å¯†åˆ‡åˆä½œï¼Œåœ¨è‹±ç‰¹å°”Â®è‡³å¼ºÂ®å¹³å°ä¸Šå–å¾—äº†å…·æœ‰é‡Œç¨‹ç¢‘æ„ä¹‰çš„è¿›å±•ã€‚
ç»§2022å¹´äº”æœˆï¼Œä¸‰æ˜Ÿç”µå­ç ”å‘å‡ºå…¶é¦–æ¬¾åŸºäºCXL 1.1çš„CXL DRAMï¼ˆå†…å­˜æ‰©å±•å™¨ï¼‰åï¼Œåˆç»§ç»­æ¨å‡ºæ”¯æŒCXL 2.0çš„128GB CXL DRAMï¼Œé¢„è®¡å°†åŠ é€Ÿä¸‹ä¸€ä»£å­˜å‚¨è§£å†³æ–¹æ¡ˆçš„å•†ç”¨åŒ–ã€‚è¯¥è§£å†³æ–¹æ¡ˆæ”¯æŒPCIe 5.0ï¼ˆx8é€šé“ï¼‰ï¼Œæä¾›é«˜è¾¾æ¯ç§’35GBçš„å¸¦å®½ã€‚
ä¸‰æ˜Ÿç”µå­æ–°ä¸šåŠ¡ä¼åˆ’å‰¯æ€»è£Jangseok Choiè¡¨ç¤ºï¼š ä½œä¸ºCXLè”ç›Ÿçš„è‘£äº‹ä¼šæˆå‘˜ï¼Œä¸‰æ˜Ÿç”µå­åœ¨CXLæŠ€æœ¯ä¸Šä¸€ç›´å¤„äºå‰æ²¿åœ°ä½ï¼Œè¿™ä¸€çªç ´æ€§çš„è¿›å±•å¼ºåŒ–äº†æˆ‘ä»¬é€šè¿‡ä¸å…¨çƒå„åœ°çš„æ•°æ®ä¸­å¿ƒã€ä¼ä¸šçº§æœåŠ¡å™¨å’ŒèŠ¯ç‰‡å…¬å¸åˆä½œï¼Œè¿›ä¸€æ­¥æ‰©å¤§CXLç”Ÿæ€ç³»ç»Ÿçš„å†³å¿ƒã€‚
è‹±ç‰¹å°”å…¬å¸æŠ€æœ¯åˆ›æ–°æ€»ç›‘Jim Pappasè¡¨ç¤ºï¼š è‹±ç‰¹å°”å¾ˆé«˜å…´ä¸ä¸‰æ˜Ÿåˆä½œï¼Œå…±åŒæŠ•èµ„ä¸€ä¸ªå……æ»¡æ´»åŠ›çš„CXLç”Ÿæ€ç³»ç»Ÿã€‚è‹±ç‰¹å°”å°†ç»§ç»­ä¸ä¸‰æ˜Ÿæºæ‰‹ï¼Œä¿ƒè¿›åˆ›æ–°CXLäº§å“åœ¨æ•´ä¸ªè¡Œä¸šçš„å‘å±•å’Œé‡‡ç”¨ã€‚
æ¾œèµ·ç§‘æŠ€æ€»è£Stephen Taiè¡¨ç¤ºï¼š æ¾œèµ·ç§‘æŠ€å¾ˆé«˜å…´èƒ½å¤Ÿé‡äº§ç¬¬ä¸€æ‰¹æ”¯æŒCXL 2.0çš„æ§åˆ¶å™¨ï¼Œæˆ‘ä»¬æœŸå¾…ä¸ä¸‰æ˜Ÿç»§ç»­åŠ å¼ºåˆä½œï¼Œæ¨è¿›CXLæŠ€æœ¯å‘å±•å¹¶æ‰©å¤§å…¶ç”Ÿæ€ç³»ç»Ÿã€‚
CXL 2.0æ˜¯ä¸‰æ˜Ÿæœ‰å²ä»¥æ¥ç¬¬ä¸€ä¸ªæ”¯æŒå†…å­˜æ± ï¼ˆPoolingï¼‰çš„äº§å“ã€‚å†…å­˜æ± æ˜¯ä¸€ç§å†…å­˜ç®¡ç†æŠ€æœ¯ï¼Œå®ƒå°†æœåŠ¡å™¨å¹³å°ä¸Šçš„å¤šä¸ªCXLå†…å­˜å—ç»‘å®šåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå†…å­˜æ± ï¼Œä½¿å¤šä¸ªä¸»æœºèƒ½å¤Ÿæ ¹æ®éœ€è¦ä»æ± ä¸­åŠ¨æ€åˆ†é…å†…å­˜ã€‚è¿™é¡¹æ–°æŠ€æœ¯ä½¿å®¢æˆ·å°½å¯èƒ½çš„é™æœ¬å¢æ•ˆï¼Œä»è€Œå¸®åŠ©ä¼ä¸šå°†æœ‰é™çš„èµ„æºé‡æ–°æŠ•èµ„äºå¢å¼ºæœåŠ¡å™¨å†…å­˜ä¸­å»ã€‚
ä¸‰æ˜Ÿç”µå­è®¡åˆ’äºä»Šå¹´å¹´åº•ä¹‹å‰å¼€å§‹é‡äº§è¿™ä¸€æœ€æ–°çš„CXL 2.0 DRAMï¼Œå¹¶å‡†å¤‡æ¨å‡ºå¤šç§å®¹é‡çš„äº§å“ï¼Œä»¥æ»¡è¶³å¿«é€Ÿå˜åŒ–çš„ä¸‹ä¸€ä»£è®¡ç®—å¸‚åœºï¼Œè¿›ä¸€æ­¥åŠ é€Ÿæ‰©å¤§CXLç”Ÿæ€ç³»ç»Ÿã€‚
CXLä½œä¸ºä¸‹ä¸€ä»£ï¼Œèƒ½å¤Ÿä¸ºé«˜æ€§èƒ½æœåŠ¡å™¨ç³»ç»Ÿä¸­ä¸CPUä¸€èµ·ä½¿ç”¨çš„åŠ é€Ÿå™¨ã€DRAMå’Œå­˜å‚¨è®¾å¤‡æé«˜æ•ˆç‡ã€‚ç”±äºå®ƒä¸ä¸»å†…å­˜ï¼ˆmain DRAMï¼‰å…±åŒä½¿ç”¨æ—¶å¯æ‰©å¤§å¸¦å®½å’Œå®¹é‡ï¼Œè¯¥æŠ€æœ¯çš„è¿›æ­¥æœ‰æœ›åœ¨äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰å’Œæœºå™¨å­¦ä¹ ï¼ˆMLï¼‰ç­‰æ ¸å¿ƒæŠ€æœ¯ï¼Œå¯¹å¤„ç†é«˜é€Ÿæ•°æ®çš„éœ€æ±‚æå¤§å¢åŠ çš„ä¸‹ä¸€ä»£è®¡ç®—å¸‚åœºå¼•èµ·è½°åŠ¨ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>6ä¸ªä¸æˆˆç™»ãƒ»æ‘©å°”ç›¸å…³çš„å†·çŸ¥è¯†</title>
    <url>/post/news/6-trivia-about-Gordon-moore.html</url>
    <categories><category>News</category>
    </categories>
    <tags>
      <tag>Intel</tag>
      <tag>Integrated Electronics</tag>
      <tag>Gordon Moore</tag>
    </tags>
    <content type="html"><![CDATA[è‹±ç‰¹å°”çš„åˆ›å§‹äººæˆˆç™»ãƒ»æ‘©å°”äºä¸Šå‘¨äº”ï¼ˆ2023å¹´3æœˆ24æ—¥ï¼‰é€ä¸–ï¼Œäº«å¹´ 94 å²ï¼Œä»–çš„ä¸€ç”Ÿå¯¹è®¡ç®—æœºç§‘å­¦å’ŒåŠå¯¼ä½“å·¥ä¸šçš„å‘å±•åšå‡ºäº†å·¨å¤§çš„è´¡çŒ®ã€‚
ä»Šå¤©ç»™å¤§å®¶åˆ†äº«6ä¸ªä¸æˆˆç™»ãƒ»æ‘©å°”ç›¸å…³çš„â€œå†·çŸ¥è¯†â€ã€‚
]]></content>
  </entry>
  
  <entry>
    <title>åŒ—å—å—åŒ—</title>
    <url>/about.html</url>
    <categories>
    </categories>
    <tags>
    </tags>
    <content type="html"><![CDATA[åŒ—å—å—åŒ— æ˜¯ä¼—å¤šä½¿ç”¨ VxWorks åµŒå…¥å¼å®æ—¶æ“ä½œç³»ç»Ÿçš„ç½‘å‹åˆ†äº«ç»éªŒçš„å¹³å°ï¼Œä¸ºçš„å°±æ˜¯è®© VxWorks çš„å­¦ä¹ å’Œåº”ç”¨å˜å¾—ç›¸å¯¹å¼€æ”¾ä¸€äº›ï¼Œåœ¨æ­¤ä¹Ÿæ¬¢è¿ä½ çš„åŠ å…¥ï¼
æˆ‘ä»¬çš„æ„¿æ™¯ æŠ€æœ¯åˆ›æ–°æ˜¯æŠ€æœ¯æŒç»­å‘å±•çš„ç”Ÿå‘½åŠ›ï¼Œç´§è·ŸæŠ€æœ¯çš„å‘å±•è¶‹åŠ¿ï¼Œç ”ç©¶æœ€æ–°çš„æŠ€æœ¯ï¼Œä¿æŒå¯¹æ–°æŠ€æœ¯çš„çƒ­æƒ…å’Œå¥½å¥‡å¿ƒï¼Œè®©æŠ€æœ¯ä¸ºç”Ÿäº§å’Œç”Ÿæ´»æœåŠ¡ã€‚
ä½¿ç”¨åé¦ˆ  åŠ å…¥ VxWorks Club   æˆ– Google AI TPU     æ¬¢è¿ä½ çš„åŠ å…¥
 ]]></content>
  </entry>
  
  <entry>
    <title>å‹æƒ…é“¾æ¥</title>
    <url>/flinks.html</url>
    <categories>
    </categories>
    <tags>
    </tags>
    <content type="html"><![CDATA[å¦‚æƒ³äº¤æ¢æœ¬ç«™å‹æƒ…é“¾æ¥ï¼Œè¯·åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„ç«™ç‚¹ä¿¡æ¯ï¼Œæ ¼å¼å‚è€ƒå¦‚ä¸‹ï¼š
name: VxWorksä¿±ä¹éƒ¨ desc: VxWorkså®æ—¶æ“ä½œç³»ç»Ÿ link: https://www.vxworks.net ]]></content>
  </entry>
  
</search>